(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function gT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var fg={exports:{}},lu={};var lb;function z2(){if(lb)return lu;lb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var d=null;if(l!==void 0&&(d=""+l),o.key!==void 0&&(d=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:l}}return lu.Fragment=e,lu.jsx=t,lu.jsxs=t,lu}var cb;function L2(){return cb||(cb=1,fg.exports=z2()),fg.exports}var u=L2(),mg={exports:{}},He={};var ub;function P2(){if(ub)return He;ub=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function N(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function $(M,G,J){this.props=M,this.context=G,this.refs=j,this.updater=J||D}$.prototype.isReactComponent={},$.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=$.prototype;function H(M,G,J){this.props=M,this.context=G,this.refs=j,this.updater=J||D}var z=H.prototype=new q;z.constructor=H,P(z,$.prototype),z.isPureReactComponent=!0;var ie=Array.isArray;function he(){}var O={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(M,G,J){var se=J.ref;return{$$typeof:s,type:M,key:G,ref:se!==void 0?se:null,props:J}}function L(M,G){return C(M.type,G,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return G[J]})}var A=/\/+/g;function pe(M,G){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):G.toString(36)}function Ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(he,he):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,G,J,se,de){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(ye){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case e:ke=!0;break;case y:return ke=M._init,X(ke(M._payload),G,J,se,de)}}if(ke)return de=de(M),ke=se===""?"."+pe(M,0):se,ie(de)?(J="",ke!=null&&(J=ke.replace(A,"$&/")+"/"),X(de,G,J,"",function(Ce){return Ce})):de!=null&&(k(de)&&(de=L(de,J+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(A,"$&/")+"/")+ke)),G.push(de)),1;ke=0;var oe=se===""?".":se+":";if(ie(M))for(var fe=0;fe<M.length;fe++)se=M[fe],ye=oe+pe(se,fe),ke+=X(se,G,J,ye,de);else if(fe=N(M),typeof fe=="function")for(M=fe.call(M),fe=0;!(se=M.next()).done;)se=se.value,ye=oe+pe(se,fe++),ke+=X(se,G,J,ye,de);else if(ye==="object"){if(typeof M.then=="function")return X(Ie(M),G,J,se,de);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ke}function me(M,G,J){if(M==null)return M;var se=[],de=0;return X(M,se,"","",function(ye){return G.call(J,ye,de++)}),se}function Ae(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},we={map:me,forEach:function(M,G,J){me(M,function(){G.apply(this,arguments)},J)},count:function(M){var G=0;return me(M,function(){G++}),G},toArray:function(M){return me(M,function(G){return G})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return He.Activity=b,He.Children=we,He.Component=$,He.Fragment=t,He.Profiler=o,He.PureComponent=H,He.StrictMode=a,He.Suspense=g,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,He.__COMPILER_RUNTIME={__proto__:null,c:function(M){return O.H.useMemoCache(M)}},He.cache=function(M){return function(){return M.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(M,G,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=P({},M.props),de=M.key;if(G!=null)for(ye in G.key!==void 0&&(de=""+G.key),G)!I.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(se[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)se.children=J;else if(1<ye){for(var ke=Array(ye),oe=0;oe<ye;oe++)ke[oe]=arguments[oe+2];se.children=ke}return C(M.type,de,se)},He.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},He.createElement=function(M,G,J){var se,de={},ye=null;if(G!=null)for(se in G.key!==void 0&&(ye=""+G.key),G)I.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=G[se]);var ke=arguments.length-2;if(ke===1)de.children=J;else if(1<ke){for(var oe=Array(ke),fe=0;fe<ke;fe++)oe[fe]=arguments[fe+2];de.children=oe}if(M&&M.defaultProps)for(se in ke=M.defaultProps,ke)de[se]===void 0&&(de[se]=ke[se]);return C(M,ye,de)},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:m,render:M}},He.isValidElement=k,He.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:Ae}},He.memo=function(M,G){return{$$typeof:_,type:M,compare:G===void 0?null:G}},He.startTransition=function(M){var G=O.T,J={};O.T=J;try{var se=M(),de=O.S;de!==null&&de(J,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(he,ue)}catch(ye){ue(ye)}finally{G!==null&&J.types!==null&&(G.types=J.types),O.T=G}},He.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},He.use=function(M){return O.H.use(M)},He.useActionState=function(M,G,J){return O.H.useActionState(M,G,J)},He.useCallback=function(M,G){return O.H.useCallback(M,G)},He.useContext=function(M){return O.H.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M,G){return O.H.useDeferredValue(M,G)},He.useEffect=function(M,G){return O.H.useEffect(M,G)},He.useEffectEvent=function(M){return O.H.useEffectEvent(M)},He.useId=function(){return O.H.useId()},He.useImperativeHandle=function(M,G,J){return O.H.useImperativeHandle(M,G,J)},He.useInsertionEffect=function(M,G){return O.H.useInsertionEffect(M,G)},He.useLayoutEffect=function(M,G){return O.H.useLayoutEffect(M,G)},He.useMemo=function(M,G){return O.H.useMemo(M,G)},He.useOptimistic=function(M,G){return O.H.useOptimistic(M,G)},He.useReducer=function(M,G,J){return O.H.useReducer(M,G,J)},He.useRef=function(M){return O.H.useRef(M)},He.useState=function(M){return O.H.useState(M)},He.useSyncExternalStore=function(M,G,J){return O.H.useSyncExternalStore(M,G,J)},He.useTransition=function(){return O.H.useTransition()},He.version="19.2.4",He}var db;function S_(){return db||(db=1,mg.exports=P2()),mg.exports}var w=S_();const ao=gT(w);var pg={exports:{}},cu={},gg={exports:{}},_g={};var hb;function V2(){return hb||(hb=1,(function(s){function e(X,me){var Ae=X.length;X.push(me);e:for(;0<Ae;){var ue=Ae-1>>>1,we=X[ue];if(0<o(we,me))X[ue]=me,X[Ae]=we,Ae=ue;else break e}}function t(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var me=X[0],Ae=X.pop();if(Ae!==me){X[0]=Ae;e:for(var ue=0,we=X.length,M=we>>>1;ue<M;){var G=2*(ue+1)-1,J=X[G],se=G+1,de=X[se];if(0>o(J,Ae))se<we&&0>o(de,J)?(X[ue]=de,X[se]=Ae,ue=se):(X[ue]=J,X[G]=Ae,ue=G);else if(se<we&&0>o(de,Ae))X[ue]=de,X[se]=Ae,ue=se;else break e}}return me}function o(X,me){var Ae=X.sortIndex-me.sortIndex;return Ae!==0?Ae:X.id-me.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var g=[],_=[],y=1,b=null,S=3,N=!1,D=!1,P=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function z(X){for(var me=t(_);me!==null;){if(me.callback===null)a(_);else if(me.startTime<=X)a(_),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(_)}}function ie(X){if(P=!1,z(X),!D)if(t(g)!==null)D=!0,he||(he=!0,U());else{var me=t(_);me!==null&&Ie(ie,me.startTime-X)}}var he=!1,O=-1,I=5,C=-1;function L(){return j?!0:!(s.unstable_now()-C<I)}function k(){if(j=!1,he){var X=s.unstable_now();C=X;var me=!0;try{e:{D=!1,P&&(P=!1,q(O),O=-1),N=!0;var Ae=S;try{t:{for(z(X),b=t(g);b!==null&&!(b.expirationTime>X&&L());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,S=b.priorityLevel;var we=ue(b.expirationTime<=X);if(X=s.unstable_now(),typeof we=="function"){b.callback=we,z(X),me=!0;break t}b===t(g)&&a(g),z(X)}else a(g);b=t(g)}if(b!==null)me=!0;else{var M=t(_);M!==null&&Ie(ie,M.startTime-X),me=!1}}break e}finally{b=null,S=Ae,N=!1}me=void 0}}finally{me?U():he=!1}}}var U;if(typeof H=="function")U=function(){H(k)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,pe=A.port2;A.port1.onmessage=k,U=function(){pe.postMessage(null)}}else U=function(){$(k,0)};function Ie(X,me){O=$(function(){X(s.unstable_now())},me)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(X){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var Ae=S;S=me;try{return X()}finally{S=Ae}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(X,me){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ae=S;S=X;try{return me()}finally{S=Ae}},s.unstable_scheduleCallback=function(X,me,Ae){var ue=s.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?ue+Ae:ue):Ae=ue,X){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=Ae+we,X={id:y++,callback:me,priorityLevel:X,startTime:Ae,expirationTime:we,sortIndex:-1},Ae>ue?(X.sortIndex=Ae,e(_,X),t(g)===null&&X===t(_)&&(P?(q(O),O=-1):P=!0,Ie(ie,Ae-ue))):(X.sortIndex=we,e(g,X),D||N||(D=!0,he||(he=!0,U()))),X},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(X){var me=S;return function(){var Ae=S;S=me;try{return X.apply(this,arguments)}finally{S=Ae}}}})(_g)),_g}var fb;function U2(){return fb||(fb=1,gg.exports=V2()),gg.exports}var yg={exports:{}},Rn={};var mb;function B2(){if(mb)return Rn;mb=1;var s=S_();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)_+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,_,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:_,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rn.createPortal=function(g,_){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return l(g,_,null,y)},Rn.flushSync=function(g){var _=d.T,y=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=y,a.d.f()}},Rn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},Rn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Rn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var y=_.as,b=m(y,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;y==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):y==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Rn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var y=m(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},Rn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var y=_.as,b=m(y,_.crossOrigin);a.d.L(g,y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Rn.preloadModule=function(g,_){if(typeof g=="string")if(_){var y=m(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},Rn.requestFormReset=function(g){a.d.r(g)},Rn.unstable_batchedUpdates=function(g,_){return g(_)},Rn.useFormState=function(g,_,y){return d.H.useFormState(g,_,y)},Rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Rn.version="19.2.4",Rn}var pb;function _T(){if(pb)return yg.exports;pb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yg.exports=B2(),yg.exports}var gb;function q2(){if(gb)return cu;gb=1;var s=U2(),e=S_(),t=_T();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(a(188))}function _(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var r=n,c=i;;){var f=r.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===r)return g(f),n;if(p===c)return g(f),i;p=p.sibling}throw Error(a(188))}if(r.return!==c.return)r=f,c=p;else{for(var E=!1,x=f.child;x;){if(x===r){E=!0,r=f,c=p;break}if(x===c){E=!0,c=f,r=p;break}x=x.sibling}if(!E){for(x=p.child;x;){if(x===r){E=!0,r=p,c=f;break}if(x===c){E=!0,c=p,r=f;break}x=x.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==c)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var A=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===A?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case $:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case H:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return i=n.displayName||null,i!==null?i:pe(n.type)||"Memo";case I:i=n._payload,n=n._init;try{return pe(n(i))}catch{}}return null}var Ie=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},ue=[],we=-1;function M(n){return{current:n}}function G(n){0>we||(n.current=ue[we],ue[we]=null,we--)}function J(n,i){we++,ue[we]=n.current,n.current=i}var se=M(null),de=M(null),ye=M(null),ke=M(null);function oe(n,i){switch(J(ye,i),J(de,n),J(se,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?j0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=j0(i),n=k0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(se),J(se,n)}function fe(){G(se),G(de),G(ye)}function Ce(n){n.memoizedState!==null&&J(ke,n);var i=se.current,r=k0(i,n.type);i!==r&&(J(de,n),J(se,r))}function ft(n){de.current===n&&(G(se),G(de)),ke.current===n&&(G(ke),iu._currentValue=Ae)}var an,qn;function In(n){if(an===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);an=i&&i[1]||"",qn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+n+qn}var wr=!1;function Ir(n,i){if(!n||wr)return"";wr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var W=ee}Reflect.construct(n,[],le)}else{try{le.call()}catch(ee){W=ee}n.call(le.prototype)}}else{try{throw Error()}catch(ee){W=ee}(le=n())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),E=p[0],x=p[1];if(E&&x){var V=E.split(`
`),Y=x.split(`
`);for(f=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===V.length||f===Y.length)for(c=V.length-1,f=Y.length-1;1<=c&&0<=f&&V[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(V[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||V[c]!==Y[f]){var ne=`
`+V[c].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=c&&0<=f);break}}}finally{wr=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?In(r):""}function ac(n,i){switch(n.tag){case 26:case 27:case 5:return In(n.type);case 16:return In("Lazy");case 13:return n.child!==i&&i!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return Ir(n.type,!1);case 11:return Ir(n.type.render,!1);case 1:return Ir(n.type,!0);case 31:return In("Activity");default:return""}}function rc(n){try{var i="",r=null;do i+=ac(n,r),r=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ft=Object.prototype.hasOwnProperty,rn=s.unstable_scheduleCallback,ma=s.unstable_cancelCallback,pm=s.unstable_shouldYield,md=s.unstable_requestPaint,Ln=s.unstable_now,Rr=s.unstable_getCurrentPriorityLevel,oc=s.unstable_ImmediatePriority,lc=s.unstable_UserBlockingPriority,pa=s.unstable_NormalPriority,gm=s.unstable_LowPriority,pd=s.unstable_IdlePriority,gd=s.log,_d=s.unstable_setDisableYieldValue,Ms=null,pn=null;function ys(n){if(typeof gd=="function"&&_d(n),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Ms,n)}catch{}}var Lt=Math.clz32?Math.clz32:vd,yd=Math.log,zo=Math.LN2;function vd(n){return n>>>=0,n===0?32:31-(yd(n)/zo|0)|0}var ni=256,Nr=262144,Gt=4194304;function si(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ii(n,i,r){var c=n.pendingLanes;if(c===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~p,c!==0?f=si(c):(E&=x,E!==0?f=si(E):r||(r=x&~n,r!==0&&(f=si(r))))):(x=c&~p,x!==0?f=si(x):E!==0?f=si(E):r||(r=c&~n,r!==0&&(f=si(r)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:f}function zs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function _m(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bd(){var n=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),n}function ai(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function Cr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ym(n,i,r,c,f,p){var E=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var x=n.entanglements,V=n.expirationTimes,Y=n.hiddenUpdates;for(r=E&~r;0<r;){var ne=31-Lt(r),le=1<<ne;x[ne]=0,V[ne]=-1;var W=Y[ne];if(W!==null)for(Y[ne]=null,ne=0;ne<W.length;ne++){var ee=W[ne];ee!==null&&(ee.lane&=-536870913)}r&=~le}c!==0&&jr(n,c,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~i))}function jr(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Lt(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|r&261930}function cc(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var c=31-Lt(r),f=1<<c;f&i|n[c]&i&&(n[c]|=i),r&=~f}}function uc(n,i){var r=i&-i;return r=(r&42)!==0?1:kr(r),(r&(n.suspendedLanes|i))!==0?0:r}function kr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Pi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ed(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:tb(n.type))}function Ls(n,i){var r=me.p;try{return me.p=n,i()}finally{me.p=r}}var Ps=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ps,un="__reactProps$"+Ps,ri="__reactContainer$"+Ps,Lo="__reactEvents$"+Ps,vm="__reactListeners$"+Ps,Td="__reactHandles$"+Ps,Sd="__reactResources$"+Ps,oi="__reactMarker$"+Ps;function Po(n){delete n[Qt],delete n[un],delete n[Lo],delete n[vm],delete n[Td]}function li(n){var i=n[Qt];if(i)return i;for(var r=n.parentNode;r;){if(i=r[ri]||r[Qt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=V0(n);n!==null;){if(r=n[Qt])return r;n=V0(n)}return i}n=r,r=n.parentNode}return null}function vs(n){if(n=n[Qt]||n[ri]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function es(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ci(n){var i=n[Sd];return i||(i=n[Sd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Kt(n){n[oi]=!0}var dc=new Set,hc={};function ui(n,i){di(n,i),di(n+"Capture",i)}function di(n,i){for(hc[n]=i,n=0;n<i.length;n++)dc.add(i[n])}var fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mc={},pc={};function Ad(n){return Ft.call(pc,n)?!0:Ft.call(mc,n)?!1:fc.test(n)?pc[n]=!0:(mc[n]=!0,!1)}function Vo(n,i,r){if(Ad(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function ts(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function Yt(n,i,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+c)}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ga(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gc(n,i,r){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){r=""+E,p.call(this,E)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function mt(n){if(!n._valueTracker){var i=ga(n)?"checked":"value";n._valueTracker=gc(n,i,""+n[i])}}function Dr(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),c="";return n&&(c=ga(n)?n.checked?"true":"false":n.value),n=c,n!==r?(i.setValue(n),!0):!1}function hi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Or=/[\n"\\]/g;function Hn(n){return n.replace(Or,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uo(n,i,r,c,f,p,E,x){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+dn(i)):n.value!==""+dn(i)&&(n.value=""+dn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?_c(n,E,dn(i)):r!=null?_c(n,E,dn(r)):c!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+dn(x):n.removeAttribute("name")}function xd(n,i,r,c,f,p,E,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){mt(n);return}r=r!=null?""+dn(r):"",i=i!=null?""+dn(i):r,x||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),mt(n)}function _c(n,i,r){i==="number"&&hi(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function _a(n,i,r,c){if(n=n.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=i.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&c&&(n[r].defaultSelected=!0)}else{for(r=""+dn(r),i=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function wd(n,i,r){if(i!=null&&(i=""+dn(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+dn(r):""}function ya(n,i,r,c){if(i==null){if(c!=null){if(r!=null)throw Error(a(92));if(Ie(c)){if(1<c.length)throw Error(a(93));c=c[0]}r=c}r==null&&(r=""),i=r}r=dn(i),n.defaultValue=r,c=n.textContent,c===r&&c!==""&&c!==null&&(n.value=c),mt(n)}function $n(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var Id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(n,i,r){var c=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,r):typeof r!="number"||r===0||Id.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function vc(n,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&r[f]!==c&&yc(n,f,c)}else for(var p in i)i.hasOwnProperty(p)&&yc(n,p,i[p])}function Bo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),va=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(n){return va.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Vs(){}var bc=null;function bs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ba=null,fi=null;function Mr(n){var i=vs(n);if(i&&(n=i.stateNode)){var r=n[un]||null;e:switch(n=i.stateNode,i.type){case"input":if(Uo(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Hn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var c=r[i];if(c!==n&&c.form===n.form){var f=c[un]||null;if(!f)throw Error(a(90));Uo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)c=r[i],c.form===n.form&&Dr(c)}break e;case"textarea":wd(n,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&_a(n,!!r.multiple,i,!1)}}}var Ho=!1;function Ea(n,i,r){if(Ho)return n(i,r);Ho=!0;try{var c=n(i);return c}finally{if(Ho=!1,(ba!==null||fi!==null)&&(Eh(),ba&&(i=ba,n=fi,fi=ba=null,Mr(i),n)))for(i=0;i<n.length;i++)Mr(n[i])}}function Us(n,i){var r=n.stateNode;if(r===null)return null;var c=r[un]||null;if(c===null)return null;r=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Es)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){zr=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{zr=!1}var mi=null,Ec=null,Lr=null;function Tc(){if(Lr)return Lr;var n,i=Ec,r=i.length,c,f="value"in mi?mi.value:mi.textContent,p=f.length;for(n=0;n<r&&i[n]===f[n];n++);var E=r-n;for(c=1;c<=E&&i[r-c]===f[p-c];c++);return Lr=f.slice(n,1<c?1-c:void 0)}function Pr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Vi(){return!0}function Bs(){return!1}function gn(n){function i(r,c,f,p,E){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(r=n[x],this[x]=r?r(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Vi:Bs,this.isPropagationStopped=Bs,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=gn(Ui),Ta=b({},Ui,{view:0,detail:0}),Sc=gn(Ta),Sa,$o,gi,Fo=b({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Sa=n.screenX-gi.screenX,$o=n.screenY-gi.screenY):$o=Sa=0,gi=n),Sa)},movementY:function(n){return"movementY"in n?n.movementY:$o}}),Ac=gn(Fo),Vr=b({},Fo,{dataTransfer:0}),Nd=gn(Vr),Cd=b({},Ta,{relatedTarget:0}),Ur=gn(Cd),xc=b({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),jd=gn(xc),Go=b({},Ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kd=gn(Go),Dd=b({},Ui,{data:0}),_i=gn(Dd),Od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ld(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=zd[n])?!!i[n]:!1}function Aa(){return Ld}var Pn=b({},Ta,{key:function(n){if(n.key){var i=Od[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Md[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(n){return n.type==="keypress"?Pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pd=gn(Pn),Vd=b({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=gn(Vd),h=b({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),v=gn(h),T=b({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=gn(T),Q=b({},Fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=gn(Q),ge=b({},Ui,{newState:0,oldState:0}),Fe=gn(ge),Pt=[9,13,27,32],ct=Es&&"CompositionEvent"in window,It=null;Es&&"documentMode"in document&&(It=document.documentMode);var Ts=Es&&"TextEvent"in window&&!It,yi=Es&&(!ct||It&&8<It&&11>=It),qs=" ",Hs=!1;function Br(n,i){switch(n){case"keyup":return Pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ko=!1;function rw(n,i){switch(n){case"compositionend":return Qo(i);case"keypress":return i.which!==32?null:(Hs=!0,qs);case"textInput":return n=i.data,n===qs&&Hs?null:n;default:return null}}function ow(n,i){if(Ko)return n==="compositionend"||!ct&&Br(n,i)?(n=Tc(),Lr=Ec=mi=null,Ko=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!lw[n.type]:i==="textarea"}function Hy(n,i,r,c){ba?fi?fi.push(c):fi=[c]:ba=c,i=Rh(i,"onChange"),0<i.length&&(r=new pi("onChange","change",null,r,c),n.push({event:r,listeners:i}))}var wc=null,Ic=null;function cw(n){x0(n,0)}function Ud(n){var i=es(n);if(Dr(i))return n}function $y(n,i){if(n==="change")return i}var Fy=!1;if(Es){var bm;if(Es){var Em="oninput"in document;if(!Em){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Em=typeof Gy.oninput=="function"}bm=Em}else bm=!1;Fy=bm&&(!document.documentMode||9<document.documentMode)}function Qy(){wc&&(wc.detachEvent("onpropertychange",Ky),Ic=wc=null)}function Ky(n){if(n.propertyName==="value"&&Ud(Ic)){var i=[];Hy(i,Ic,n,bs(n)),Ea(cw,i)}}function uw(n,i,r){n==="focusin"?(Qy(),wc=i,Ic=r,wc.attachEvent("onpropertychange",Ky)):n==="focusout"&&Qy()}function dw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ud(Ic)}function hw(n,i){if(n==="click")return Ud(i)}function fw(n,i){if(n==="input"||n==="change")return Ud(i)}function mw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ns=typeof Object.is=="function"?Object.is:mw;function Rc(n,i){if(ns(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),c=Object.keys(i);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!Ft.call(i,f)||!ns(n[f],i[f]))return!1}return!0}function Yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wy(n,i){var r=Yy(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=i&&c>=i)return{node:r,offset:i-n};n=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yy(r)}}function Xy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Xy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Zy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=hi(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=hi(n.document)}return i}function Tm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var pw=Es&&"documentMode"in document&&11>=document.documentMode,Yo=null,Sm=null,Nc=null,Am=!1;function Jy(n,i,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Am||Yo==null||Yo!==hi(c)||(c=Yo,"selectionStart"in c&&Tm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nc&&Rc(Nc,c)||(Nc=c,c=Rh(Sm,"onSelect"),0<c.length&&(i=new pi("onSelect","select",null,i,r),n.push({event:i,listeners:c}),i.target=Yo)))}function qr(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Wo={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},xm={},ev={};Es&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Hr(n){if(xm[n])return xm[n];if(!Wo[n])return n;var i=Wo[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in ev)return xm[n]=i[r];return n}var tv=Hr("animationend"),nv=Hr("animationiteration"),sv=Hr("animationstart"),gw=Hr("transitionrun"),_w=Hr("transitionstart"),yw=Hr("transitioncancel"),iv=Hr("transitionend"),av=new Map,wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wm.push("scrollEnd");function $s(n,i){av.set(n,i),ui(i,[n])}var Bd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ss=[],Xo=0,Im=0;function qd(){for(var n=Xo,i=Im=Xo=0;i<n;){var r=Ss[i];Ss[i++]=null;var c=Ss[i];Ss[i++]=null;var f=Ss[i];Ss[i++]=null;var p=Ss[i];if(Ss[i++]=null,c!==null&&f!==null){var E=c.pending;E===null?f.next=f:(f.next=E.next,E.next=f),c.pending=f}p!==0&&rv(r,f,p)}}function Hd(n,i,r,c){Ss[Xo++]=n,Ss[Xo++]=i,Ss[Xo++]=r,Ss[Xo++]=c,Im|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Rm(n,i,r,c){return Hd(n,i,r,c),$d(n)}function $r(n,i){return Hd(n,null,null,i),$d(n)}function rv(n,i,r){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r);for(var f=!1,p=n.return;p!==null;)p.childLanes|=r,c=p.alternate,c!==null&&(c.childLanes|=r),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&i!==null&&(f=31-Lt(r),n=p.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=r|536870912),p):null}function $d(n){if(50<Xc)throw Xc=0,Lp=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Zo={};function vw(n,i,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(n,i,r,c){return new vw(n,i,r,c)}function Nm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qi(n,i){var r=n.alternate;return r===null?(r=ss(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function ov(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Fd(n,i,r,c,f,p){var E=0;if(c=n,typeof n=="function")Nm(n)&&(E=1);else if(typeof n=="string")E=A2(n,r,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=ss(31,r,i,f),n.elementType=C,n.lanes=p,n;case P:return Fr(r.children,f,p,i);case j:E=8,f|=24;break;case $:return n=ss(12,r,i,f|2),n.elementType=$,n.lanes=p,n;case ie:return n=ss(13,r,i,f),n.elementType=ie,n.lanes=p,n;case he:return n=ss(19,r,i,f),n.elementType=he,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:E=10;break e;case q:E=9;break e;case z:E=11;break e;case O:E=14;break e;case I:E=16,c=null;break e}E=29,r=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=ss(E,r,i,f),i.elementType=n,i.type=c,i.lanes=p,i}function Fr(n,i,r,c){return n=ss(7,n,c,i),n.lanes=r,n}function Cm(n,i,r){return n=ss(6,n,null,i),n.lanes=r,n}function lv(n){var i=ss(18,null,null,0);return i.stateNode=n,i}function jm(n,i,r){return i=ss(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var cv=new WeakMap;function As(n,i){if(typeof n=="object"&&n!==null){var r=cv.get(n);return r!==void 0?r:(i={value:n,source:i,stack:rc(i)},cv.set(n,i),i)}return{value:n,source:i,stack:rc(i)}}var Jo=[],el=0,Gd=null,Cc=0,xs=[],ws=0,xa=null,vi=1,bi="";function Hi(n,i){Jo[el++]=Cc,Jo[el++]=Gd,Gd=n,Cc=i}function uv(n,i,r){xs[ws++]=vi,xs[ws++]=bi,xs[ws++]=xa,xa=n;var c=vi;n=bi;var f=32-Lt(c)-1;c&=~(1<<f),r+=1;var p=32-Lt(i)+f;if(30<p){var E=f-f%5;p=(c&(1<<E)-1).toString(32),c>>=E,f-=E,vi=1<<32-Lt(i)+f|r<<f|c,bi=p+n}else vi=1<<p|r<<f|c,bi=n}function km(n){n.return!==null&&(Hi(n,1),uv(n,1,0))}function Dm(n){for(;n===Gd;)Gd=Jo[--el],Jo[el]=null,Cc=Jo[--el],Jo[el]=null;for(;n===xa;)xa=xs[--ws],xs[ws]=null,bi=xs[--ws],xs[ws]=null,vi=xs[--ws],xs[ws]=null}function dv(n,i){xs[ws++]=vi,xs[ws++]=bi,xs[ws++]=xa,vi=i.id,bi=i.overflow,xa=n}var _n=null,At=null,st=!1,wa=null,Is=!1,Om=Error(a(519));function Ia(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jc(As(i,n)),Om}function hv(n){var i=n.stateNode,r=n.type,c=n.memoizedProps;switch(i[Qt]=n,i[un]=c,r){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(r=0;r<Jc.length;r++)We(Jc[r],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),xd(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),ya(i,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||c.suppressHydrationWarning===!0||N0(i.textContent,r)?(c.popover!=null&&(We("beforetoggle",i),We("toggle",i)),c.onScroll!=null&&We("scroll",i),c.onScrollEnd!=null&&We("scrollend",i),c.onClick!=null&&(i.onclick=Vs),i=!0):i=!1,i||Ia(n,!0)}function fv(n){for(_n=n.return;_n;)switch(_n.tag){case 5:case 31:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:_n=_n.return}}function tl(n){if(n!==_n)return!1;if(!st)return fv(n),st=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Zp(n.type,n.memoizedProps)),r=!r),r&&At&&Ia(n),fv(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));At=P0(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));At=P0(n)}else i===27?(i=At,Ba(n.type)?(n=sg,sg=null,At=n):At=i):At=_n?Ns(n.stateNode.nextSibling):null;return!0}function Gr(){At=_n=null,st=!1}function Mm(){var n=wa;return n!==null&&(Kn===null?Kn=n:Kn.push.apply(Kn,n),wa=null),n}function jc(n){wa===null?wa=[n]:wa.push(n)}var zm=M(null),Qr=null,$i=null;function Ra(n,i,r){J(zm,i._currentValue),i._currentValue=r}function Fi(n){n._currentValue=zm.current,G(zm)}function Lm(n,i,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===r)break;n=n.return}}function Pm(n,i,r,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=f;for(var V=0;V<i.length;V++)if(x.context===i[V]){p.lanes|=r,x=p.alternate,x!==null&&(x.lanes|=r),Lm(p.return,r,n),c||(E=null);break e}p=x.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=r,p=E.alternate,p!==null&&(p.lanes|=r),Lm(E,r,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function nl(n,i,r,c){n=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var x=f.type;ns(f.pendingProps.value,E.value)||(n!==null?n.push(x):n=[x])}}else if(f===ke.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(iu):n=[iu])}f=f.return}n!==null&&Pm(i,n,r,c),i.flags|=262144}function Qd(n){for(n=n.firstContext;n!==null;){if(!ns(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Kr(n){Qr=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return mv(Qr,n)}function Kd(n,i){return Qr===null&&Kr(n),mv(n,i)}function mv(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},$i===null){if(n===null)throw Error(a(308));$i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else $i=$i.next=i;return r}var bw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},Ew=s.unstable_scheduleCallback,Tw=s.unstable_NormalPriority,Wt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new bw,data:new Map,refCount:0}}function kc(n){n.refCount--,n.refCount===0&&Ew(Tw,function(){n.controller.abort()})}var Dc=null,Um=0,sl=0,il=null;function Sw(n,i){if(Dc===null){var r=Dc=[];Um=0,sl=Hp(),il={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Um++,i.then(pv,pv),i}function pv(){if(--Um===0&&Dc!==null){il!==null&&(il.status="fulfilled");var n=Dc;Dc=null,sl=0,il=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Aw(n,i){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var gv=X.S;X.S=function(n,i){J1=Ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sw(n,i),gv!==null&&gv(n,i)};var Yr=M(null);function Bm(){var n=Yr.current;return n!==null?n:Et.pooledCache}function Yd(n,i){i===null?J(Yr,Yr.current):J(Yr,i.pool)}function _v(){var n=Bm();return n===null?null:{parent:Wt._currentValue,pool:n}}var al=Error(a(460)),qm=Error(a(474)),Wd=Error(a(542)),Xd={then:function(){}};function yv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function vv(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(Vs,Vs),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ev(n),n;default:if(typeof i.status=="string")i.then(Vs,Vs);else{if(n=Et,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ev(n),n}throw Xr=i,al}}function Wr(n){try{var i=n._init;return i(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Xr=r,al):r}}var Xr=null;function bv(){if(Xr===null)throw Error(a(459));var n=Xr;return Xr=null,n}function Ev(n){if(n===al||n===Wd)throw Error(a(483))}var rl=null,Oc=0;function Zd(n){var i=Oc;return Oc+=1,rl===null&&(rl=[]),vv(rl,n,i)}function Mc(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Jd(n,i){throw i.$$typeof===S?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Tv(n){function i(F,B){if(n){var K=F.deletions;K===null?(F.deletions=[B],F.flags|=16):K.push(B)}}function r(F,B){if(!n)return null;for(;B!==null;)i(F,B),B=B.sibling;return null}function c(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function f(F,B){return F=qi(F,B),F.index=0,F.sibling=null,F}function p(F,B,K){return F.index=K,n?(K=F.alternate,K!==null?(K=K.index,K<B?(F.flags|=67108866,B):K):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function E(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function x(F,B,K,ae){return B===null||B.tag!==6?(B=Cm(K,F.mode,ae),B.return=F,B):(B=f(B,K),B.return=F,B)}function V(F,B,K,ae){var De=K.type;return De===P?ne(F,B,K.props.children,ae,K.key):B!==null&&(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===I&&Wr(De)===B.type)?(B=f(B,K.props),Mc(B,K),B.return=F,B):(B=Fd(K.type,K.key,K.props,null,F.mode,ae),Mc(B,K),B.return=F,B)}function Y(F,B,K,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=jm(K,F.mode,ae),B.return=F,B):(B=f(B,K.children||[]),B.return=F,B)}function ne(F,B,K,ae,De){return B===null||B.tag!==7?(B=Fr(K,F.mode,ae,De),B.return=F,B):(B=f(B,K),B.return=F,B)}function le(F,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Cm(""+B,F.mode,K),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return K=Fd(B.type,B.key,B.props,null,F.mode,K),Mc(K,B),K.return=F,K;case D:return B=jm(B,F.mode,K),B.return=F,B;case I:return B=Wr(B),le(F,B,K)}if(Ie(B)||U(B))return B=Fr(B,F.mode,K,null),B.return=F,B;if(typeof B.then=="function")return le(F,Zd(B),K);if(B.$$typeof===H)return le(F,Kd(F,B),K);Jd(F,B)}return null}function W(F,B,K,ae){var De=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return De!==null?null:x(F,B,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return K.key===De?V(F,B,K,ae):null;case D:return K.key===De?Y(F,B,K,ae):null;case I:return K=Wr(K),W(F,B,K,ae)}if(Ie(K)||U(K))return De!==null?null:ne(F,B,K,ae,null);if(typeof K.then=="function")return W(F,B,Zd(K),ae);if(K.$$typeof===H)return W(F,B,Kd(F,K),ae);Jd(F,K)}return null}function ee(F,B,K,ae,De){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return F=F.get(K)||null,x(B,F,""+ae,De);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:return F=F.get(ae.key===null?K:ae.key)||null,V(B,F,ae,De);case D:return F=F.get(ae.key===null?K:ae.key)||null,Y(B,F,ae,De);case I:return ae=Wr(ae),ee(F,B,K,ae,De)}if(Ie(ae)||U(ae))return F=F.get(K)||null,ne(B,F,ae,De,null);if(typeof ae.then=="function")return ee(F,B,K,Zd(ae),De);if(ae.$$typeof===H)return ee(F,B,K,Kd(B,ae),De);Jd(B,ae)}return null}function Re(F,B,K,ae){for(var De=null,rt=null,Ne=B,Qe=B=0,Je=null;Ne!==null&&Qe<K.length;Qe++){Ne.index>Qe?(Je=Ne,Ne=null):Je=Ne.sibling;var ot=W(F,Ne,K[Qe],ae);if(ot===null){Ne===null&&(Ne=Je);break}n&&Ne&&ot.alternate===null&&i(F,Ne),B=p(ot,B,Qe),rt===null?De=ot:rt.sibling=ot,rt=ot,Ne=Je}if(Qe===K.length)return r(F,Ne),st&&Hi(F,Qe),De;if(Ne===null){for(;Qe<K.length;Qe++)Ne=le(F,K[Qe],ae),Ne!==null&&(B=p(Ne,B,Qe),rt===null?De=Ne:rt.sibling=Ne,rt=Ne);return st&&Hi(F,Qe),De}for(Ne=c(Ne);Qe<K.length;Qe++)Je=ee(Ne,F,Qe,K[Qe],ae),Je!==null&&(n&&Je.alternate!==null&&Ne.delete(Je.key===null?Qe:Je.key),B=p(Je,B,Qe),rt===null?De=Je:rt.sibling=Je,rt=Je);return n&&Ne.forEach(function(Ga){return i(F,Ga)}),st&&Hi(F,Qe),De}function Le(F,B,K,ae){if(K==null)throw Error(a(151));for(var De=null,rt=null,Ne=B,Qe=B=0,Je=null,ot=K.next();Ne!==null&&!ot.done;Qe++,ot=K.next()){Ne.index>Qe?(Je=Ne,Ne=null):Je=Ne.sibling;var Ga=W(F,Ne,ot.value,ae);if(Ga===null){Ne===null&&(Ne=Je);break}n&&Ne&&Ga.alternate===null&&i(F,Ne),B=p(Ga,B,Qe),rt===null?De=Ga:rt.sibling=Ga,rt=Ga,Ne=Je}if(ot.done)return r(F,Ne),st&&Hi(F,Qe),De;if(Ne===null){for(;!ot.done;Qe++,ot=K.next())ot=le(F,ot.value,ae),ot!==null&&(B=p(ot,B,Qe),rt===null?De=ot:rt.sibling=ot,rt=ot);return st&&Hi(F,Qe),De}for(Ne=c(Ne);!ot.done;Qe++,ot=K.next())ot=ee(Ne,F,Qe,ot.value,ae),ot!==null&&(n&&ot.alternate!==null&&Ne.delete(ot.key===null?Qe:ot.key),B=p(ot,B,Qe),rt===null?De=ot:rt.sibling=ot,rt=ot);return n&&Ne.forEach(function(M2){return i(F,M2)}),st&&Hi(F,Qe),De}function bt(F,B,K,ae){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case N:e:{for(var De=K.key;B!==null;){if(B.key===De){if(De=K.type,De===P){if(B.tag===7){r(F,B.sibling),ae=f(B,K.props.children),ae.return=F,F=ae;break e}}else if(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===I&&Wr(De)===B.type){r(F,B.sibling),ae=f(B,K.props),Mc(ae,K),ae.return=F,F=ae;break e}r(F,B);break}else i(F,B);B=B.sibling}K.type===P?(ae=Fr(K.props.children,F.mode,ae,K.key),ae.return=F,F=ae):(ae=Fd(K.type,K.key,K.props,null,F.mode,ae),Mc(ae,K),ae.return=F,F=ae)}return E(F);case D:e:{for(De=K.key;B!==null;){if(B.key===De)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){r(F,B.sibling),ae=f(B,K.children||[]),ae.return=F,F=ae;break e}else{r(F,B);break}else i(F,B);B=B.sibling}ae=jm(K,F.mode,ae),ae.return=F,F=ae}return E(F);case I:return K=Wr(K),bt(F,B,K,ae)}if(Ie(K))return Re(F,B,K,ae);if(U(K)){if(De=U(K),typeof De!="function")throw Error(a(150));return K=De.call(K),Le(F,B,K,ae)}if(typeof K.then=="function")return bt(F,B,Zd(K),ae);if(K.$$typeof===H)return bt(F,B,Kd(F,K),ae);Jd(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(r(F,B.sibling),ae=f(B,K),ae.return=F,F=ae):(r(F,B),ae=Cm(K,F.mode,ae),ae.return=F,F=ae),E(F)):r(F,B)}return function(F,B,K,ae){try{Oc=0;var De=bt(F,B,K,ae);return rl=null,De}catch(Ne){if(Ne===al||Ne===Wd)throw Ne;var rt=ss(29,Ne,null,F.mode);return rt.lanes=ae,rt.return=F,rt}}}var Zr=Tv(!0),Sv=Tv(!1),Na=!1;function Hm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $m(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ca(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ja(n,i,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=$d(n),rv(n,null,r),i}return Hd(n,c,i,r),$d(n)}function zc(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,cc(n,r)}}function Fm(n,i){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,r=r.next}while(r!==null);p===null?f=p=i:p=p.next=i}else f=p=i;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var Gm=!1;function Lc(){if(Gm){var n=il;if(n!==null)throw n}}function Pc(n,i,r,c){Gm=!1;var f=n.updateQueue;Na=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var V=x,Y=V.next;V.next=null,E===null?p=Y:E.next=Y,E=V;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,x=ne.lastBaseUpdate,x!==E&&(x===null?ne.firstBaseUpdate=Y:x.next=Y,ne.lastBaseUpdate=V))}if(p!==null){var le=f.baseState;E=0,ne=Y=V=null,x=p;do{var W=x.lane&-536870913,ee=W!==x.lane;if(ee?(Ze&W)===W:(c&W)===W){W!==0&&W===sl&&(Gm=!0),ne!==null&&(ne=ne.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Re=n,Le=x;W=i;var bt=r;switch(Le.tag){case 1:if(Re=Le.payload,typeof Re=="function"){le=Re.call(bt,le,W);break e}le=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Le.payload,W=typeof Re=="function"?Re.call(bt,le,W):Re,W==null)break e;le=b({},le,W);break e;case 2:Na=!0}}W=x.callback,W!==null&&(n.flags|=64,ee&&(n.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ne===null?(Y=ne=ee,V=le):ne=ne.next=ee,E|=W;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);ne===null&&(V=le),f.baseState=V,f.firstBaseUpdate=Y,f.lastBaseUpdate=ne,p===null&&(f.shared.lanes=0),za|=E,n.lanes=E,n.memoizedState=le}}function Av(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function xv(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Av(r[n],i)}var ol=M(null),eh=M(0);function wv(n,i){n=ea,J(eh,n),J(ol,i),ea=n|i.baseLanes}function Qm(){J(eh,ea),J(ol,ol.current)}function Km(){ea=eh.current,G(ol),G(eh)}var is=M(null),Rs=null;function ka(n){var i=n.alternate;J(Vt,Vt.current&1),J(is,n),Rs===null&&(i===null||ol.current!==null||i.memoizedState!==null)&&(Rs=n)}function Ym(n){J(Vt,Vt.current),J(is,n),Rs===null&&(Rs=n)}function Iv(n){n.tag===22?(J(Vt,Vt.current),J(is,n),Rs===null&&(Rs=n)):Da()}function Da(){J(Vt,Vt.current),J(is,is.current)}function as(n){G(is),Rs===n&&(Rs=null),G(Vt)}var Vt=M(0);function th(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||tg(r)||ng(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Ge=null,yt=null,Xt=null,nh=!1,ll=!1,Jr=!1,sh=0,Vc=0,cl=null,xw=0;function Dt(){throw Error(a(321))}function Wm(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!ns(n[r],i[r]))return!1;return!0}function Xm(n,i,r,c,f,p){return Gi=p,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?u1:hp,Jr=!1,p=r(c,f),Jr=!1,ll&&(p=Nv(i,r,c,f)),Rv(n),p}function Rv(n){X.H=qc;var i=yt!==null&&yt.next!==null;if(Gi=0,Xt=yt=Ge=null,nh=!1,Vc=0,cl=null,i)throw Error(a(300));n===null||Zt||(n=n.dependencies,n!==null&&Qd(n)&&(Zt=!0))}function Nv(n,i,r,c){Ge=n;var f=0;do{if(ll&&(cl=null),Vc=0,ll=!1,25<=f)throw Error(a(301));if(f+=1,Xt=yt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=d1,p=i(r,c)}while(ll);return p}function ww(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Uc(i):i,n=n.useState()[0],(yt!==null?yt.memoizedState:null)!==n&&(Ge.flags|=1024),i}function Zm(){var n=sh!==0;return sh=0,n}function Jm(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function ep(n){if(nh){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nh=!1}Gi=0,Xt=yt=Ge=null,ll=!1,Vc=sh=0,cl=null}function Vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ge.memoizedState=Xt=n:Xt=Xt.next=n,Xt}function Ut(){if(yt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Xt===null?Ge.memoizedState:Xt.next;if(i!==null)Xt=i,yt=n;else{if(n===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Xt===null?Ge.memoizedState=Xt=n:Xt=Xt.next=n}return Xt}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uc(n){var i=Vc;return Vc+=1,cl===null&&(cl=[]),n=vv(cl,n,i),i=Ge,(Xt===null?i.memoizedState:Xt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?u1:hp),n}function ah(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Uc(n);if(n.$$typeof===H)return yn(n)}throw Error(a(438,String(n)))}function tp(n){var i=null,r=Ge.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=ih(),Ge.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),c=0;c<n;c++)r[c]=L;return i.index++,r}function Qi(n,i){return typeof i=="function"?i(n):i}function rh(n){var i=Ut();return np(i,yt,n)}function np(n,i,r){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var f=n.baseQueue,p=c.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,c.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{i=f.next;var x=E=null,V=null,Y=i,ne=!1;do{var le=Y.lane&-536870913;if(le!==Y.lane?(Ze&le)===le:(Gi&le)===le){var W=Y.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),le===sl&&(ne=!0);else if((Gi&W)===W){Y=Y.next,W===sl&&(ne=!0);continue}else le={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=le,E=p):V=V.next=le,Ge.lanes|=W,za|=W;le=Y.action,Jr&&r(p,le),p=Y.hasEagerState?Y.eagerState:r(p,le)}else W={lane:le,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=W,E=p):V=V.next=W,Ge.lanes|=le,za|=le;Y=Y.next}while(Y!==null&&Y!==i);if(V===null?E=p:V.next=x,!ns(p,n.memoizedState)&&(Zt=!0,ne&&(r=il,r!==null)))throw r;n.memoizedState=p,n.baseState=E,n.baseQueue=V,c.lastRenderedState=p}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function sp(n){var i=Ut(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var c=r.dispatch,f=r.pending,p=i.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);ns(p,i.memoizedState)||(Zt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,c]}function Cv(n,i,r){var c=Ge,f=Ut(),p=st;if(p){if(r===void 0)throw Error(a(407));r=r()}else r=i();var E=!ns((yt||f).memoizedState,r);if(E&&(f.memoizedState=r,Zt=!0),f=f.queue,rp(Dv.bind(null,c,f,n),[n]),f.getSnapshot!==i||E||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,ul(9,{destroy:void 0},kv.bind(null,c,f,r,i),null),Et===null)throw Error(a(349));p||(Gi&127)!==0||jv(c,i,r)}return r}function jv(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=Ge.updateQueue,i===null?(i=ih(),Ge.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function kv(n,i,r,c){i.value=r,i.getSnapshot=c,Ov(i)&&Mv(n)}function Dv(n,i,r){return r(function(){Ov(i)&&Mv(n)})}function Ov(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!ns(n,r)}catch{return!0}}function Mv(n){var i=$r(n,2);i!==null&&Yn(i,n,2)}function ip(n){var i=Vn();if(typeof n=="function"){var r=n;if(n=r(),Jr){ys(!0);try{r()}finally{ys(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},i}function zv(n,i,r,c){return n.baseState=r,np(n,yt,typeof c=="function"?c:Qi)}function Iw(n,i,r,c,f){if(ch(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};X.T!==null?r(!0):p.isTransition=!1,c(p),r=i.pending,r===null?(p.next=i.pending=p,Lv(i,p)):(p.next=r.next,i.pending=r.next=p)}}function Lv(n,i){var r=i.action,c=i.payload,f=n.state;if(i.isTransition){var p=X.T,E={};X.T=E;try{var x=r(f,c),V=X.S;V!==null&&V(E,x),Pv(n,i,x)}catch(Y){ap(n,i,Y)}finally{p!==null&&E.types!==null&&(p.types=E.types),X.T=p}}else try{p=r(f,c),Pv(n,i,p)}catch(Y){ap(n,i,Y)}}function Pv(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Vv(n,i,c)},function(c){return ap(n,i,c)}):Vv(n,i,r)}function Vv(n,i,r){i.status="fulfilled",i.value=r,Uv(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Lv(n,r)))}function ap(n,i,r){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=r,Uv(i),i=i.next;while(i!==c)}n.action=null}function Uv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Bv(n,i){return i}function qv(n,i){if(st){var r=Et.formState;if(r!==null){e:{var c=Ge;if(st){if(At){t:{for(var f=At,p=Is;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ns(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){At=Ns(f.nextSibling),c=f.data==="F!";break e}}Ia(c)}c=!1}c&&(i=r[0])}}return r=Vn(),r.memoizedState=r.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bv,lastRenderedState:i},r.queue=c,r=o1.bind(null,Ge,c),c.dispatch=r,c=ip(!1),p=dp.bind(null,Ge,!1,c.queue),c=Vn(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,r=Iw.bind(null,Ge,f,p,r),f.dispatch=r,c.memoizedState=n,[i,r,!1]}function Hv(n){var i=Ut();return $v(i,yt,n)}function $v(n,i,r){if(i=np(n,i,Bv)[0],n=rh(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Uc(i)}catch(E){throw E===al?Wd:E}else c=i;i=Ut();var f=i.queue,p=f.dispatch;return r!==i.memoizedState&&(Ge.flags|=2048,ul(9,{destroy:void 0},Rw.bind(null,f,r),null)),[c,p,n]}function Rw(n,i){n.action=i}function Fv(n){var i=Ut(),r=yt;if(r!==null)return $v(i,r,n);Ut(),i=i.memoizedState,r=Ut();var c=r.queue.dispatch;return r.memoizedState=n,[i,c,!1]}function ul(n,i,r,c){return n={tag:n,create:r,deps:c,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=ih(),Ge.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,i.lastEffect=n),n}function Gv(){return Ut().memoizedState}function oh(n,i,r,c){var f=Vn();Ge.flags|=n,f.memoizedState=ul(1|i,{destroy:void 0},r,c===void 0?null:c)}function lh(n,i,r,c){var f=Ut();c=c===void 0?null:c;var p=f.memoizedState.inst;yt!==null&&c!==null&&Wm(c,yt.memoizedState.deps)?f.memoizedState=ul(i,p,r,c):(Ge.flags|=n,f.memoizedState=ul(1|i,p,r,c))}function Qv(n,i){oh(8390656,8,n,i)}function rp(n,i){lh(2048,8,n,i)}function Nw(n){Ge.flags|=4;var i=Ge.updateQueue;if(i===null)i=ih(),Ge.updateQueue=i,i.events=[n];else{var r=i.events;r===null?i.events=[n]:r.push(n)}}function Kv(n){var i=Ut().memoizedState;return Nw({ref:i,nextImpl:n}),function(){if((ut&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Yv(n,i){return lh(4,2,n,i)}function Wv(n,i){return lh(4,4,n,i)}function Xv(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Zv(n,i,r){r=r!=null?r.concat([n]):null,lh(4,4,Xv.bind(null,i,n),r)}function op(){}function Jv(n,i){var r=Ut();i=i===void 0?null:i;var c=r.memoizedState;return i!==null&&Wm(i,c[1])?c[0]:(r.memoizedState=[n,i],n)}function e1(n,i){var r=Ut();i=i===void 0?null:i;var c=r.memoizedState;if(i!==null&&Wm(i,c[1]))return c[0];if(c=n(),Jr){ys(!0);try{n()}finally{ys(!1)}}return r.memoizedState=[c,i],c}function lp(n,i,r){return r===void 0||(Gi&1073741824)!==0&&(Ze&261930)===0?n.memoizedState=i:(n.memoizedState=r,n=t0(),Ge.lanes|=n,za|=n,r)}function t1(n,i,r,c){return ns(r,i)?r:ol.current!==null?(n=lp(n,r,c),ns(n,i)||(Zt=!0),n):(Gi&42)===0||(Gi&1073741824)!==0&&(Ze&261930)===0?(Zt=!0,n.memoizedState=r):(n=t0(),Ge.lanes|=n,za|=n,i)}function n1(n,i,r,c,f){var p=me.p;me.p=p!==0&&8>p?p:8;var E=X.T,x={};X.T=x,dp(n,!1,i,r);try{var V=f(),Y=X.S;if(Y!==null&&Y(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=Aw(V,c);Bc(n,i,ne,ls(n))}else Bc(n,i,c,ls(n))}catch(le){Bc(n,i,{then:function(){},status:"rejected",reason:le},ls())}finally{me.p=p,E!==null&&x.types!==null&&(E.types=x.types),X.T=E}}function Cw(){}function cp(n,i,r,c){if(n.tag!==5)throw Error(a(476));var f=s1(n).queue;n1(n,f,i,Ae,r===null?Cw:function(){return i1(n),r(c)})}function s1(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:Ae},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function i1(n){var i=s1(n);i.next===null&&(i=n.alternate.memoizedState),Bc(n,i.next.queue,{},ls())}function up(){return yn(iu)}function a1(){return Ut().memoizedState}function r1(){return Ut().memoizedState}function jw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=ls();n=Ca(r);var c=ja(i,n,r);c!==null&&(Yn(c,i,r),zc(c,i,r)),i={cache:Vm()},n.payload=i;return}i=i.return}}function kw(n,i,r){var c=ls();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ch(n)?l1(i,r):(r=Rm(n,i,r,c),r!==null&&(Yn(r,n,c),c1(r,i,c)))}function o1(n,i,r){var c=ls();Bc(n,i,r,c)}function Bc(n,i,r,c){var f={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ch(n))l1(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,x=p(E,r);if(f.hasEagerState=!0,f.eagerState=x,ns(x,E))return Hd(n,i,f,0),Et===null&&qd(),!1}catch{}if(r=Rm(n,i,f,c),r!==null)return Yn(r,n,c),c1(r,i,c),!0}return!1}function dp(n,i,r,c){if(c={lane:2,revertLane:Hp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ch(n)){if(i)throw Error(a(479))}else i=Rm(n,r,c,2),i!==null&&Yn(i,n,2)}function ch(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function l1(n,i){ll=nh=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function c1(n,i,r){if((r&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,cc(n,r)}}var qc={readContext:yn,use:ah,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};qc.useEffectEvent=Dt;var u1={readContext:yn,use:ah,useCallback:function(n,i){return Vn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:Qv,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,oh(4194308,4,Xv.bind(null,i,n),r)},useLayoutEffect:function(n,i){return oh(4194308,4,n,i)},useInsertionEffect:function(n,i){oh(4,2,n,i)},useMemo:function(n,i){var r=Vn();i=i===void 0?null:i;var c=n();if(Jr){ys(!0);try{n()}finally{ys(!1)}}return r.memoizedState=[c,i],c},useReducer:function(n,i,r){var c=Vn();if(r!==void 0){var f=r(i);if(Jr){ys(!0);try{r(i)}finally{ys(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=kw.bind(null,Ge,n),[c.memoizedState,n]},useRef:function(n){var i=Vn();return n={current:n},i.memoizedState=n},useState:function(n){n=ip(n);var i=n.queue,r=o1.bind(null,Ge,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:op,useDeferredValue:function(n,i){var r=Vn();return lp(r,n,i)},useTransition:function(){var n=ip(!1);return n=n1.bind(null,Ge,n.queue,!0,!1),Vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var c=Ge,f=Vn();if(st){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),Et===null)throw Error(a(349));(Ze&127)!==0||jv(c,i,r)}f.memoizedState=r;var p={value:r,getSnapshot:i};return f.queue=p,Qv(Dv.bind(null,c,p,n),[n]),c.flags|=2048,ul(9,{destroy:void 0},kv.bind(null,c,p,r,i),null),r},useId:function(){var n=Vn(),i=Et.identifierPrefix;if(st){var r=bi,c=vi;r=(c&~(1<<32-Lt(c)-1)).toString(32)+r,i="_"+i+"R_"+r,r=sh++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=xw++,i="_"+i+"r_"+r.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:up,useFormState:qv,useActionState:qv,useOptimistic:function(n){var i=Vn();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=dp.bind(null,Ge,!0,r),r.dispatch=i,[n,i]},useMemoCache:tp,useCacheRefresh:function(){return Vn().memoizedState=jw.bind(null,Ge)},useEffectEvent:function(n){var i=Vn(),r={impl:n};return i.memoizedState=r,function(){if((ut&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},hp={readContext:yn,use:ah,useCallback:Jv,useContext:yn,useEffect:rp,useImperativeHandle:Zv,useInsertionEffect:Yv,useLayoutEffect:Wv,useMemo:e1,useReducer:rh,useRef:Gv,useState:function(){return rh(Qi)},useDebugValue:op,useDeferredValue:function(n,i){var r=Ut();return t1(r,yt.memoizedState,n,i)},useTransition:function(){var n=rh(Qi)[0],i=Ut().memoizedState;return[typeof n=="boolean"?n:Uc(n),i]},useSyncExternalStore:Cv,useId:a1,useHostTransitionStatus:up,useFormState:Hv,useActionState:Hv,useOptimistic:function(n,i){var r=Ut();return zv(r,yt,n,i)},useMemoCache:tp,useCacheRefresh:r1};hp.useEffectEvent=Kv;var d1={readContext:yn,use:ah,useCallback:Jv,useContext:yn,useEffect:rp,useImperativeHandle:Zv,useInsertionEffect:Yv,useLayoutEffect:Wv,useMemo:e1,useReducer:sp,useRef:Gv,useState:function(){return sp(Qi)},useDebugValue:op,useDeferredValue:function(n,i){var r=Ut();return yt===null?lp(r,n,i):t1(r,yt.memoizedState,n,i)},useTransition:function(){var n=sp(Qi)[0],i=Ut().memoizedState;return[typeof n=="boolean"?n:Uc(n),i]},useSyncExternalStore:Cv,useId:a1,useHostTransitionStatus:up,useFormState:Fv,useActionState:Fv,useOptimistic:function(n,i){var r=Ut();return yt!==null?zv(r,yt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:tp,useCacheRefresh:r1};d1.useEffectEvent=Kv;function fp(n,i,r,c){i=n.memoizedState,r=r(c,i),r=r==null?i:b({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var mp={enqueueSetState:function(n,i,r){n=n._reactInternals;var c=ls(),f=Ca(c);f.payload=i,r!=null&&(f.callback=r),i=ja(n,f,c),i!==null&&(Yn(i,n,c),zc(i,n,c))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var c=ls(),f=Ca(c);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=ja(n,f,c),i!==null&&(Yn(i,n,c),zc(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=ls(),c=Ca(r);c.tag=2,i!=null&&(c.callback=i),i=ja(n,c,r),i!==null&&(Yn(i,n,r),zc(i,n,r))}};function h1(n,i,r,c,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,E):i.prototype&&i.prototype.isPureReactComponent?!Rc(r,c)||!Rc(f,p):!0}function f1(n,i,r,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,c),i.state!==n&&mp.enqueueReplaceState(i,i.state,null)}function eo(n,i){var r=i;if("ref"in i){r={};for(var c in i)c!=="ref"&&(r[c]=i[c])}if(n=n.defaultProps){r===i&&(r=b({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}function m1(n){Bd(n)}function p1(n){console.error(n)}function g1(n){Bd(n)}function uh(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function _1(n,i,r){try{var c=n.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pp(n,i,r){return r=Ca(r),r.tag=3,r.payload={element:null},r.callback=function(){uh(n,i)},r}function y1(n){return n=Ca(n),n.tag=3,n}function v1(n,i,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;n.payload=function(){return f(p)},n.callback=function(){_1(i,r,c)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){_1(i,r,c),typeof f!="function"&&(La===null?La=new Set([this]):La.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function Dw(n,i,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=r.alternate,i!==null&&nl(i,r,f,!0),r=is.current,r!==null){switch(r.tag){case 31:case 13:return Rs===null?Th():r.alternate===null&&Ot===0&&(Ot=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===Xd?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([c]):i.add(c),Up(n,c,f)),!1;case 22:return r.flags|=65536,c===Xd?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([c]):r.add(c)),Up(n,c,f)),!1}throw Error(a(435,r.tag))}return Up(n,c,f),Th(),!1}if(st)return i=is.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Om&&(n=Error(a(422),{cause:c}),jc(As(n,r)))):(c!==Om&&(i=Error(a(423),{cause:c}),jc(As(i,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=As(c,r),f=pp(n.stateNode,c,f),Fm(n,f),Ot!==4&&(Ot=2)),!1;var p=Error(a(520),{cause:c});if(p=As(p,r),Wc===null?Wc=[p]:Wc.push(p),Ot!==4&&(Ot=2),i===null)return!0;c=As(c,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=pp(r.stateNode,c,n),Fm(r,n),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(La===null||!La.has(p))))return r.flags|=65536,f&=-f,r.lanes|=f,f=y1(f),v1(f,n,r,c),Fm(r,f),!1}r=r.return}while(r!==null);return!1}var gp=Error(a(461)),Zt=!1;function vn(n,i,r,c){i.child=n===null?Sv(i,null,r,c):Zr(i,n.child,r,c)}function b1(n,i,r,c,f){r=r.render;var p=i.ref;if("ref"in c){var E={};for(var x in c)x!=="ref"&&(E[x]=c[x])}else E=c;return Kr(i),c=Xm(n,i,r,E,p,f),x=Zm(),n!==null&&!Zt?(Jm(n,i,f),Ki(n,i,f)):(st&&x&&km(i),i.flags|=1,vn(n,i,c,f),i.child)}function E1(n,i,r,c,f){if(n===null){var p=r.type;return typeof p=="function"&&!Nm(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,T1(n,i,p,c,f)):(n=Fd(r.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!Ap(n,f)){var E=p.memoizedProps;if(r=r.compare,r=r!==null?r:Rc,r(E,c)&&n.ref===i.ref)return Ki(n,i,f)}return i.flags|=1,n=qi(p,c),n.ref=i.ref,n.return=i,i.child=n}function T1(n,i,r,c,f){if(n!==null){var p=n.memoizedProps;if(Rc(p,c)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=c=p,Ap(n,f))(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,Ki(n,i,f)}return _p(n,i,r,c,f)}function S1(n,i,r,c){var f=c.children,p=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,n!==null){for(c=i.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,i.child=null;return A1(n,i,p,r,c)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Yd(i,p!==null?p.cachePool:null),p!==null?wv(i,p):Qm(),Iv(i);else return c=i.lanes=536870912,A1(n,i,p!==null?p.baseLanes|r:r,r,c)}else p!==null?(Yd(i,p.cachePool),wv(i,p),Da(),i.memoizedState=null):(n!==null&&Yd(i,null),Qm(),Da());return vn(n,i,f,r),i.child}function Hc(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function A1(n,i,r,c,f){var p=Bm();return p=p===null?null:{parent:Wt._currentValue,pool:p},i.memoizedState={baseLanes:r,cachePool:p},n!==null&&Yd(i,null),Qm(),Iv(i),n!==null&&nl(n,i,c,!0),i.childLanes=f,null}function dh(n,i){return i=fh({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function x1(n,i,r){return Zr(i,n.child,null,r),n=dh(i,i.pendingProps),n.flags|=2,as(i),i.memoizedState=null,n}function Ow(n,i,r){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(st){if(c.mode==="hidden")return n=dh(i,c),i.lanes=536870912,Hc(null,n);if(Ym(i),(n=At)?(n=L0(n,Is),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:xa!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=lv(n),r.return=i,i.child=r,_n=i,At=null)):n=null,n===null)throw Ia(i);return i.lanes=536870912,null}return dh(i,c)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(Ym(i),f)if(i.flags&256)i.flags&=-257,i=x1(n,i,r);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(Zt||nl(n,i,r,!1),f=(r&n.childLanes)!==0,Zt||f){if(c=Et,c!==null&&(E=uc(c,r),E!==0&&E!==p.retryLane))throw p.retryLane=E,$r(n,E),Yn(c,n,E),gp;Th(),i=x1(n,i,r)}else n=p.treeContext,At=Ns(E.nextSibling),_n=i,st=!0,wa=null,Is=!1,n!==null&&dv(i,n),i=dh(i,c),i.flags|=4096;return i}return n=qi(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function hh(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function _p(n,i,r,c,f){return Kr(i),r=Xm(n,i,r,c,void 0,f),c=Zm(),n!==null&&!Zt?(Jm(n,i,f),Ki(n,i,f)):(st&&c&&km(i),i.flags|=1,vn(n,i,r,f),i.child)}function w1(n,i,r,c,f,p){return Kr(i),i.updateQueue=null,r=Nv(i,c,r,f),Rv(n),c=Zm(),n!==null&&!Zt?(Jm(n,i,p),Ki(n,i,p)):(st&&c&&km(i),i.flags|=1,vn(n,i,r,p),i.child)}function I1(n,i,r,c,f){if(Kr(i),i.stateNode===null){var p=Zo,E=r.contextType;typeof E=="object"&&E!==null&&(p=yn(E)),p=new r(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=mp,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},Hm(i),E=r.contextType,p.context=typeof E=="object"&&E!==null?yn(E):Zo,p.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(fp(i,r,E,c),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&mp.enqueueReplaceState(p,p.state,null),Pc(i,c,p,f),Lc(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){p=i.stateNode;var x=i.memoizedProps,V=eo(r,x);p.props=V;var Y=p.context,ne=r.contextType;E=Zo,typeof ne=="object"&&ne!==null&&(E=yn(ne));var le=r.getDerivedStateFromProps;ne=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||Y!==E)&&f1(i,p,c,E),Na=!1;var W=i.memoizedState;p.state=W,Pc(i,c,p,f),Lc(),Y=i.memoizedState,x||W!==Y||Na?(typeof le=="function"&&(fp(i,r,le,c),Y=i.memoizedState),(V=Na||h1(i,r,V,c,W,Y,E))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Y),p.props=c,p.state=Y,p.context=E,c=V):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,$m(n,i),E=i.memoizedProps,ne=eo(r,E),p.props=ne,le=i.pendingProps,W=p.context,Y=r.contextType,V=Zo,typeof Y=="object"&&Y!==null&&(V=yn(Y)),x=r.getDerivedStateFromProps,(Y=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==le||W!==V)&&f1(i,p,c,V),Na=!1,W=i.memoizedState,p.state=W,Pc(i,c,p,f),Lc();var ee=i.memoizedState;E!==le||W!==ee||Na||n!==null&&n.dependencies!==null&&Qd(n.dependencies)?(typeof x=="function"&&(fp(i,r,x,c),ee=i.memoizedState),(ne=Na||h1(i,r,ne,c,W,ee,V)||n!==null&&n.dependencies!==null&&Qd(n.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,ee,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,ee,V)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),p.props=c,p.state=ee,p.context=V,c=ne):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),c=!1)}return p=c,hh(n,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&c?(i.child=Zr(i,n.child,null,f),i.child=Zr(i,null,r,f)):vn(n,i,r,f),i.memoizedState=p.state,n=i.child):n=Ki(n,i,f),n}function R1(n,i,r,c){return Gr(),i.flags|=256,vn(n,i,r,c),i.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(n){return{baseLanes:n,cachePool:_v()}}function bp(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=os),n}function N1(n,i,r){var c=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(st){if(f?ka(i):Da(),(n=At)?(n=L0(n,Is),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:xa!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=lv(n),r.return=i,i.child=r,_n=i,At=null)):n=null,n===null)throw Ia(i);return ng(n)?i.lanes=32:i.lanes=536870912,null}var x=c.children;return c=c.fallback,f?(Da(),f=i.mode,x=fh({mode:"hidden",children:x},f),c=Fr(c,f,r,null),x.return=i,c.return=i,x.sibling=c,i.child=x,c=i.child,c.memoizedState=vp(r),c.childLanes=bp(n,E,r),i.memoizedState=yp,Hc(null,c)):(ka(i),Ep(i,x))}var V=n.memoizedState;if(V!==null&&(x=V.dehydrated,x!==null)){if(p)i.flags&256?(ka(i),i.flags&=-257,i=Tp(n,i,r)):i.memoizedState!==null?(Da(),i.child=n.child,i.flags|=128,i=null):(Da(),x=c.fallback,f=i.mode,c=fh({mode:"visible",children:c.children},f),x=Fr(x,f,r,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,Zr(i,n.child,null,r),c=i.child,c.memoizedState=vp(r),c.childLanes=bp(n,E,r),i.memoizedState=yp,i=Hc(null,c));else if(ka(i),ng(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var Y=E.dgst;E=Y,c=Error(a(419)),c.stack="",c.digest=E,jc({value:c,source:null,stack:null}),i=Tp(n,i,r)}else if(Zt||nl(n,i,r,!1),E=(r&n.childLanes)!==0,Zt||E){if(E=Et,E!==null&&(c=uc(E,r),c!==0&&c!==V.retryLane))throw V.retryLane=c,$r(n,c),Yn(E,n,c),gp;tg(x)||Th(),i=Tp(n,i,r)}else tg(x)?(i.flags|=192,i.child=n.child,i=null):(n=V.treeContext,At=Ns(x.nextSibling),_n=i,st=!0,wa=null,Is=!1,n!==null&&dv(i,n),i=Ep(i,c.children),i.flags|=4096);return i}return f?(Da(),x=c.fallback,f=i.mode,V=n.child,Y=V.sibling,c=qi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Y!==null?x=qi(Y,x):(x=Fr(x,f,r,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,Hc(null,c),c=i.child,x=n.child.memoizedState,x===null?x=vp(r):(f=x.cachePool,f!==null?(V=Wt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=_v(),x={baseLanes:x.baseLanes|r,cachePool:f}),c.memoizedState=x,c.childLanes=bp(n,E,r),i.memoizedState=yp,Hc(n.child,c)):(ka(i),r=n.child,n=r.sibling,r=qi(r,{mode:"visible",children:c.children}),r.return=i,r.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=r,i.memoizedState=null,r)}function Ep(n,i){return i=fh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function fh(n,i){return n=ss(22,n,null,i),n.lanes=0,n}function Tp(n,i,r){return Zr(i,n.child,null,r),n=Ep(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function C1(n,i,r){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Lm(n.return,i,r)}function Sp(n,i,r,c,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f,treeForkCount:p}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=r,E.tailMode=f,E.treeForkCount=p)}function j1(n,i,r){var c=i.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var E=Vt.current,x=(E&2)!==0;if(x?(E=E&1|2,i.flags|=128):E&=1,J(Vt,E),vn(n,i,c,r),c=st?Cc:0,!x&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&C1(n,r,i);else if(n.tag===19)C1(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(r=i.child,f=null;r!==null;)n=r.alternate,n!==null&&th(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Sp(i,!1,f,r,p,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&th(n)===null){i.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}Sp(i,!0,r,null,p,c);break;case"together":Sp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ki(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),za|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(nl(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,r=qi(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=qi(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function Ap(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Qd(n)))}function Mw(n,i,r){switch(i.tag){case 3:oe(i,i.stateNode.containerInfo),Ra(i,Wt,n.memoizedState.cache),Gr();break;case 27:case 5:Ce(i);break;case 4:oe(i,i.stateNode.containerInfo);break;case 10:Ra(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ym(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ka(i),i.flags|=128,null):(r&i.child.childLanes)!==0?N1(n,i,r):(ka(i),n=Ki(n,i,r),n!==null?n.sibling:null);ka(i);break;case 19:var f=(n.flags&128)!==0;if(c=(r&i.childLanes)!==0,c||(nl(n,i,r,!1),c=(r&i.childLanes)!==0),f){if(c)return j1(n,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Vt,Vt.current),c)break;return null;case 22:return i.lanes=0,S1(n,i,r,i.pendingProps);case 24:Ra(i,Wt,n.memoizedState.cache)}return Ki(n,i,r)}function k1(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Zt=!0;else{if(!Ap(n,r)&&(i.flags&128)===0)return Zt=!1,Mw(n,i,r);Zt=(n.flags&131072)!==0}else Zt=!1,st&&(i.flags&1048576)!==0&&uv(i,Cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=Wr(i.elementType),i.type=n,typeof n=="function")Nm(n)?(c=eo(n,c),i.tag=1,i=I1(null,i,n,c,r)):(i.tag=0,i=_p(null,i,n,c,r));else{if(n!=null){var f=n.$$typeof;if(f===z){i.tag=11,i=b1(null,i,n,c,r);break e}else if(f===O){i.tag=14,i=E1(null,i,n,c,r);break e}}throw i=pe(n)||n,Error(a(306,i,""))}}return i;case 0:return _p(n,i,i.type,i.pendingProps,r);case 1:return c=i.type,f=eo(c,i.pendingProps),I1(n,i,c,f,r);case 3:e:{if(oe(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var p=i.memoizedState;f=p.element,$m(n,i),Pc(i,c,null,r);var E=i.memoizedState;if(c=E.cache,Ra(i,Wt,c),c!==p.cache&&Pm(i,[Wt],r,!0),Lc(),c=E.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=R1(n,i,c,r);break e}else if(c!==f){f=As(Error(a(424)),i),jc(f),i=R1(n,i,c,r);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,At=Ns(n.firstChild),_n=i,st=!0,wa=null,Is=!0,r=Sv(i,null,c,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),c===f){i=Ki(n,i,r);break e}vn(n,i,c,r)}i=i.child}return i;case 26:return hh(n,i),n===null?(r=H0(i.type,null,i.pendingProps,null))?i.memoizedState=r:st||(r=i.type,n=i.pendingProps,c=Nh(ye.current).createElement(r),c[Qt]=i,c[un]=n,bn(c,r,n),Kt(c),i.stateNode=c):i.memoizedState=H0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ce(i),n===null&&st&&(c=i.stateNode=U0(i.type,i.pendingProps,ye.current),_n=i,Is=!0,f=At,Ba(i.type)?(sg=f,At=Ns(c.firstChild)):At=f),vn(n,i,i.pendingProps.children,r),hh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&st&&((f=c=At)&&(c=d2(c,i.type,i.pendingProps,Is),c!==null?(i.stateNode=c,_n=i,At=Ns(c.firstChild),Is=!1,f=!0):f=!1),f||Ia(i)),Ce(i),f=i.type,p=i.pendingProps,E=n!==null?n.memoizedProps:null,c=p.children,Zp(f,p)?c=null:E!==null&&Zp(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Xm(n,i,ww,null,null,r),iu._currentValue=f),hh(n,i),vn(n,i,c,r),i.child;case 6:return n===null&&st&&((n=r=At)&&(r=h2(r,i.pendingProps,Is),r!==null?(i.stateNode=r,_n=i,At=null,n=!0):n=!1),n||Ia(i)),null;case 13:return N1(n,i,r);case 4:return oe(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Zr(i,null,c,r):vn(n,i,c,r),i.child;case 11:return b1(n,i,i.type,i.pendingProps,r);case 7:return vn(n,i,i.pendingProps,r),i.child;case 8:return vn(n,i,i.pendingProps.children,r),i.child;case 12:return vn(n,i,i.pendingProps.children,r),i.child;case 10:return c=i.pendingProps,Ra(i,i.type,c.value),vn(n,i,c.children,r),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,Kr(i),f=yn(f),c=c(f),i.flags|=1,vn(n,i,c,r),i.child;case 14:return E1(n,i,i.type,i.pendingProps,r);case 15:return T1(n,i,i.type,i.pendingProps,r);case 19:return j1(n,i,r);case 31:return Ow(n,i,r);case 22:return S1(n,i,r,i.pendingProps);case 24:return Kr(i),c=yn(Wt),n===null?(f=Bm(),f===null&&(f=Et,p=Vm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=r),f=p),i.memoizedState={parent:c,cache:f},Hm(i),Ra(i,Wt,f)):((n.lanes&r)!==0&&($m(n,i),Pc(i,null,null,r),Lc()),f=n.memoizedState,p=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ra(i,Wt,c)):(c=p.cache,Ra(i,Wt,c),c!==f.cache&&Pm(i,[Wt],r,!0))),vn(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Yi(n){n.flags|=4}function xp(n,i,r,c,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(a0())n.flags|=8192;else throw Xr=Xd,qm}else n.flags&=-16777217}function D1(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!K0(i))if(a0())n.flags|=8192;else throw Xr=Xd,qm}function mh(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?bd():536870912,n.lanes|=i,ml|=i)}function $c(n,i){if(!st)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function xt(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(i)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=r,i}function zw(n,i,r){var c=i.pendingProps;switch(Dm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return r=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Fi(Wt),fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(tl(i)?Yi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mm())),xt(i),null;case 26:var f=i.type,p=i.memoizedState;return n===null?(Yi(i),p!==null?(xt(i),D1(i,p)):(xt(i),xp(i,f,null,c,r))):p?p!==n.memoizedState?(Yi(i),xt(i),D1(i,p)):(xt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Yi(i),xt(i),xp(i,f,n,c,r)),null;case 27:if(ft(i),r=ye.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Yi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return xt(i),null}n=se.current,tl(i)?hv(i):(n=U0(f,c,r),i.stateNode=n,Yi(i))}return xt(i),null;case 5:if(ft(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Yi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return xt(i),null}if(p=se.current,tl(i))hv(i);else{var E=Nh(ye.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?E.createElement(f,{is:c.is}):E.createElement(f)}}p[Qt]=i,p[un]=c;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=p;e:switch(bn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Yi(i)}}return xt(i),xp(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,r),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Yi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=ye.current,tl(i)){if(n=i.stateNode,r=i.memoizedProps,c=null,f=_n,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[Qt]=i,n=!!(n.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||N0(n.nodeValue,r)),n||Ia(i,!0)}else n=Nh(n).createTextNode(c),n[Qt]=i,i.stateNode=n}return xt(i),null;case 31:if(r=i.memoizedState,n===null||n.memoizedState!==null){if(c=tl(i),r!==null){if(n===null){if(!c)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Qt]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),n=!1}else r=Mm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return i.flags&256?(as(i),i):(as(i),null);if((i.flags&128)!==0)throw Error(a(558))}return xt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=tl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Qt]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),f=!1}else f=Mm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(as(i),i):(as(i),null)}return as(i),(i.flags&128)!==0?(i.lanes=r,i):(r=c!==null,n=n!==null&&n.memoizedState!==null,r&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),r!==n&&r&&(i.child.flags|=8192),mh(i,i.updateQueue),xt(i),null);case 4:return fe(),n===null&&Qp(i.stateNode.containerInfo),xt(i),null;case 10:return Fi(i.type),xt(i),null;case 19:if(G(Vt),c=i.memoizedState,c===null)return xt(i),null;if(f=(i.flags&128)!==0,p=c.rendering,p===null)if(f)$c(c,!1);else{if(Ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=th(n),p!==null){for(i.flags|=128,$c(c,!1),n=p.updateQueue,i.updateQueue=n,mh(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)ov(r,n),r=r.sibling;return J(Vt,Vt.current&1|2),st&&Hi(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&Ln()>vh&&(i.flags|=128,f=!0,$c(c,!1),i.lanes=4194304)}else{if(!f)if(n=th(p),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,mh(i,n),$c(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!st)return xt(i),null}else 2*Ln()-c.renderingStartTime>vh&&r!==536870912&&(i.flags|=128,f=!0,$c(c,!1),i.lanes=4194304);c.isBackwards?(p.sibling=i.child,i.child=p):(n=c.last,n!==null?n.sibling=p:i.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ln(),n.sibling=null,r=Vt.current,J(Vt,f?r&1|2:r&1),st&&Hi(i,c.treeForkCount),n):(xt(i),null);case 22:case 23:return as(i),Km(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(r&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),r=i.updateQueue,r!==null&&mh(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==r&&(i.flags|=2048),n!==null&&G(Yr),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Fi(Wt),xt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Lw(n,i){switch(Dm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fi(Wt),fe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ft(i),null;case 31:if(i.memoizedState!==null){if(as(i),i.alternate===null)throw Error(a(340));Gr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(as(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Gr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return G(Vt),null;case 4:return fe(),null;case 10:return Fi(i.type),null;case 22:case 23:return as(i),Km(),n!==null&&G(Yr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fi(Wt),null;case 25:return null;default:return null}}function O1(n,i){switch(Dm(i),i.tag){case 3:Fi(Wt),fe();break;case 26:case 27:case 5:ft(i);break;case 4:fe();break;case 31:i.memoizedState!==null&&as(i);break;case 13:as(i);break;case 19:G(Vt);break;case 10:Fi(i.type);break;case 22:case 23:as(i),Km(),n!==null&&G(Yr);break;case 24:Fi(Wt)}}function Fc(n,i){try{var r=i.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&n)===n){c=void 0;var p=r.create,E=r.inst;c=p(),E.destroy=c}r=r.next}while(r!==f)}}catch(x){gt(i,i.return,x)}}function Oa(n,i,r){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&n)===n){var E=c.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,f=i;var V=r,Y=x;try{Y()}catch(ne){gt(f,V,ne)}}}c=c.next}while(c!==p)}}catch(ne){gt(i,i.return,ne)}}function M1(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{xv(i,r)}catch(c){gt(n,n.return,c)}}}function z1(n,i,r){r.props=eo(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(c){gt(n,i,c)}}function Gc(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof r=="function"?n.refCleanup=r(c):r.current=c}}catch(f){gt(n,i,f)}}function Ei(n,i){var r=n.ref,c=n.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){gt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){gt(n,i,f)}else r.current=null}function L1(n){var i=n.type,r=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){gt(n,n.return,f)}}function wp(n,i,r){try{var c=n.stateNode;a2(c,n.type,r,i),c[un]=i}catch(f){gt(n,n.return,f)}}function P1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ba(n.type)||n.tag===4}function Ip(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||P1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ba(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rp(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Vs));else if(c!==4&&(c===27&&Ba(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(Rp(n,i,r),n=n.sibling;n!==null;)Rp(n,i,r),n=n.sibling}function ph(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(c!==4&&(c===27&&Ba(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ph(n,i,r),n=n.sibling;n!==null;)ph(n,i,r),n=n.sibling}function V1(n){var i=n.stateNode,r=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);bn(i,c,r),i[Qt]=n,i[un]=r}catch(p){gt(n,n.return,p)}}var Wi=!1,Jt=!1,Np=!1,U1=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Pw(n,i){if(n=n.containerInfo,Wp=zh,n=Zy(n),Tm(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var E=0,x=-1,V=-1,Y=0,ne=0,le=n,W=null;t:for(;;){for(var ee;le!==r||f!==0&&le.nodeType!==3||(x=E+f),le!==p||c!==0&&le.nodeType!==3||(V=E+c),le.nodeType===3&&(E+=le.nodeValue.length),(ee=le.firstChild)!==null;)W=le,le=ee;for(;;){if(le===n)break t;if(W===r&&++Y===f&&(x=E),W===p&&++ne===c&&(V=E),(ee=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=ee}r=x===-1||V===-1?null:{start:x,end:V}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xp={focusedElem:n,selectionRange:r},zh=!1,hn=i;hn!==null;)if(i=hn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,hn=n;else for(;hn!==null;){switch(i=hn,p=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)f=n[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,r=i,f=p.memoizedProps,p=p.memoizedState,c=r.stateNode;try{var Re=eo(r.type,f);n=c.getSnapshotBeforeUpdate(Re,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(Le){gt(r,r.return,Le)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)eg(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":eg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,hn=n;break}hn=i.return}}function B1(n,i,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(n,r),c&4&&Fc(5,r);break;case 1:if(Zi(n,r),c&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(E){gt(r,r.return,E)}else{var f=eo(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){gt(r,r.return,E)}}c&64&&M1(r),c&512&&Gc(r,r.return);break;case 3:if(Zi(n,r),c&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{xv(n,i)}catch(E){gt(r,r.return,E)}}break;case 27:i===null&&c&4&&V1(r);case 26:case 5:Zi(n,r),i===null&&c&4&&L1(r),c&512&&Gc(r,r.return);break;case 12:Zi(n,r);break;case 31:Zi(n,r),c&4&&$1(n,r);break;case 13:Zi(n,r),c&4&&F1(n,r),c&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=Qw.bind(null,r),f2(n,r))));break;case 22:if(c=r.memoizedState!==null||Wi,!c){i=i!==null&&i.memoizedState!==null||Jt,f=Wi;var p=Jt;Wi=c,(Jt=i)&&!p?Ji(n,r,(r.subtreeFlags&8772)!==0):Zi(n,r),Wi=f,Jt=p}break;case 30:break;default:Zi(n,r)}}function q1(n){var i=n.alternate;i!==null&&(n.alternate=null,q1(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Po(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Rt=null,Fn=!1;function Xi(n,i,r){for(r=r.child;r!==null;)H1(n,i,r),r=r.sibling}function H1(n,i,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ms,r)}catch{}switch(r.tag){case 26:Jt||Ei(r,i),Xi(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Jt||Ei(r,i);var c=Rt,f=Fn;Ba(r.type)&&(Rt=r.stateNode,Fn=!1),Xi(n,i,r),tu(r.stateNode),Rt=c,Fn=f;break;case 5:Jt||Ei(r,i);case 6:if(c=Rt,f=Fn,Rt=null,Xi(n,i,r),Rt=c,Fn=f,Rt!==null)if(Fn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(r.stateNode)}catch(p){gt(r,i,p)}else try{Rt.removeChild(r.stateNode)}catch(p){gt(r,i,p)}break;case 18:Rt!==null&&(Fn?(n=Rt,M0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Tl(n)):M0(Rt,r.stateNode));break;case 4:c=Rt,f=Fn,Rt=r.stateNode.containerInfo,Fn=!0,Xi(n,i,r),Rt=c,Fn=f;break;case 0:case 11:case 14:case 15:Oa(2,r,i),Jt||Oa(4,r,i),Xi(n,i,r);break;case 1:Jt||(Ei(r,i),c=r.stateNode,typeof c.componentWillUnmount=="function"&&z1(r,i,c)),Xi(n,i,r);break;case 21:Xi(n,i,r);break;case 22:Jt=(c=Jt)||r.memoizedState!==null,Xi(n,i,r),Jt=c;break;default:Xi(n,i,r)}}function $1(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Tl(n)}catch(r){gt(i,i.return,r)}}}function F1(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Tl(n)}catch(r){gt(i,i.return,r)}}function Vw(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new U1),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new U1),i;default:throw Error(a(435,n.tag))}}function gh(n,i){var r=Vw(n);i.forEach(function(c){if(!r.has(c)){r.add(c);var f=Kw.bind(null,n,c);c.then(f,f)}})}function Gn(n,i){var r=i.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],p=n,E=i,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(Ba(x.type)){Rt=x.stateNode,Fn=!1;break e}break;case 5:Rt=x.stateNode,Fn=!1;break e;case 3:case 4:Rt=x.stateNode.containerInfo,Fn=!0;break e}x=x.return}if(Rt===null)throw Error(a(160));H1(p,E,f),Rt=null,Fn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)G1(i,n),i=i.sibling}var Fs=null;function G1(n,i){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(i,n),Qn(n),c&4&&(Oa(3,n,n.return),Fc(3,n),Oa(5,n,n.return));break;case 1:Gn(i,n),Qn(n),c&512&&(Jt||r===null||Ei(r,r.return)),c&64&&Wi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Fs;if(Gn(i,n),Qn(n),c&512&&(Jt||r===null||Ei(r,r.return)),c&4){var p=r!==null?r.memoizedState:null;if(c=n.memoizedState,r===null)if(c===null)if(n.stateNode===null){e:{c=n.type,r=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[oi]||p[Qt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),bn(p,c,r),p[Qt]=n,Kt(p),c=p;break e;case"link":var E=G0("link","href",f).get(c+(r.href||""));if(E){for(var x=0;x<E.length;x++)if(p=E[x],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(x,1);break t}}p=f.createElement(c),bn(p,c,r),f.head.appendChild(p);break;case"meta":if(E=G0("meta","content",f).get(c+(r.content||""))){for(x=0;x<E.length;x++)if(p=E[x],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(x,1);break t}}p=f.createElement(c),bn(p,c,r),f.head.appendChild(p);break;default:throw Error(a(468,c))}p[Qt]=n,Kt(p),c=p}n.stateNode=c}else Q0(f,n.type,n.stateNode);else n.stateNode=F0(f,c,n.memoizedProps);else p!==c?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,c===null?Q0(f,n.type,n.stateNode):F0(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&wp(n,n.memoizedProps,r.memoizedProps)}break;case 27:Gn(i,n),Qn(n),c&512&&(Jt||r===null||Ei(r,r.return)),r!==null&&c&4&&wp(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Gn(i,n),Qn(n),c&512&&(Jt||r===null||Ei(r,r.return)),n.flags&32){f=n.stateNode;try{$n(f,"")}catch(Re){gt(n,n.return,Re)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,wp(n,f,r!==null?r.memoizedProps:f)),c&1024&&(Np=!0);break;case 6:if(Gn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,r=n.stateNode;try{r.nodeValue=c}catch(Re){gt(n,n.return,Re)}}break;case 3:if(kh=null,f=Fs,Fs=Ch(i.containerInfo),Gn(i,n),Fs=f,Qn(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(Re){gt(n,n.return,Re)}Np&&(Np=!1,Q1(n));break;case 4:c=Fs,Fs=Ch(n.stateNode.containerInfo),Gn(i,n),Qn(n),Fs=c;break;case 12:Gn(i,n),Qn(n);break;case 31:Gn(i,n),Qn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,gh(n,c)));break;case 13:Gn(i,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(yh=Ln()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,gh(n,c)));break;case 22:f=n.memoizedState!==null;var V=r!==null&&r.memoizedState!==null,Y=Wi,ne=Jt;if(Wi=Y||f,Jt=ne||V,Gn(i,n),Jt=ne,Wi=Y,Qn(n),c&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||V||Wi||Jt||to(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){V=r=i;try{if(p=V.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=V.stateNode;var le=V.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;x.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Re){gt(V,V.return,Re)}}}else if(i.tag===6){if(r===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(Re){gt(V,V.return,Re)}}}else if(i.tag===18){if(r===null){V=i;try{var ee=V.stateNode;f?z0(ee,!0):z0(V.stateNode,!1)}catch(Re){gt(V,V.return,Re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,gh(n,r))));break;case 19:Gn(i,n),Qn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,gh(n,c)));break;case 30:break;case 21:break;default:Gn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{for(var r,c=n.return;c!==null;){if(P1(c)){r=c;break}c=c.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,p=Ip(n);ph(n,p,f);break;case 5:var E=r.stateNode;r.flags&32&&($n(E,""),r.flags&=-33);var x=Ip(n);ph(n,x,E);break;case 3:case 4:var V=r.stateNode.containerInfo,Y=Ip(n);Rp(n,Y,V);break;default:throw Error(a(161))}}catch(ne){gt(n,n.return,ne)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Q1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Q1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Zi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)B1(n,i.alternate,i),i=i.sibling}function to(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Oa(4,i,i.return),to(i);break;case 1:Ei(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&z1(i,i.return,r),to(i);break;case 27:tu(i.stateNode);case 26:case 5:Ei(i,i.return),to(i);break;case 22:i.memoizedState===null&&to(i);break;case 30:to(i);break;default:to(i)}n=n.sibling}}function Ji(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:Ji(f,p,r),Fc(4,p);break;case 1:if(Ji(f,p,r),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){gt(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var x=c.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Av(V[f],x)}catch(Y){gt(c,c.return,Y)}}r&&E&64&&M1(p),Gc(p,p.return);break;case 27:V1(p);case 26:case 5:Ji(f,p,r),r&&c===null&&E&4&&L1(p),Gc(p,p.return);break;case 12:Ji(f,p,r);break;case 31:Ji(f,p,r),r&&E&4&&$1(f,p);break;case 13:Ji(f,p,r),r&&E&4&&F1(f,p);break;case 22:p.memoizedState===null&&Ji(f,p,r),Gc(p,p.return);break;case 30:break;default:Ji(f,p,r)}i=i.sibling}}function Cp(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&kc(r))}function jp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&kc(n))}function Gs(n,i,r,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K1(n,i,r,c),i=i.sibling}function K1(n,i,r,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Gs(n,i,r,c),f&2048&&Fc(9,i);break;case 1:Gs(n,i,r,c);break;case 3:Gs(n,i,r,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&kc(n)));break;case 12:if(f&2048){Gs(n,i,r,c),n=i.stateNode;try{var p=i.memoizedProps,E=p.id,x=p.onPostCommit;typeof x=="function"&&x(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){gt(i,i.return,V)}}else Gs(n,i,r,c);break;case 31:Gs(n,i,r,c);break;case 13:Gs(n,i,r,c);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?Gs(n,i,r,c):Qc(n,i):p._visibility&2?Gs(n,i,r,c):(p._visibility|=2,dl(n,i,r,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Cp(E,i);break;case 24:Gs(n,i,r,c),f&2048&&jp(i.alternate,i);break;default:Gs(n,i,r,c)}}function dl(n,i,r,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=n,E=i,x=r,V=c,Y=E.flags;switch(E.tag){case 0:case 11:case 15:dl(p,E,x,V,f),Fc(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?dl(p,E,x,V,f):Qc(p,E):(ne._visibility|=2,dl(p,E,x,V,f)),f&&Y&2048&&Cp(E.alternate,E);break;case 24:dl(p,E,x,V,f),f&&Y&2048&&jp(E.alternate,E);break;default:dl(p,E,x,V,f)}i=i.sibling}}function Qc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,c=i,f=c.flags;switch(c.tag){case 22:Qc(r,c),f&2048&&Cp(c.alternate,c);break;case 24:Qc(r,c),f&2048&&jp(c.alternate,c);break;default:Qc(r,c)}i=i.sibling}}var Kc=8192;function hl(n,i,r){if(n.subtreeFlags&Kc)for(n=n.child;n!==null;)Y1(n,i,r),n=n.sibling}function Y1(n,i,r){switch(n.tag){case 26:hl(n,i,r),n.flags&Kc&&n.memoizedState!==null&&x2(r,Fs,n.memoizedState,n.memoizedProps);break;case 5:hl(n,i,r);break;case 3:case 4:var c=Fs;Fs=Ch(n.stateNode.containerInfo),hl(n,i,r),Fs=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Kc,Kc=16777216,hl(n,i,r),Kc=c):hl(n,i,r));break;default:hl(n,i,r)}}function W1(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Yc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];hn=c,Z1(c,n)}W1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X1(n),n=n.sibling}function X1(n){switch(n.tag){case 0:case 11:case 15:Yc(n),n.flags&2048&&Oa(9,n,n.return);break;case 3:Yc(n);break;case 12:Yc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,_h(n)):Yc(n);break;default:Yc(n)}}function _h(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];hn=c,Z1(c,n)}W1(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Oa(8,i,i.return),_h(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,_h(i));break;default:_h(i)}n=n.sibling}}function Z1(n,i){for(;hn!==null;){var r=hn;switch(r.tag){case 0:case 11:case 15:Oa(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kc(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,hn=c;else e:for(r=n;hn!==null;){c=hn;var f=c.sibling,p=c.return;if(q1(c),c===r){hn=null;break e}if(f!==null){f.return=p,hn=f;break e}hn=p}}}var Uw={getCacheForType:function(n){var i=yn(Wt),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r},cacheSignal:function(){return yn(Wt).controller.signal}},Bw=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,Ye=null,Ze=0,pt=0,rs=null,Ma=!1,fl=!1,kp=!1,ea=0,Ot=0,za=0,no=0,Dp=0,os=0,ml=0,Wc=null,Kn=null,Op=!1,yh=0,J1=0,vh=1/0,bh=null,La=null,on=0,Pa=null,pl=null,ta=0,Mp=0,zp=null,e0=null,Xc=0,Lp=null;function ls(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:X.T!==null?Hp():Ed()}function t0(){if(os===0)if((Ze&536870912)===0||st){var n=Nr;Nr<<=1,(Nr&3932160)===0&&(Nr=262144),os=n}else os=536870912;return n=is.current,n!==null&&(n.flags|=32),os}function Yn(n,i,r){(n===Et&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(gl(n,0),Va(n,Ze,os,!1)),Cr(n,r),((ut&2)===0||n!==Et)&&(n===Et&&((ut&2)===0&&(no|=r),Ot===4&&Va(n,Ze,os,!1)),Ti(n))}function n0(n,i,r){if((ut&6)!==0)throw Error(a(327));var c=!r&&(i&127)===0&&(i&n.expiredLanes)===0||zs(n,i),f=c?$w(n,i):Vp(n,i,!0),p=c;do{if(f===0){fl&&!c&&Va(n,i,0,!1);break}else{if(r=n.current.alternate,p&&!qw(r)){f=Vp(n,i,!1),p=!1;continue}if(f===2){if(p=i,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var x=n;f=Wc;var V=x.current.memoizedState.isDehydrated;if(V&&(gl(x,E).flags|=256),E=Vp(x,E,!1),E!==2){if(kp&&!V){x.errorRecoveryDisabledLanes|=p,no|=p,f=4;break e}p=Kn,Kn=f,p!==null&&(Kn===null?Kn=p:Kn.push.apply(Kn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){gl(n,0),Va(n,i,0,!0);break}e:{switch(c=n,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Va(c,i,os,!Ma);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=yh+300-Ln(),10<f)){if(Va(c,i,os,!Ma),ii(c,0,!0)!==0)break e;ta=i,c.timeoutHandle=D0(s0.bind(null,c,r,Kn,bh,Op,i,os,no,ml,Ma,p,"Throttled",-0,0),f);break e}s0(c,r,Kn,bh,Op,i,os,no,ml,Ma,p,null,-0,0)}}break}while(!0);Ti(n)}function s0(n,i,r,c,f,p,E,x,V,Y,ne,le,W,ee){if(n.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vs},Y1(i,p,le);var Re=(p&62914560)===p?yh-Ln():(p&4194048)===p?J1-Ln():0;if(Re=w2(le,Re),Re!==null){ta=p,n.cancelPendingCommit=Re(d0.bind(null,n,i,p,r,c,f,E,x,V,ne,le,null,W,ee)),Va(n,p,E,!Y);return}}d0(n,i,p,r,c,f,E,x,V)}function qw(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],p=f.getSnapshot;f=f.value;try{if(!ns(p(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Va(n,i,r,c){i&=~Dp,i&=~no,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var p=31-Lt(f),E=1<<p;c[p]=-1,f&=~E}r!==0&&jr(n,r,i)}function Eh(){return(ut&6)===0?(Zc(0),!1):!0}function Pp(){if(Ye!==null){if(pt===0)var n=Ye.return;else n=Ye,$i=Qr=null,ep(n),rl=null,Oc=0,n=Ye;for(;n!==null;)O1(n.alternate,n),n=n.return;Ye=null}}function gl(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,l2(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),ta=0,Pp(),Et=n,Ye=r=qi(n.current,null),Ze=i,pt=0,rs=null,Ma=!1,fl=zs(n,i),kp=!1,ml=os=Dp=no=za=Ot=0,Kn=Wc=null,Op=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-Lt(c),p=1<<f;i|=n[f],c&=~p}return ea=i,qd(),r}function i0(n,i){Ge=null,X.H=qc,i===al||i===Wd?(i=bv(),pt=3):i===qm?(i=bv(),pt=4):pt=i===gp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,rs=i,Ye===null&&(Ot=1,uh(n,As(i,n.current)))}function a0(){var n=is.current;return n===null?!0:(Ze&4194048)===Ze?Rs===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?n===Rs:!1}function r0(){var n=X.H;return X.H=qc,n===null?qc:n}function o0(){var n=X.A;return X.A=Uw,n}function Th(){Ot=4,Ma||(Ze&4194048)!==Ze&&is.current!==null||(fl=!0),(za&134217727)===0&&(no&134217727)===0||Et===null||Va(Et,Ze,os,!1)}function Vp(n,i,r){var c=ut;ut|=2;var f=r0(),p=o0();(Et!==n||Ze!==i)&&(bh=null,gl(n,i)),i=!1;var E=Ot;e:do try{if(pt!==0&&Ye!==null){var x=Ye,V=rs;switch(pt){case 8:Pp(),E=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(i=!0);var Y=pt;if(pt=0,rs=null,_l(n,x,V,Y),r&&fl){E=0;break e}break;default:Y=pt,pt=0,rs=null,_l(n,x,V,Y)}}Hw(),E=Ot;break}catch(ne){i0(n,ne)}while(!0);return i&&n.shellSuspendCounter++,$i=Qr=null,ut=c,X.H=f,X.A=p,Ye===null&&(Et=null,Ze=0,qd()),E}function Hw(){for(;Ye!==null;)l0(Ye)}function $w(n,i){var r=ut;ut|=2;var c=r0(),f=o0();Et!==n||Ze!==i?(bh=null,vh=Ln()+500,gl(n,i)):fl=zs(n,i);e:do try{if(pt!==0&&Ye!==null){i=Ye;var p=rs;t:switch(pt){case 1:pt=0,rs=null,_l(n,i,p,1);break;case 2:case 9:if(yv(p)){pt=0,rs=null,c0(i);break}i=function(){pt!==2&&pt!==9||Et!==n||(pt=7),Ti(n)},p.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:yv(p)?(pt=0,rs=null,c0(i)):(pt=0,rs=null,_l(n,i,p,7));break;case 5:var E=null;switch(Ye.tag){case 26:E=Ye.memoizedState;case 5:case 27:var x=Ye;if(E?K0(E):x.stateNode.complete){pt=0,rs=null;var V=x.sibling;if(V!==null)Ye=V;else{var Y=x.return;Y!==null?(Ye=Y,Sh(Y)):Ye=null}break t}}pt=0,rs=null,_l(n,i,p,5);break;case 6:pt=0,rs=null,_l(n,i,p,6);break;case 8:Pp(),Ot=6;break e;default:throw Error(a(462))}}Fw();break}catch(ne){i0(n,ne)}while(!0);return $i=Qr=null,X.H=c,X.A=f,ut=r,Ye!==null?0:(Et=null,Ze=0,qd(),Ot)}function Fw(){for(;Ye!==null&&!pm();)l0(Ye)}function l0(n){var i=k1(n.alternate,n,ea);n.memoizedProps=n.pendingProps,i===null?Sh(n):Ye=i}function c0(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=w1(r,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=w1(r,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:ep(i);default:O1(r,i),i=Ye=ov(i,ea),i=k1(r,i,ea)}n.memoizedProps=n.pendingProps,i===null?Sh(n):Ye=i}function _l(n,i,r,c){$i=Qr=null,ep(i),rl=null,Oc=0;var f=i.return;try{if(Dw(n,f,i,r,Ze)){Ot=1,uh(n,As(r,n.current)),Ye=null;return}}catch(p){if(f!==null)throw Ye=f,p;Ot=1,uh(n,As(r,n.current)),Ye=null;return}i.flags&32768?(st||c===1?n=!0:fl||(Ze&536870912)!==0?n=!1:(Ma=n=!0,(c===2||c===9||c===3||c===6)&&(c=is.current,c!==null&&c.tag===13&&(c.flags|=16384))),u0(i,n)):Sh(i)}function Sh(n){var i=n;do{if((i.flags&32768)!==0){u0(i,Ma);return}n=i.return;var r=zw(i.alternate,i,ea);if(r!==null){Ye=r;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=n}while(i!==null);Ot===0&&(Ot=5)}function u0(n,i){do{var r=Lw(n.alternate,n);if(r!==null){r.flags&=32767,Ye=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Ye=n;return}Ye=n=r}while(n!==null);Ot=6,Ye=null}function d0(n,i,r,c,f,p,E,x,V){n.cancelPendingCommit=null;do Ah();while(on!==0);if((ut&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Im,ym(n,r,p,E,x,V),n===Et&&(Ye=Et=null,Ze=0),pl=i,Pa=n,ta=r,Mp=p,zp=f,e0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Yw(pa,function(){return g0(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,f=me.p,me.p=2,E=ut,ut|=4;try{Pw(n,i,r)}finally{ut=E,me.p=f,X.T=c}}on=1,h0(),f0(),m0()}}function h0(){if(on===1){on=0;var n=Pa,i=pl,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var c=me.p;me.p=2;var f=ut;ut|=4;try{G1(i,n);var p=Xp,E=Zy(n.containerInfo),x=p.focusedElem,V=p.selectionRange;if(E!==x&&x&&x.ownerDocument&&Xy(x.ownerDocument.documentElement,x)){if(V!==null&&Tm(x)){var Y=V.start,ne=V.end;if(ne===void 0&&(ne=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(ne,x.value.length);else{var le=x.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var ee=W.getSelection(),Re=x.textContent.length,Le=Math.min(V.start,Re),bt=V.end===void 0?Le:Math.min(V.end,Re);!ee.extend&&Le>bt&&(E=bt,bt=Le,Le=E);var F=Wy(x,Le),B=Wy(x,bt);if(F&&B&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var K=le.createRange();K.setStart(F.node,F.offset),ee.removeAllRanges(),Le>bt?(ee.addRange(K),ee.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),ee.addRange(K))}}}}for(le=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<le.length;x++){var ae=le[x];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}zh=!!Wp,Xp=Wp=null}finally{ut=f,me.p=c,X.T=r}}n.current=i,on=2}}function f0(){if(on===2){on=0;var n=Pa,i=pl,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var c=me.p;me.p=2;var f=ut;ut|=4;try{B1(n,i.alternate,i)}finally{ut=f,me.p=c,X.T=r}}on=3}}function m0(){if(on===4||on===3){on=0,md();var n=Pa,i=pl,r=ta,c=e0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,pl=Pa=null,p0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(La=null),Pi(r),i=i.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ms,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=X.T,f=me.p,me.p=2,X.T=null;try{for(var p=n.onRecoverableError,E=0;E<c.length;E++){var x=c[E];p(x.value,{componentStack:x.stack})}}finally{X.T=i,me.p=f}}(ta&3)!==0&&Ah(),Ti(n),f=n.pendingLanes,(r&261930)!==0&&(f&42)!==0?n===Lp?Xc++:(Xc=0,Lp=n):Xc=0,Zc(0)}}function p0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,kc(i)))}function Ah(){return h0(),f0(),m0(),g0()}function g0(){if(on!==5)return!1;var n=Pa,i=Mp;Mp=0;var r=Pi(ta),c=X.T,f=me.p;try{me.p=32>r?32:r,X.T=null,r=zp,zp=null;var p=Pa,E=ta;if(on=0,pl=Pa=null,ta=0,(ut&6)!==0)throw Error(a(331));var x=ut;if(ut|=4,X1(p.current),K1(p,p.current,E,r),ut=x,Zc(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ms,p)}catch{}return!0}finally{me.p=f,X.T=c,p0(n,i)}}function _0(n,i,r){i=As(r,i),i=pp(n.stateNode,i,2),n=ja(n,i,2),n!==null&&(Cr(n,2),Ti(n))}function gt(n,i,r){if(n.tag===3)_0(n,n,r);else for(;i!==null;){if(i.tag===3){_0(i,n,r);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(La===null||!La.has(c))){n=As(r,n),r=y1(2),c=ja(i,r,2),c!==null&&(v1(r,c,i,n),Cr(c,2),Ti(c));break}}i=i.return}}function Up(n,i,r){var c=n.pingCache;if(c===null){c=n.pingCache=new Bw;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(r)||(kp=!0,f.add(r),n=Gw.bind(null,n,i,r),i.then(n,n))}function Gw(n,i,r){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Et===n&&(Ze&r)===r&&(Ot===4||Ot===3&&(Ze&62914560)===Ze&&300>Ln()-yh?(ut&2)===0&&gl(n,0):Dp|=r,ml===Ze&&(ml=0)),Ti(n)}function y0(n,i){i===0&&(i=bd()),n=$r(n,i),n!==null&&(Cr(n,i),Ti(n))}function Qw(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),y0(n,r)}function Kw(n,i){var r=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),y0(n,r)}function Yw(n,i){return rn(n,i)}var xh=null,yl=null,Bp=!1,wh=!1,qp=!1,Ua=0;function Ti(n){n!==yl&&n.next===null&&(yl===null?xh=yl=n:yl=yl.next=n),wh=!0,Bp||(Bp=!0,Xw())}function Zc(n,i){if(!qp&&wh){qp=!0;do for(var r=!1,c=xh;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var E=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-Lt(42|n)+1)-1,p&=f&~(E&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,T0(c,p))}else p=Ze,p=ii(c,c===Et?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||zs(c,p)||(r=!0,T0(c,p));c=c.next}while(r);qp=!1}}function Ww(){v0()}function v0(){wh=Bp=!1;var n=0;Ua!==0&&o2()&&(n=Ua);for(var i=Ln(),r=null,c=xh;c!==null;){var f=c.next,p=b0(c,i);p===0?(c.next=null,r===null?xh=f:r.next=f,f===null&&(yl=r)):(r=c,(n!==0||(p&3)!==0)&&(wh=!0)),c=f}on!==0&&on!==5||Zc(n),Ua!==0&&(Ua=0)}function b0(n,i){for(var r=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Lt(p),x=1<<E,V=f[E];V===-1?((x&r)===0||(x&c)!==0)&&(f[E]=_m(x,i)):V<=i&&(n.expiredLanes|=x),p&=~x}if(i=Et,r=Ze,r=ii(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,r===0||n===i&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ma(c),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||zs(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(c!==null&&ma(c),Pi(r)){case 2:case 8:r=lc;break;case 32:r=pa;break;case 268435456:r=pd;break;default:r=pa}return c=E0.bind(null,n),r=rn(r,c),n.callbackPriority=i,n.callbackNode=r,i}return c!==null&&c!==null&&ma(c),n.callbackPriority=2,n.callbackNode=null,2}function E0(n,i){if(on!==0&&on!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(Ah()&&n.callbackNode!==r)return null;var c=Ze;return c=ii(n,n===Et?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(n0(n,c,i),b0(n,Ln()),n.callbackNode!=null&&n.callbackNode===r?E0.bind(null,n):null)}function T0(n,i){if(Ah())return null;n0(n,i,!0)}function Xw(){c2(function(){(ut&6)!==0?rn(oc,Ww):v0()})}function Hp(){if(Ua===0){var n=sl;n===0&&(n=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ua=n}return Ua}function S0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qo(""+n)}function A0(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function Zw(n,i,r,c,f){if(i==="submit"&&r&&r.stateNode===f){var p=S0((f[un]||null).action),E=c.submitter;E&&(i=(i=E[un]||null)?S0(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var x=new pi("action","action",null,c,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ua!==0){var V=E?A0(f,E):new FormData(f);cp(r,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(x.preventDefault(),V=E?A0(f,E):new FormData(f),cp(r,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var $p=0;$p<wm.length;$p++){var Fp=wm[$p],Jw=Fp.toLowerCase(),e2=Fp[0].toUpperCase()+Fp.slice(1);$s(Jw,"on"+e2)}$s(tv,"onAnimationEnd"),$s(nv,"onAnimationIteration"),$s(sv,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(gw,"onTransitionRun"),$s(_w,"onTransitionStart"),$s(yw,"onTransitionCancel"),$s(iv,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jc));function x0(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],f=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var E=c.length-1;0<=E;E--){var x=c[E],V=x.instance,Y=x.currentTarget;if(x=x.listener,V!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=Y;try{p(f)}catch(ne){Bd(ne)}f.currentTarget=null,p=V}else for(E=0;E<c.length;E++){if(x=c[E],V=x.instance,Y=x.currentTarget,x=x.listener,V!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=Y;try{p(f)}catch(ne){Bd(ne)}f.currentTarget=null,p=V}}}}function We(n,i){var r=i[Lo];r===void 0&&(r=i[Lo]=new Set);var c=n+"__bubble";r.has(c)||(w0(i,n,2,!1),r.add(c))}function Gp(n,i,r){var c=0;i&&(c|=4),w0(r,n,c,i)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Qp(n){if(!n[Ih]){n[Ih]=!0,dc.forEach(function(r){r!=="selectionchange"&&(t2.has(r)||Gp(r,!1,n),Gp(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ih]||(i[Ih]=!0,Gp("selectionchange",!1,i))}}function w0(n,i,r,c){switch(tb(i)){case 2:var f=N2;break;case 8:f=C2;break;default:f=lg}r=f.bind(null,i,r,n),f=void 0,!zr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,r,{capture:!0,passive:f}):n.addEventListener(i,r,!0):f!==void 0?n.addEventListener(i,r,{passive:f}):n.addEventListener(i,r,!1)}function Kp(n,i,r,c,f){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var x=c.stateNode.containerInfo;if(x===f)break;if(E===4)for(E=c.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;x!==null;){if(E=li(x),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){c=p=E;continue e}x=x.parentNode}}c=c.return}Ea(function(){var Y=p,ne=bs(r),le=[];e:{var W=av.get(n);if(W!==void 0){var ee=pi,Re=n;switch(n){case"keypress":if(Pr(r)===0)break e;case"keydown":case"keyup":ee=Pd;break;case"focusin":Re="focus",ee=Ur;break;case"focusout":Re="blur",ee=Ur;break;case"beforeblur":case"afterblur":ee=Ur;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case tv:case nv:case sv:ee=jd;break;case iv:ee=R;break;case"scroll":case"scrollend":ee=Sc;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=kd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Bi;break;case"toggle":case"beforetoggle":ee=Fe}var Le=(i&4)!==0,bt=!Le&&(n==="scroll"||n==="scrollend"),F=Le?W!==null?W+"Capture":null:W;Le=[];for(var B=Y,K;B!==null;){var ae=B;if(K=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||K===null||F===null||(ae=Us(B,F),ae!=null&&Le.push(eu(B,ae,K))),bt)break;B=B.return}0<Le.length&&(W=new ee(W,Re,null,r,ne),le.push({event:W,listeners:Le}))}}if((i&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",W&&r!==bc&&(Re=r.relatedTarget||r.fromElement)&&(li(Re)||Re[ri]))break e;if((ee||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(Re=r.relatedTarget||r.toElement,ee=Y,Re=Re?li(Re):null,Re!==null&&(bt=l(Re),Le=Re.tag,Re!==bt||Le!==5&&Le!==27&&Le!==6)&&(Re=null)):(ee=null,Re=Y),ee!==Re)){if(Le=Ac,ae="onMouseLeave",F="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Le=Bi,ae="onPointerLeave",F="onPointerEnter",B="pointer"),bt=ee==null?W:es(ee),K=Re==null?W:es(Re),W=new Le(ae,B+"leave",ee,r,ne),W.target=bt,W.relatedTarget=K,ae=null,li(ne)===Y&&(Le=new Le(F,B+"enter",Re,r,ne),Le.target=K,Le.relatedTarget=bt,ae=Le),bt=ae,ee&&Re)t:{for(Le=n2,F=ee,B=Re,K=0,ae=F;ae;ae=Le(ae))K++;ae=0;for(var De=B;De;De=Le(De))ae++;for(;0<K-ae;)F=Le(F),K--;for(;0<ae-K;)B=Le(B),ae--;for(;K--;){if(F===B||B!==null&&F===B.alternate){Le=F;break t}F=Le(F),B=Le(B)}Le=null}else Le=null;ee!==null&&I0(le,W,ee,Le,!1),Re!==null&&bt!==null&&I0(le,bt,Re,Le,!0)}}e:{if(W=Y?es(Y):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var rt=$y;else if(qy(W))if(Fy)rt=fw;else{rt=dw;var Ne=uw}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Bo(Y.elementType)&&(rt=$y):rt=hw;if(rt&&(rt=rt(n,Y))){Hy(le,rt,r,ne);break e}Ne&&Ne(n,W,Y),n==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&_c(W,"number",W.value)}switch(Ne=Y?es(Y):window,n){case"focusin":(qy(Ne)||Ne.contentEditable==="true")&&(Yo=Ne,Sm=Y,Nc=null);break;case"focusout":Nc=Sm=Yo=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Jy(le,r,ne);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":Jy(le,r,ne)}var Qe;if(ct)e:{switch(n){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ko?Br(n,r)&&(Je="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Je="onCompositionStart");Je&&(yi&&r.locale!=="ko"&&(Ko||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ko&&(Qe=Tc()):(mi=ne,Ec="value"in mi?mi.value:mi.textContent,Ko=!0)),Ne=Rh(Y,Je),0<Ne.length&&(Je=new _i(Je,n,null,r,ne),le.push({event:Je,listeners:Ne}),Qe?Je.data=Qe:(Qe=Qo(r),Qe!==null&&(Je.data=Qe)))),(Qe=Ts?rw(n,r):ow(n,r))&&(Je=Rh(Y,"onBeforeInput"),0<Je.length&&(Ne=new _i("onBeforeInput","beforeinput",null,r,ne),le.push({event:Ne,listeners:Je}),Ne.data=Qe)),Zw(le,n,Y,r,ne)}x0(le,i)})}function eu(n,i,r){return{instance:n,listener:i,currentTarget:r}}function Rh(n,i){for(var r=i+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Us(n,r),f!=null&&c.unshift(eu(n,f,p)),f=Us(n,i),f!=null&&c.push(eu(n,f,p))),n.tag===3)return c;n=n.return}return[]}function n2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function I0(n,i,r,c,f){for(var p=i._reactName,E=[];r!==null&&r!==c;){var x=r,V=x.alternate,Y=x.stateNode;if(x=x.tag,V!==null&&V===c)break;x!==5&&x!==26&&x!==27||Y===null||(V=Y,f?(Y=Us(r,p),Y!=null&&E.unshift(eu(r,Y,V))):f||(Y=Us(r,p),Y!=null&&E.push(eu(r,Y,V)))),r=r.return}E.length!==0&&n.push({event:i,listeners:E})}var s2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function R0(n){return(typeof n=="string"?n:""+n).replace(s2,`
`).replace(i2,"")}function N0(n,i){return i=R0(i),R0(n)===i}function vt(n,i,r,c,f,p){switch(r){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||$n(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&$n(n,""+c);break;case"className":ts(n,"class",c);break;case"tabIndex":ts(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(n,r,c);break;case"style":vc(n,c,p);break;case"data":if(i!=="object"){ts(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=qo(""+c),n.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&vt(n,i,"name",f.name,f,null),vt(n,i,"formEncType",f.formEncType,f,null),vt(n,i,"formMethod",f.formMethod,f,null),vt(n,i,"formTarget",f.formTarget,f,null)):(vt(n,i,"encType",f.encType,f,null),vt(n,i,"method",f.method,f,null),vt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=qo(""+c),n.setAttribute(r,c);break;case"onClick":c!=null&&(n.onclick=Vs);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}r=qo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""+c):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":c===!0?n.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,c):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(r,c):n.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(r):n.setAttribute(r,c);break;case"popover":We("beforetoggle",n),We("toggle",n),Vo(n,"popover",c);break;case"xlinkActuate":Yt(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Yt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Yt(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Yt(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Yt(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Yt(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Rd.get(r)||r,Vo(n,r,c))}}function Yp(n,i,r,c,f,p){switch(r){case"style":vc(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof c=="string"?$n(n,c):(typeof c=="number"||typeof c=="bigint")&&$n(n,""+c);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),p=n[un]||null,p=p!=null?p[r]:null,typeof p=="function"&&n.removeEventListener(i,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,c,f);break e}r in n?n[r]=c:c===!0?n.setAttribute(r,""):Vo(n,r,c)}}}function bn(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",n),We("load",n);var c=!1,f=!1,p;for(p in r)if(r.hasOwnProperty(p)){var E=r[p];if(E!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(n,i,p,E,r,null)}}f&&vt(n,i,"srcSet",r.srcSet,r,null),c&&vt(n,i,"src",r.src,r,null);return;case"input":We("invalid",n);var x=p=E=f=null,V=null,Y=null;for(c in r)if(r.hasOwnProperty(c)){var ne=r[c];if(ne!=null)switch(c){case"name":f=ne;break;case"type":E=ne;break;case"checked":V=ne;break;case"defaultChecked":Y=ne;break;case"value":p=ne;break;case"defaultValue":x=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:vt(n,i,c,ne,r,null)}}xd(n,p,x,V,Y,E,f,!1);return;case"select":We("invalid",n),c=E=p=null;for(f in r)if(r.hasOwnProperty(f)&&(x=r[f],x!=null))switch(f){case"value":p=x;break;case"defaultValue":E=x;break;case"multiple":c=x;default:vt(n,i,f,x,r,null)}i=p,r=E,n.multiple=!!c,i!=null?_a(n,!!c,i,!1):r!=null&&_a(n,!!c,r,!0);return;case"textarea":We("invalid",n),p=f=c=null;for(E in r)if(r.hasOwnProperty(E)&&(x=r[E],x!=null))switch(E){case"value":c=x;break;case"defaultValue":f=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:vt(n,i,E,x,r,null)}ya(n,c,f,p);return;case"option":for(V in r)r.hasOwnProperty(V)&&(c=r[V],c!=null)&&(V==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":vt(n,i,V,c,r,null));return;case"dialog":We("beforetoggle",n),We("toggle",n),We("cancel",n),We("close",n);break;case"iframe":case"object":We("load",n);break;case"video":case"audio":for(c=0;c<Jc.length;c++)We(Jc[c],n);break;case"image":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"embed":case"source":case"link":We("error",n),We("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(c=r[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(n,i,Y,c,r,null)}return;default:if(Bo(i)){for(ne in r)r.hasOwnProperty(ne)&&(c=r[ne],c!==void 0&&Yp(n,i,ne,c,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(c=r[x],c!=null&&vt(n,i,x,c,r,null))}function a2(n,i,r,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,x=null,V=null,Y=null,ne=null;for(ee in r){var le=r[ee];if(r.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=le;default:c.hasOwnProperty(ee)||vt(n,i,ee,null,c,le)}}for(var W in c){var ee=c[W];if(le=r[W],c.hasOwnProperty(W)&&(ee!=null||le!=null))switch(W){case"type":p=ee;break;case"name":f=ee;break;case"checked":Y=ee;break;case"defaultChecked":ne=ee;break;case"value":E=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:ee!==le&&vt(n,i,W,ee,c,le)}}Uo(n,E,x,V,Y,ne,p,f);return;case"select":ee=E=x=W=null;for(p in r)if(V=r[p],r.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":ee=V;default:c.hasOwnProperty(p)||vt(n,i,p,null,c,V)}for(f in c)if(p=c[f],V=r[f],c.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":W=p;break;case"defaultValue":x=p;break;case"multiple":E=p;default:p!==V&&vt(n,i,f,p,c,V)}i=x,r=E,c=ee,W!=null?_a(n,!!r,W,!1):!!c!=!!r&&(i!=null?_a(n,!!r,i,!0):_a(n,!!r,r?[]:"",!1));return;case"textarea":ee=W=null;for(x in r)if(f=r[x],r.hasOwnProperty(x)&&f!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:vt(n,i,x,null,c,f)}for(E in c)if(f=c[E],p=r[E],c.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":W=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&vt(n,i,E,f,c,p)}wd(n,W,ee);return;case"option":for(var Re in r)W=r[Re],r.hasOwnProperty(Re)&&W!=null&&!c.hasOwnProperty(Re)&&(Re==="selected"?n.selected=!1:vt(n,i,Re,null,c,W));for(V in c)W=c[V],ee=r[V],c.hasOwnProperty(V)&&W!==ee&&(W!=null||ee!=null)&&(V==="selected"?n.selected=W&&typeof W!="function"&&typeof W!="symbol":vt(n,i,V,W,c,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in r)W=r[Le],r.hasOwnProperty(Le)&&W!=null&&!c.hasOwnProperty(Le)&&vt(n,i,Le,null,c,W);for(Y in c)if(W=c[Y],ee=r[Y],c.hasOwnProperty(Y)&&W!==ee&&(W!=null||ee!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:vt(n,i,Y,W,c,ee)}return;default:if(Bo(i)){for(var bt in r)W=r[bt],r.hasOwnProperty(bt)&&W!==void 0&&!c.hasOwnProperty(bt)&&Yp(n,i,bt,void 0,c,W);for(ne in c)W=c[ne],ee=r[ne],!c.hasOwnProperty(ne)||W===ee||W===void 0&&ee===void 0||Yp(n,i,ne,W,c,ee);return}}for(var F in r)W=r[F],r.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&vt(n,i,F,null,c,W);for(le in c)W=c[le],ee=r[le],!c.hasOwnProperty(le)||W===ee||W==null&&ee==null||vt(n,i,le,W,c,ee)}function C0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var f=r[c],p=f.transferSize,E=f.initiatorType,x=f.duration;if(p&&x&&C0(E)){for(E=0,x=f.responseEnd,c+=1;c<r.length;c++){var V=r[c],Y=V.startTime;if(Y>x)break;var ne=V.transferSize,le=V.initiatorType;ne&&C0(le)&&(V=V.responseEnd,E+=ne*(V<x?1:(x-Y)/(V-Y)))}if(--c,i+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Wp=null,Xp=null;function Nh(n){return n.nodeType===9?n:n.ownerDocument}function j0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Zp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jp=null;function o2(){var n=window.event;return n&&n.type==="popstate"?n===Jp?!1:(Jp=n,!0):(Jp=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(n){return O0.resolve(null).then(n).catch(u2)}:D0;function u2(n){setTimeout(function(){throw n})}function Ba(n){return n==="head"}function M0(n,i){var r=i,c=0;do{var f=r.nextSibling;if(n.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(c===0){n.removeChild(f),Tl(i);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")tu(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,tu(r);for(var p=r.firstChild;p;){var E=p.nextSibling,x=p.nodeName;p[oi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=E}}else r==="body"&&tu(n.ownerDocument.body);r=f}while(r);Tl(i)}function z0(n,i){var r=n;n=0;do{var c=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=c}while(r)}function eg(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":eg(r),Po(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function d2(n,i,r,c){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[oi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Ns(n.nextSibling),n===null)break}return null}function h2(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Ns(n.nextSibling),n===null))return null;return n}function L0(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Ns(n.nextSibling),n===null))return null;return n}function tg(n){return n.data==="$?"||n.data==="$~"}function ng(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function f2(n,i){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||r.readyState!=="loading")i();else{var c=function(){i(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Ns(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var sg=null;function P0(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(i===0)return Ns(n.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}n=n.nextSibling}return null}function V0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return n;i--}else r!=="/$"&&r!=="/&"||i++}n=n.previousSibling}return null}function U0(n,i,r){switch(i=Nh(r),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function tu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Po(n)}var Cs=new Map,B0=new Set;function Ch(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var na=me.d;me.d={f:m2,r:p2,D:g2,C:_2,L:y2,m:v2,X:E2,S:b2,M:T2};function m2(){var n=na.f(),i=Eh();return n||i}function p2(n){var i=vs(n);i!==null&&i.tag===5&&i.type==="form"?i1(i):na.r(n)}var vl=typeof document>"u"?null:document;function q0(n,i,r){var c=vl;if(c&&typeof i=="string"&&i){var f=Hn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),B0.has(f)||(B0.add(f),n={rel:n,crossOrigin:r,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),bn(i,"link",n),Kt(i),c.head.appendChild(i)))}}function g2(n){na.D(n),q0("dns-prefetch",n,null)}function _2(n,i){na.C(n,i),q0("preconnect",n,i)}function y2(n,i,r){na.L(n,i,r);var c=vl;if(c&&n&&i){var f='link[rel="preload"][as="'+Hn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Hn(r.imageSizes)+'"]')):f+='[href="'+Hn(n)+'"]';var p=f;switch(i){case"style":p=bl(n);break;case"script":p=El(n)}Cs.has(p)||(n=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),Cs.set(p,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(nu(p))||i==="script"&&c.querySelector(su(p))||(i=c.createElement("link"),bn(i,"link",n),Kt(i),c.head.appendChild(i)))}}function v2(n,i){na.m(n,i);var r=vl;if(r&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Hn(c)+'"][href="'+Hn(n)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=El(n)}if(!Cs.has(p)&&(n=b({rel:"modulepreload",href:n},i),Cs.set(p,n),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(su(p)))return}c=r.createElement("link"),bn(c,"link",n),Kt(c),r.head.appendChild(c)}}}function b2(n,i,r){na.S(n,i,r);var c=vl;if(c&&n){var f=ci(c).hoistableStyles,p=bl(n);i=i||"default";var E=f.get(p);if(!E){var x={loading:0,preload:null};if(E=c.querySelector(nu(p)))x.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},r),(r=Cs.get(p))&&ig(n,r);var V=E=c.createElement("link");Kt(V),bn(V,"link",n),V._p=new Promise(function(Y,ne){V.onload=Y,V.onerror=ne}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,jh(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:x},f.set(p,E)}}}function E2(n,i){na.X(n,i);var r=vl;if(r&&n){var c=ci(r).hoistableScripts,f=El(n),p=c.get(f);p||(p=r.querySelector(su(f)),p||(n=b({src:n,async:!0},i),(i=Cs.get(f))&&ag(n,i),p=r.createElement("script"),Kt(p),bn(p,"link",n),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function T2(n,i){na.M(n,i);var r=vl;if(r&&n){var c=ci(r).hoistableScripts,f=El(n),p=c.get(f);p||(p=r.querySelector(su(f)),p||(n=b({src:n,async:!0,type:"module"},i),(i=Cs.get(f))&&ag(n,i),p=r.createElement("script"),Kt(p),bn(p,"link",n),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function H0(n,i,r,c){var f=(f=ye.current)?Ch(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=bl(r.href),r=ci(f).hoistableStyles,c=r.get(i),c||(c={type:"style",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=bl(r.href);var p=ci(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(nu(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Cs.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cs.set(n,r),p||S2(f,n,r,E.state))),i&&c===null)throw Error(a(528,""));return E}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=El(r),r=ci(f).hoistableScripts,c=r.get(i),c||(c={type:"script",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function bl(n){return'href="'+Hn(n)+'"'}function nu(n){return'link[rel="stylesheet"]['+n+"]"}function $0(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function S2(n,i,r,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),bn(i,"link",r),Kt(i),n.head.appendChild(i))}function El(n){return'[src="'+Hn(n)+'"]'}function su(n){return"script[async]"+n}function F0(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Hn(r.href)+'"]');if(c)return i.instance=c,Kt(c),c;var f=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Kt(c),bn(c,"style",f),jh(c,r.precedence,n),i.instance=c;case"stylesheet":f=bl(r.href);var p=n.querySelector(nu(f));if(p)return i.state.loading|=4,i.instance=p,Kt(p),p;c=$0(r),(f=Cs.get(f))&&ig(c,f),p=(n.ownerDocument||n).createElement("link"),Kt(p);var E=p;return E._p=new Promise(function(x,V){E.onload=x,E.onerror=V}),bn(p,"link",c),i.state.loading|=4,jh(p,r.precedence,n),i.instance=p;case"script":return p=El(r.src),(f=n.querySelector(su(p)))?(i.instance=f,Kt(f),f):(c=r,(f=Cs.get(p))&&(c=b({},r),ag(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Kt(f),bn(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,jh(c,r.precedence,n));return i.instance}function jh(n,i,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,E=0;E<c.length;E++){var x=c[E];if(x.dataset.precedence===i)p=x;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function ig(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function ag(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var kh=null;function G0(n,i,r){if(kh===null){var c=new Map,f=kh=new Map;f.set(r,c)}else f=kh,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(n))return c;for(c.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var p=r[f];if(!(p[oi]||p[Qt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=n+E;var x=c.get(E);x?x.push(p):c.set(E,[p])}}return c}function Q0(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function A2(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function x2(n,i,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=bl(c.href),p=i.querySelector(nu(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Dh.bind(n),i.then(n,n)),r.state.loading|=4,r.instance=p,Kt(p);return}p=i.ownerDocument||i,c=$0(c),(f=Cs.get(f))&&ig(c,f),p=p.createElement("link"),Kt(p);var E=p;E._p=new Promise(function(x,V){E.onload=x,E.onerror=V}),bn(p,"link",c),r.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=Dh.bind(n),i.addEventListener("load",r),i.addEventListener("error",r))}}var rg=0;function w2(n,i){return n.stylesheets&&n.count===0&&Mh(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var c=setTimeout(function(){if(n.stylesheets&&Mh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+i);0<n.imgBytes&&rg===0&&(rg=62500*r2());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Mh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>rg?50:800)+i);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Oh=null;function Mh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Oh=new Map,i.forEach(I2,n),Oh=null,Dh.call(n))}function I2(n,i){if(!(i.state.loading&4)){var r=Oh.get(n);if(r)var c=r.get(null);else{r=new Map,Oh.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),c=E)}c&&r.set(null,c)}f=i.instance,E=f.getAttribute("data-precedence"),p=r.get(E)||c,p===c&&r.set(null,f),r.set(E,f),this.count++,c=Dh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var iu={$$typeof:H,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function R2(n,i,r,c,f,p,E,x,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Y0(n,i,r,c,f,p,E,x,V,Y,ne,le){return n=new R2(n,i,r,E,V,Y,ne,le,x),i=1,p===!0&&(i|=24),p=ss(3,null,null,i),n.current=p,p.stateNode=n,i=Vm(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:r,cache:i},Hm(p),n}function W0(n){return n?(n=Zo,n):Zo}function X0(n,i,r,c,f,p){f=W0(f),c.context===null?c.context=f:c.pendingContext=f,c=Ca(i),c.payload={element:r},p=p===void 0?null:p,p!==null&&(c.callback=p),r=ja(n,c,i),r!==null&&(Yn(r,n,i),zc(r,n,i))}function Z0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function og(n,i){Z0(n,i),(n=n.alternate)&&Z0(n,i)}function J0(n){if(n.tag===13||n.tag===31){var i=$r(n,67108864);i!==null&&Yn(i,n,67108864),og(n,67108864)}}function eb(n){if(n.tag===13||n.tag===31){var i=ls();i=kr(i);var r=$r(n,i);r!==null&&Yn(r,n,i),og(n,i)}}var zh=!0;function N2(n,i,r,c){var f=X.T;X.T=null;var p=me.p;try{me.p=2,lg(n,i,r,c)}finally{me.p=p,X.T=f}}function C2(n,i,r,c){var f=X.T;X.T=null;var p=me.p;try{me.p=8,lg(n,i,r,c)}finally{me.p=p,X.T=f}}function lg(n,i,r,c){if(zh){var f=cg(c);if(f===null)Kp(n,i,c,Lh,r),nb(n,c);else if(k2(f,n,i,r,c))c.stopPropagation();else if(nb(n,c),i&4&&-1<j2.indexOf(n)){for(;f!==null;){var p=vs(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=si(p.pendingLanes);if(E!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var V=1<<31-Lt(E);x.entanglements[1]|=V,E&=~V}Ti(p),(ut&6)===0&&(vh=Ln()+500,Zc(0))}}break;case 31:case 13:x=$r(p,2),x!==null&&Yn(x,p,2),Eh(),og(p,2)}if(p=cg(c),p===null&&Kp(n,i,c,Lh,r),p===f)break;f=p}f!==null&&c.stopPropagation()}else Kp(n,i,c,null,r)}}function cg(n){return n=bs(n),ug(n)}var Lh=null;function ug(n){if(Lh=null,n=li(n),n!==null){var i=l(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=d(i),n!==null)return n;n=null}else if(r===31){if(n=m(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Lh=n,null}function tb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rr()){case oc:return 2;case lc:return 8;case pa:case gm:return 32;case pd:return 268435456;default:return 32}default:return 32}}var dg=!1,qa=null,Ha=null,$a=null,au=new Map,ru=new Map,Fa=[],j2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nb(n,i){switch(n){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function ou(n,i,r,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:r,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},i!==null&&(i=vs(i),i!==null&&J0(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function k2(n,i,r,c,f){switch(i){case"focusin":return qa=ou(qa,n,i,r,c,f),!0;case"dragenter":return Ha=ou(Ha,n,i,r,c,f),!0;case"mouseover":return $a=ou($a,n,i,r,c,f),!0;case"pointerover":var p=f.pointerId;return au.set(p,ou(au.get(p)||null,n,i,r,c,f)),!0;case"gotpointercapture":return p=f.pointerId,ru.set(p,ou(ru.get(p)||null,n,i,r,c,f)),!0}return!1}function sb(n){var i=li(n.target);if(i!==null){var r=l(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){n.blockedOn=i,Ls(n.priority,function(){eb(r)});return}}else if(i===31){if(i=m(r),i!==null){n.blockedOn=i,Ls(n.priority,function(){eb(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ph(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=cg(n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);bc=c,r.target.dispatchEvent(c),bc=null}else return i=vs(r),i!==null&&J0(i),n.blockedOn=r,!1;i.shift()}return!0}function ib(n,i,r){Ph(n)&&r.delete(i)}function D2(){dg=!1,qa!==null&&Ph(qa)&&(qa=null),Ha!==null&&Ph(Ha)&&(Ha=null),$a!==null&&Ph($a)&&($a=null),au.forEach(ib),ru.forEach(ib)}function Vh(n,i){n.blockedOn===i&&(n.blockedOn=null,dg||(dg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D2)))}var Uh=null;function ab(n){Uh!==n&&(Uh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uh===n&&(Uh=null);for(var i=0;i<n.length;i+=3){var r=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(ug(c||r)===null)continue;break}var p=vs(r);p!==null&&(n.splice(i,3),i-=3,cp(p,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function Tl(n){function i(V){return Vh(V,n)}qa!==null&&Vh(qa,n),Ha!==null&&Vh(Ha,n),$a!==null&&Vh($a,n),au.forEach(i),ru.forEach(i);for(var r=0;r<Fa.length;r++){var c=Fa[r];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Fa.length&&(r=Fa[0],r.blockedOn===null);)sb(r),r.blockedOn===null&&Fa.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],p=r[c+1],E=f[un]||null;if(typeof p=="function")E||ab(r);else if(E){var x=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[un]||null)x=E.formAction;else if(ug(f)!==null)continue}else x=E.action;typeof x=="function"?r[c+1]=x:(r.splice(c,3),c-=3),ab(r)}}}function rb(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function hg(n){this._internalRoot=n}Bh.prototype.render=hg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,c=ls();X0(r,c,n,i,null,null)},Bh.prototype.unmount=hg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;X0(n.current,2,null,n,null,null),Eh(),i[ri]=null}};function Bh(n){this._internalRoot=n}Bh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ed();n={blockedOn:null,target:n,priority:i};for(var r=0;r<Fa.length&&i!==0&&i<Fa[r].priority;r++);Fa.splice(r,0,n),r===0&&sb(n)}};var ob=e.version;if(ob!=="19.2.4")throw Error(a(527,ob,"19.2.4"));me.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=_(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var O2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Ms=qh.inject(O2),pn=qh}catch{}}return cu.createRoot=function(n,i){if(!o(n))throw Error(a(299));var r=!1,c="",f=m1,p=p1,E=g1;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Y0(n,1,!1,null,null,r,c,null,f,p,E,rb),n[ri]=i.current,Qp(n),new hg(i)},cu.hydrateRoot=function(n,i,r){if(!o(n))throw Error(a(299));var c=!1,f="",p=m1,E=p1,x=g1,V=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(V=r.formState)),i=Y0(n,1,!0,i,r??null,c,f,V,p,E,x,rb),i.context=W0(null),r=i.current,c=ls(),c=kr(c),f=Ca(c),f.callback=null,ja(r,f,c),r=c,i.current.lanes=r,Cr(i,r),Ti(i),n[ri]=i.current,Qp(n),new Bh(i)},cu.version="19.2.4",cu}var _b;function H2(){if(_b)return pg.exports;_b=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pg.exports=q2(),pg.exports}var $2=H2();const F2=gT($2);var yb="popstate";function G2(s={}){function e(o,l){let{pathname:d="/",search:m="",hash:g=""}=xo(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Bg("",{pathname:d,search:m,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=o.location.href,_=g.indexOf("#");m=_===-1?g:g.slice(0,_)}return m+"#"+(typeof l=="string"?l:Ru(l))}function a(o,l){ms(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return K2(e,t,a,s)}function Nt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ms(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q2(){return Math.random().toString(36).substring(2,10)}function vb(s,e){return{usr:s.state,key:s.key,idx:e}}function Bg(s,e,t=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:t,key:e&&e.key||a||Q2()}}function Ru({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function xo(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function K2(s,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,d=o.history,m="POP",g=null,_=y();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function y(){return(d.state||{idx:null}).idx}function b(){m="POP";let j=y(),$=j==null?null:j-_;_=j,g&&g({action:m,location:P.location,delta:$})}function S(j,$){m="PUSH";let q=Bg(P.location,j,$);t&&t(q,j),_=y()+1;let H=vb(q,_),z=P.createHref(q);try{d.pushState(H,"",z)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(z)}l&&g&&g({action:m,location:P.location,delta:1})}function N(j,$){m="REPLACE";let q=Bg(P.location,j,$);t&&t(q,j),_=y();let H=vb(q,_),z=P.createHref(q);d.replaceState(H,"",z),l&&g&&g({action:m,location:P.location,delta:0})}function D(j){return Y2(j)}let P={get action(){return m},get location(){return s(o,d)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(yb,b),g=j,()=>{o.removeEventListener(yb,b),g=null}},createHref(j){return e(o,j)},createURL:D,encodeLocation(j){let $=D(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:N,go(j){return d.go(j)}};return P}function Y2(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ru(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function yT(s,e,t="/"){return W2(s,e,t,!1)}function W2(s,e,t,a){let o=typeof e=="string"?xo(e):e,l=ca(o.pathname||"/",t);if(l==null)return null;let d=vT(s);X2(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let _=lI(l);m=rI(d[g],_,a)}return m}function vT(s,e=[],t=[],a="",o=!1){let l=(d,m,g=o,_)=>{let y={relativePath:_===void 0?d.path||"":_,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&g)return;Nt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let b=ra([a,y.relativePath]),S=t.concat(y);d.children&&d.children.length>0&&(Nt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),vT(d.children,e,S,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:iI(b,d.index),routesMeta:S})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))l(d,m);else for(let g of bT(d.path))l(d,m,!0,g)}),e}function bT(s){let e=s.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let d=bT(a.join("/")),m=[];return m.push(...d.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...d),m.map(g=>s.startsWith("/")&&g===""?"/":g)}function X2(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:aI(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var Z2=/^:[\w-]+$/,J2=3,eI=2,tI=1,nI=10,sI=-2,bb=s=>s==="*";function iI(s,e){let t=s.split("/"),a=t.length;return t.some(bb)&&(a+=sI),e&&(a+=eI),t.filter(o=>!bb(o)).reduce((o,l)=>o+(Z2.test(l)?J2:l===""?tI:nI),a)}function aI(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function rI(s,e,t=!1){let{routesMeta:a}=s,o={},l="/",d=[];for(let m=0;m<a.length;++m){let g=a[m],_=m===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=ff({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},y),S=g.route;if(!b&&_&&t&&!a[a.length-1].route.index&&(b=ff({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:ra([l,b.pathname]),pathnameBase:hI(ra([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=ra([l,b.pathnameBase]))}return d}function ff(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,a]=oI(s.path,s.caseSensitive,s.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((_,{paramName:y,isOptional:b},S)=>{if(y==="*"){let D=m[S]||"";d=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const N=m[S];return b&&!N?_[y]=void 0:_[y]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:d,pattern:s}}function oI(s,e=!1,t=!0){ms(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function lI(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ms(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ca(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=s.charAt(t);return a&&a!=="/"?null:s.slice(t)||"/"}var cI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function uI(s,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof s=="string"?xo(s):s,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=Eb(t.substring(1),"/"):l=Eb(t,e)):l=e,{pathname:l,search:fI(a),hash:mI(o)}}function Eb(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function vg(s,e,t,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function A_(s){let e=dI(s);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function x_(s,e,t,a=!1){let o;typeof s=="string"?o=xo(s):(o={...s},Nt(!o.pathname||!o.pathname.includes("?"),vg("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),vg("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),vg("#","search","hash",o)));let l=s===""||o.pathname==="",d=l?"/":o.pathname,m;if(d==null)m=t;else{let b=e.length-1;if(!a&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let g=uI(o,m),_=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(_||y)&&(g.pathname+="/"),g}var ra=s=>s.join("/").replace(/\/\/+/g,"/"),hI=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,mI=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,pI=class{constructor(s,e,t,a=!1){this.status=s,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function gI(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function _I(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TT(s,e){let t=s;if(typeof t!="string"||!cI.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,o=!1;if(ET)try{let l=new URL(window.location.href),d=t.startsWith("//")?new URL(l.protocol+t):new URL(t),m=ca(d.pathname,e);d.origin===l.origin&&m!=null?t=m+d.search+d.hash:o=!0}catch{ms(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var yI=["GET",...ST];new Set(yI);var $l=w.createContext(null);$l.displayName="DataRouter";var Lf=w.createContext(null);Lf.displayName="DataRouterState";var vI=w.createContext(!1),AT=w.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var bI=w.createContext(new Map);bI.displayName="Fetchers";var EI=w.createContext(null);EI.displayName="Await";var gs=w.createContext(null);gs.displayName="Navigation";var Gu=w.createContext(null);Gu.displayName="Location";var Os=w.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var w_=w.createContext(null);w_.displayName="RouteError";var xT="REACT_ROUTER_ERROR",TI="REDIRECT",SI="ROUTE_ERROR_RESPONSE";function AI(s){if(s.startsWith(`${xT}:${TI}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xI(s){if(s.startsWith(`${xT}:${SI}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pI(e.status,e.statusText,e.data)}catch{}}function wI(s,{relative:e}={}){Nt(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=w.useContext(gs),{hash:o,pathname:l,search:d}=Ku(s,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:ra([t,l])),a.createHref({pathname:m,search:d,hash:o})}function Fl(){return w.useContext(Gu)!=null}function Jn(){return Nt(Fl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gu).location}var wT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IT(s){w.useContext(gs).static||w.useLayoutEffect(s)}function wn(){let{isDataRoute:s}=w.useContext(Os);return s?BI():II()}function II(){Nt(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext($l),{basename:e,navigator:t}=w.useContext(gs),{matches:a}=w.useContext(Os),{pathname:o}=Jn(),l=JSON.stringify(A_(a)),d=w.useRef(!1);return IT(()=>{d.current=!0}),w.useCallback((g,_={})=>{if(ms(d.current,wT),!d.current)return;if(typeof g=="number"){t.go(g);return}let y=x_(g,JSON.parse(l),o,_.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ra([e,y.pathname])),(_.replace?t.replace:t.push)(y,_.state,_)},[e,t,l,o,s])}var RI=w.createContext(null);function NI(s){let e=w.useContext(Os).outlet;return w.useMemo(()=>e&&w.createElement(RI.Provider,{value:s},e),[e,s])}function Qu(){let{matches:s}=w.useContext(Os),e=s[s.length-1];return e?e.params:{}}function Ku(s,{relative:e}={}){let{matches:t}=w.useContext(Os),{pathname:a}=Jn(),o=JSON.stringify(A_(t));return w.useMemo(()=>x_(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function CI(s,e){return RT(s,e)}function RT(s,e,t,a,o){Nt(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(gs),{matches:d}=w.useContext(Os),m=d[d.length-1],g=m?m.params:{},_=m?m.pathname:"/",y=m?m.pathnameBase:"/",b=m&&m.route;{let q=b&&b.path||"";CT(_,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Jn(),N;if(e){let q=typeof e=="string"?xo(e):e;Nt(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),N=q}else N=S;let D=N.pathname||"/",P=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let j=yT(s,{pathname:P});ms(b||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ms(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=MI(j&&j.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:ra([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:ra([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,t,a,o);return e&&$?w.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},$):$}function jI(){let s=UI(),e=gI(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,d)}var kI=w.createElement(jI,null),NT=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const t=xI(s.digest);t&&(s=t)}let e=s!==void 0?w.createElement(Os.Provider,{value:this.props.routeContext},w.createElement(w_.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?w.createElement(DI,{error:s},e):e}};NT.contextType=vI;var bg=new WeakMap;function DI({children:s,error:e}){let{basename:t}=w.useContext(gs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=AI(e.digest);if(a){let o=bg.get(e);if(o)throw o;let l=TT(a.location,t);if(ET&&!bg.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw bg.set(e,d),d}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return s}function OI({routeContext:s,match:e,children:t}){let a=w.useContext($l);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Os.Provider,{value:s},t)}function MI(s,e=[],t=null,a=null,o=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,d=t?.errors;if(d!=null){let y=l.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Nt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let m=!1,g=-1;if(t)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:S,errors:N}=t,D=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||D){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let _=t&&a?(y,b)=>{a(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:_I(t.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,S)=>{let N,D=!1,P=null,j=null;t&&(N=d&&b.route.id?d[b.route.id]:void 0,P=b.route.errorElement||kI,m&&(g<0&&S===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,j=null):g===S&&(D=!0,j=b.route.hydrateFallbackElement||null)));let $=e.concat(l.slice(0,S+1)),q=()=>{let H;return N?H=P:D?H=j:b.route.Component?H=w.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=y,w.createElement(OI,{match:b,routeContext:{outlet:y,matches:$,isDataRoute:t!=null},children:H})};return t&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?w.createElement(NT,{location:t.location,revalidation:t.revalidation,component:P,error:N,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:_}):q()},null)}function I_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zI(s){let e=w.useContext($l);return Nt(e,I_(s)),e}function LI(s){let e=w.useContext(Lf);return Nt(e,I_(s)),e}function PI(s){let e=w.useContext(Os);return Nt(e,I_(s)),e}function R_(s){let e=PI(s),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function VI(){return R_("useRouteId")}function UI(){let s=w.useContext(w_),e=LI("useRouteError"),t=R_("useRouteError");return s!==void 0?s:e.errors?.[t]}function BI(){let{router:s}=zI("useNavigate"),e=R_("useNavigate"),t=w.useRef(!1);return IT(()=>{t.current=!0}),w.useCallback(async(o,l={})=>{ms(t.current,wT),t.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...l}))},[s,e])}var Tb={};function CT(s,e,t){!e&&!Tb[s]&&(Tb[s]=!0,ms(!1,t))}w.memo(qI);function qI({routes:s,future:e,state:t,onError:a}){return RT(s,void 0,t,a,e)}function mf({to:s,replace:e,state:t,relative:a}){Nt(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(gs);ms(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Os),{pathname:d}=Jn(),m=wn(),g=x_(s,A_(l),d,a==="path"),_=JSON.stringify(g);return w.useEffect(()=>{m(JSON.parse(_),{replace:e,state:t,relative:a})},[m,_,a,e,t]),null}function HI(s){return NI(s.context)}function zt(s){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $I({basename:s="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:d}){Nt(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),g=w.useMemo(()=>({basename:m,navigator:o,static:l,unstable_useTransitions:d,future:{}}),[m,o,l,d]);typeof t=="string"&&(t=xo(t));let{pathname:_="/",search:y="",hash:b="",state:S=null,key:N="default"}=t,D=w.useMemo(()=>{let P=ca(_,m);return P==null?null:{location:{pathname:P,search:y,hash:b,state:S,key:N},navigationType:a}},[m,_,y,b,S,N,a]);return ms(D!=null,`<Router basename="${m}"> is not able to match the URL "${_}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:w.createElement(gs.Provider,{value:g},w.createElement(Gu.Provider,{children:e,value:D}))}function FI({children:s,location:e}){return CI(qg(s),e)}function qg(s,e=[]){let t=[];return w.Children.forEach(s,(a,o)=>{if(!w.isValidElement(a))return;let l=[...e,o];if(a.type===w.Fragment){t.push.apply(t,qg(a.props.children,l));return}Nt(a.type===zt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=qg(a.props.children,l)),t.push(d)}),t}var Jh="get",ef="application/x-www-form-urlencoded";function Pf(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function GI(s){return Pf(s)&&s.tagName.toLowerCase()==="button"}function QI(s){return Pf(s)&&s.tagName.toLowerCase()==="form"}function KI(s){return Pf(s)&&s.tagName.toLowerCase()==="input"}function YI(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function WI(s,e){return s.button===0&&(!e||e==="_self")&&!YI(s)}function Hg(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let a=s[t];return e.concat(Array.isArray(a)?a.map(o=>[t,o]):[[t,a]])},[]))}function XI(s,e){let t=Hg(s);return e&&e.forEach((a,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}var Hh=null;function ZI(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var JI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(s){return s!=null&&!JI.has(s)?(ms(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):s}function eR(s,e){let t,a,o,l,d;if(QI(s)){let m=s.getAttribute("action");a=m?ca(m,e):null,t=s.getAttribute("method")||Jh,o=Eg(s.getAttribute("enctype"))||ef,l=new FormData(s)}else if(GI(s)||KI(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||m.getAttribute("action");if(a=g?ca(g,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||Jh,o=Eg(s.getAttribute("formenctype"))||Eg(m.getAttribute("enctype"))||ef,l=new FormData(m,s),!ZI()){let{name:_,type:y,value:b}=s;if(y==="image"){let S=_?`${_}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else _&&l.append(_,b)}}else{if(Pf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jh,a=null,o=ef,d=s}return l&&o==="text/plain"&&(d=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function N_(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function tR(s,e,t,a){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&ca(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function nR(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sR(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function iR(s,e,t){let a=await Promise.all(s.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await nR(l,t);return d.links?d.links():[]}return[]}));return lR(a.flat(1).filter(sR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sb(s,e,t,a,o,l){let d=(g,_)=>t[_]?g.route.id!==t[_].route.id:!0,m=(g,_)=>t[_].pathname!==g.pathname||t[_].route.path?.endsWith("*")&&t[_].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,_)=>d(g,_)||m(g,_)):l==="data"?e.filter((g,_)=>{let y=a.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(d(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aR(s,e,{includeHydrateFallback:t}={}){return rR(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function rR(s){return[...new Set(s)]}function oR(s){let e={},t=Object.keys(s).sort();for(let a of t)e[a]=s[a];return e}function lR(s,e){let t=new Set;return new Set(e),s.reduce((a,o)=>{let l=JSON.stringify(oR(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}function jT(){let s=w.useContext($l);return N_(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function cR(){let s=w.useContext(Lf);return N_(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var C_=w.createContext(void 0);C_.displayName="FrameworkContext";function kT(){let s=w.useContext(C_);return N_(s,"You must render this element inside a <HydratedRouter> element"),s}function uR(s,e){let t=w.useContext(C_),[a,o]=w.useState(!1),[l,d]=w.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:y,onTouchStart:b}=e,S=w.useRef(null);w.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let P=$=>{$.forEach(q=>{d(q.isIntersecting)})},j=new IntersectionObserver(P,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[s]),w.useEffect(()=>{if(a){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[a]);let N=()=>{o(!0)},D=()=>{o(!1),d(!1)};return t?s!=="intent"?[l,S,{}]:[l,S,{onFocus:uu(m,N),onBlur:uu(g,D),onMouseEnter:uu(_,N),onMouseLeave:uu(y,D),onTouchStart:uu(b,N)}]:[!1,S,{}]}function uu(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function dR({page:s,...e}){let{router:t}=jT(),a=w.useMemo(()=>yT(t.routes,s,t.basename),[t.routes,s,t.basename]);return a?w.createElement(fR,{page:s,matches:a,...e}):null}function hR(s){let{manifest:e,routeModules:t}=kT(),[a,o]=w.useState([]);return w.useEffect(()=>{let l=!1;return iR(s,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[s,e,t]),a}function fR({page:s,matches:e,...t}){let a=Jn(),{future:o,manifest:l,routeModules:d}=kT(),{basename:m}=jT(),{loaderData:g,matches:_}=cR(),y=w.useMemo(()=>Sb(s,e,_,l,a,"data"),[s,e,_,l,a]),b=w.useMemo(()=>Sb(s,e,_,l,a,"assets"),[s,e,_,l,a]),S=w.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let P=new Set,j=!1;if(e.forEach(q=>{let H=l.routes[q.route.id];!H||!H.hasLoader||(!y.some(z=>z.route.id===q.route.id)&&q.route.id in g&&d[q.route.id]?.shouldRevalidate||H.hasClientLoader?j=!0:P.add(q.route.id))}),P.size===0)return[];let $=tR(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return j&&P.size>0&&$.searchParams.set("_routes",e.filter(q=>P.has(q.route.id)).map(q=>q.route.id).join(",")),[$.pathname+$.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,a,l,y,e,s,d]),N=w.useMemo(()=>aR(b,l),[b,l]),D=hR(b);return w.createElement(w.Fragment,null,S.map(P=>w.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),N.map(P=>w.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),D.map(({key:P,link:j})=>w.createElement("link",{key:P,nonce:t.nonce,...j,crossOrigin:j.crossOrigin??t.crossOrigin})))}function mR(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var pR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pR&&(window.__reactRouterVersion="7.13.0")}catch{}function gR({basename:s,children:e,unstable_useTransitions:t,window:a}){let o=w.useRef();o.current==null&&(o.current=G2({window:a,v5Compat:!0}));let l=o.current,[d,m]=w.useState({action:l.action,location:l.location}),g=w.useCallback(_=>{t===!1?m(_):w.startTransition(()=>m(_))},[t]);return w.useLayoutEffect(()=>l.listen(g),[l,g]),w.createElement($I,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:l,unstable_useTransitions:t})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nu=w.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:d,state:m,target:g,to:_,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:S,...N},D){let{basename:P,unstable_useTransitions:j}=w.useContext(gs),$=typeof _=="string"&&DT.test(_),q=TT(_,P);_=q.to;let H=wI(_,{relative:o}),[z,ie,he]=uR(a,N),O=vR(_,{replace:d,state:m,target:g,preventScrollReset:y,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:j});function I(L){e&&e(L),L.defaultPrevented||O(L)}let C=w.createElement("a",{...N,...he,href:q.absoluteURL||H,onClick:q.isExternal||l?e:I,ref:mR(D,ie),target:g,"data-discover":!$&&t==="render"?"true":void 0});return z&&!$?w.createElement(w.Fragment,null,C,w.createElement(dR,{page:H})):C});Nu.displayName="Link";var OT=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:d,viewTransition:m,children:g,..._},y){let b=Ku(d,{relative:_.relative}),S=Jn(),N=w.useContext(Lf),{navigator:D,basename:P}=w.useContext(gs),j=N!=null&&xR(b)&&m===!0,$=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,q=S.pathname,H=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(q=q.toLowerCase(),H=H?H.toLowerCase():null,$=$.toLowerCase()),H&&P&&(H=ca(H,P)||H);const z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=q===$||!o&&q.startsWith($)&&q.charAt(z)==="/",he=H!=null&&(H===$||!o&&H.startsWith($)&&H.charAt($.length)==="/"),O={isActive:ie,isPending:he,isTransitioning:j},I=ie?e:void 0,C;typeof a=="function"?C=a(O):C=[a,ie?"active":null,he?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(O):l;return w.createElement(Nu,{..._,"aria-current":I,className:C,ref:y,style:L,to:d,viewTransition:m},typeof g=="function"?g(O):g)});OT.displayName="NavLink";var _R=w.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:d=Jh,action:m,onSubmit:g,relative:_,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:S,...N},D)=>{let{unstable_useTransitions:P}=w.useContext(gs),j=SR(),$=AR(m,{relative:_}),q=d.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&DT.test(m),z=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,O=he?.getAttribute("formmethod")||d,I=()=>j(he||ie.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:o,state:l,relative:_,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:S});P&&t!==!1?w.startTransition(()=>I()):I()};return w.createElement("form",{ref:D,method:q,action:$,onSubmit:a?g:z,...N,"data-discover":!H&&s==="render"?"true":void 0})});_R.displayName="Form";function yR(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(s){let e=w.useContext($l);return Nt(e,yR(s)),e}function vR(s,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let _=wn(),y=Jn(),b=Ku(s,{relative:l});return w.useCallback(S=>{if(WI(S,e)){S.preventDefault();let N=t!==void 0?t:Ru(y)===Ru(b),D=()=>_(s,{replace:N,state:a,preventScrollReset:o,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:m});g?w.startTransition(()=>D()):D()}},[y,_,b,t,a,e,s,o,l,d,m,g])}function bR(s){ms(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(Hg(s)),t=w.useRef(!1),a=Jn(),o=w.useMemo(()=>XI(a.search,t.current?null:e.current),[a.search]),l=wn(),d=w.useCallback((m,g)=>{const _=Hg(typeof m=="function"?m(new URLSearchParams(o)):m);t.current=!0,l("?"+_,g)},[l,o]);return[o,d]}var ER=0,TR=()=>`__${String(++ER)}__`;function SR(){let{router:s}=MT("useSubmit"),{basename:e}=w.useContext(gs),t=VI(),a=s.fetch,o=s.navigate;return w.useCallback(async(l,d={})=>{let{action:m,method:g,encType:_,formData:y,body:b}=eR(l,e);if(d.navigate===!1){let S=d.fetcherKey||TR();await a(S,t,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:b,formMethod:d.method||g,formEncType:d.encType||_,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:b,formMethod:d.method||g,formEncType:d.encType||_,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,e,t])}function AR(s,{relative:e}={}){let{basename:t}=w.useContext(gs),a=w.useContext(Os);Nt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Ku(s||".",{relative:e})},d=Jn();if(s==null){l.search=d.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();l.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ra([t,l.pathname])),Ru(l)}function xR(s,{relative:e}={}){let t=w.useContext(AT);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=MT("useViewTransitionState"),o=Ku(s,{relative:e});if(!t.isTransitioning)return!1;let l=ca(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=ca(t.nextLocation.pathname,a)||t.nextLocation.pathname;return ff(o.pathname,d)!=null||ff(o.pathname,l)!=null}var zT=_T();const wR=()=>{};var Ab={};const LT=function(s){const e=[];let t=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},IR=function(s){const e=[];let t=0,a=0;for(;t<s.length;){const o=s[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=s[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=s[t++],d=s[t++],m=s[t++],g=((o&7)<<18|(l&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const l=s[t++],d=s[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const l=s[o],d=o+1<s.length,m=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,y=l>>2,b=(l&3)<<4|m>>4;let S=(m&15)<<2|_>>6,N=_&63;g||(N=64,d||(S=64)),a.push(t[y],t[b],t[S],t[N])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(LT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):IR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const l=t[s.charAt(o++)],m=o<s.length?t[s.charAt(o)]:0;++o;const _=o<s.length?t[s.charAt(o)]:64;++o;const b=o<s.length?t[s.charAt(o)]:64;if(++o,l==null||m==null||_==null||b==null)throw new RR;const S=l<<2|m>>4;if(a.push(S),_!==64){const N=m<<4&240|_>>2;if(a.push(N),b!==64){const D=_<<6&192|b;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(s){const e=LT(s);return PT.encodeByteArray(e,!0)},pf=function(s){return NR(s).replace(/\./g,"")},VT=function(s){try{return PT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jR=()=>CR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof Ab>"u")return;const s=Ab.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&VT(s[1]);return e&&JSON.parse(e)},Vf=()=>{try{return wR()||jR()||kR()||DR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},UT=s=>Vf()?.emulatorHosts?.[s],BT=s=>{const e=UT(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},qT=()=>Vf()?.config,HT=s=>Vf()?.[`_${s}`];class OR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}function yr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j_(s){return(await fetch(s,{credentials:"include"})).ok}function $T(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...s};return[pf(JSON.stringify(t)),pf(JSON.stringify(d)),""].join(".")}const Eu={};function MR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?s.emulator.push(e):s.prod.push(e);return s}function zR(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let xb=!1;function k_(s,e){if(typeof window>"u"||typeof document>"u"||!yr(window.location.host)||Eu[s]===e||Eu[s]||xb)return;Eu[s]=e;function t(S){return`__firebase__banner__${S}`}const a="__firebase__banner",l=MR().prod.length>0;function d(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{xb=!0,d()},S}function y(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=zR(a),N=t("text"),D=document.getElementById(N)||document.createElement("span"),P=t("learnmore"),j=document.getElementById(P)||document.createElement("a"),$=t("preprendIcon"),q=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;m(H),y(j,P);const z=_();g(q,$),H.append(q,D,j,z),document.body.appendChild(H)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function PR(){const s=Vf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qR(){const s=On();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HR(){return!PR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $R(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((s,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const GR="FirebaseError";class Li extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=GR,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?QR(l,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Li(o,m,a)}}function QR(s,e){return s.replace(KR,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const KR=/\{\$([^}]+)}/g;function YR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fo(s,e){if(s===e)return!0;const t=Object.keys(s),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=s[o],d=e[o];if(wb(l)&&wb(d)){if(!fo(l,d))return!1}else if(l!==d)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function wb(s){return s!==null&&typeof s=="object"}function Wu(s){const e=[];for(const[t,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function pu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function gu(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function WR(s,e){const t=new XR(s,e);return t.subscribe.bind(t)}class XR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");ZR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Tg),o.error===void 0&&(o.error=Tg),o.complete===void 0&&(o.complete=Tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Tg(){}function Ct(s){return s&&s._delegate?s._delegate:s}class lr{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class JR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new OR;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tN(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&d.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eN(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(s){return s===io?void 0:s}function tN(s){return s.instantiationMode==="EAGER"}class nN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var et;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(et||(et={}));const sN={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},iN=et.INFO,aN={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},rN=(s,e,...t)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=aN[e];if(o)console[o](`[${a}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D_{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=rN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const oN=(s,e)=>e.some(t=>s instanceof t);let Ib,Rb;function lN(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cN(){return Rb||(Rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,$g=new WeakMap,GT=new WeakMap,Sg=new WeakMap,O_=new WeakMap;function uN(s){const e=new Promise((t,a)=>{const o=()=>{s.removeEventListener("success",l),s.removeEventListener("error",d)},l=()=>{t(ir(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",l),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&FT.set(t,s)}).catch(()=>{}),O_.set(e,s),e}function dN(s){if($g.has(s))return;const e=new Promise((t,a)=>{const o=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",d),s.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",l),s.addEventListener("error",d),s.addEventListener("abort",d)});$g.set(s,e)}let Fg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return $g.get(s);if(e==="objectStoreNames")return s.objectStoreNames||GT.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ir(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hN(s){Fg=s(Fg)}function fN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=s.call(Ag(this),e,...t);return GT.set(a,e.sort?e.sort():[e]),ir(a)}:cN().includes(s)?function(...e){return s.apply(Ag(this),e),ir(FT.get(this))}:function(...e){return ir(s.apply(Ag(this),e))}}function mN(s){return typeof s=="function"?fN(s):(s instanceof IDBTransaction&&dN(s),oN(s,lN())?new Proxy(s,Fg):s)}function ir(s){if(s instanceof IDBRequest)return uN(s);if(Sg.has(s))return Sg.get(s);const e=mN(s);return e!==s&&(Sg.set(s,e),O_.set(e,s)),e}const Ag=s=>O_.get(s);function pN(s,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const d=indexedDB.open(s,e),m=ir(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ir(d.result),g.oldVersion,g.newVersion,ir(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const gN=["get","getKey","getAll","getAllKeys","count"],_N=["put","add","delete","clear"],xg=new Map;function Nb(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=_N.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||gN.includes(t)))return;const l=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&g.done]))[0]};return xg.set(e,l),l}hN(s=>({...s,get:(e,t,a)=>Nb(e,t)||s.get(e,t,a),has:(e,t)=>!!Nb(e,t)||s.has(e,t)}));class yN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vN(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function vN(s){return s.getComponent()?.type==="VERSION"}const Gg="@firebase/app",Cb="0.14.8";const ua=new D_("@firebase/app"),bN="@firebase/app-compat",EN="@firebase/analytics-compat",TN="@firebase/analytics",SN="@firebase/app-check-compat",AN="@firebase/app-check",xN="@firebase/auth",wN="@firebase/auth-compat",IN="@firebase/database",RN="@firebase/data-connect",NN="@firebase/database-compat",CN="@firebase/functions",jN="@firebase/functions-compat",kN="@firebase/installations",DN="@firebase/installations-compat",ON="@firebase/messaging",MN="@firebase/messaging-compat",zN="@firebase/performance",LN="@firebase/performance-compat",PN="@firebase/remote-config",VN="@firebase/remote-config-compat",UN="@firebase/storage",BN="@firebase/storage-compat",qN="@firebase/firestore",HN="@firebase/ai",$N="@firebase/firestore-compat",FN="firebase",GN="12.9.0";const Qg="[DEFAULT]",QN={[Gg]:"fire-core",[bN]:"fire-core-compat",[TN]:"fire-analytics",[EN]:"fire-analytics-compat",[AN]:"fire-app-check",[SN]:"fire-app-check-compat",[xN]:"fire-auth",[wN]:"fire-auth-compat",[IN]:"fire-rtdb",[RN]:"fire-data-connect",[NN]:"fire-rtdb-compat",[CN]:"fire-fn",[jN]:"fire-fn-compat",[kN]:"fire-iid",[DN]:"fire-iid-compat",[ON]:"fire-fcm",[MN]:"fire-fcm-compat",[zN]:"fire-perf",[LN]:"fire-perf-compat",[PN]:"fire-rc",[VN]:"fire-rc-compat",[UN]:"fire-gcs",[BN]:"fire-gcs-compat",[qN]:"fire-fst",[$N]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};const gf=new Map,KN=new Map,Kg=new Map;function jb(s,e){try{s.container.addComponent(e)}catch(t){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function mo(s){const e=s.name;if(Kg.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,s);for(const t of gf.values())jb(t,s);for(const t of KN.values())jb(t,s);return!0}function Uf(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function ds(s){return s==null?!1:s.settings!==void 0}const YN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Yu("app","Firebase",YN);class WN{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const wo=GN;function QT(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const a={name:Qg,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(t||(t=qT()),!t)throw ar.create("no-options");const l=gf.get(o);if(l){if(fo(t,l.options)&&fo(a,l.config))return l;throw ar.create("duplicate-app",{appName:o})}const d=new nN(o);for(const g of Kg.values())d.addComponent(g);const m=new WN(t,a,d);return gf.set(o,m),m}function M_(s=Qg){const e=gf.get(s);if(!e&&s===Qg&&qT())return QT();if(!e)throw ar.create("no-app",{appName:s});return e}function Ri(s,e,t){let a=QN[s]??s;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(d.join(" "));return}mo(new lr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const XN="firebase-heartbeat-database",ZN=1,Cu="firebase-heartbeat-store";let wg=null;function KT(){return wg||(wg=pN(XN,ZN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),wg}async function JN(s){try{const t=(await KT()).transaction(Cu),a=await t.objectStore(Cu).get(YT(s));return await t.done,a}catch(e){if(e instanceof Li)ua.warn(e.message);else{const t=ar.create("idb-get",{originalErrorMessage:e?.message});ua.warn(t.message)}}}async function kb(s,e){try{const a=(await KT()).transaction(Cu,"readwrite");await a.objectStore(Cu).put(e,YT(s)),await a.done}catch(t){if(t instanceof Li)ua.warn(t.message);else{const a=ar.create("idb-set",{originalErrorMessage:t?.message});ua.warn(a.message)}}}function YT(s){return`${s.name}!${s.options.appId}`}const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iC(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Db();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>tC){const o=aC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ua.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Db(),{heartbeatsToSend:t,unsentEntries:a}=sC(this._heartbeatsCache.heartbeats),o=pf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ua.warn(e),""}}}function Db(){return new Date().toISOString().substring(0,10)}function sC(s,e=eC){const t=[];let a=s.slice();for(const o of s){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),Ob(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ob(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class iC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $R()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ob(s){return pf(JSON.stringify({version:2,heartbeats:s})).length}function aC(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let a=1;a<s.length;a++)s[a].date<t&&(t=s[a].date,e=a);return e}function rC(s){mo(new lr("platform-logger",e=>new yN(e),"PRIVATE")),mo(new lr("heartbeat",e=>new nC(e),"PRIVATE")),Ri(Gg,Cb,s),Ri(Gg,Cb,"esm2020"),Ri("fire-js","")}rC("");function WT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oC=WT,XT=new Yu("auth","Firebase",WT());const _f=new D_("@firebase/auth");function lC(s,...e){_f.logLevel<=et.WARN&&_f.warn(`Auth (${wo}): ${s}`,...e)}function tf(s,...e){_f.logLevel<=et.ERROR&&_f.error(`Auth (${wo}): ${s}`,...e)}function Zs(s,...e){throw z_(s,...e)}function Ni(s,...e){return z_(s,...e)}function ZT(s,e,t){const a={...oC(),[e]:t};return new Yu("auth","Firebase",a).create(e,{appName:s.name})}function oa(s){return ZT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z_(s,...e){if(typeof s!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(t,...a)}return XT.create(s,...e)}function Ue(s,e,...t){if(!s)throw z_(e,...t)}function ia(s){const e="INTERNAL ASSERTION FAILED: "+s;throw tf(e),new Error(e)}function da(s,e){s||ia(e)}function Yg(){return typeof self<"u"&&self.location?.href||""}function cC(){return Mb()==="http:"||Mb()==="https:"}function Mb(){return typeof self<"u"&&self.location?.protocol||null}function uC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||UR()||"connection"in navigator)?navigator.onLine:!0}function dC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile=LR()||BR()}get(){return uC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L_(s,e){da(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class JT{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new Xu(3e4,6e4);function vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function br(s,e,t,a,o={}){return eS(s,o,async()=>{let l={},d={};a&&(e==="GET"?d=a:l={body:JSON.stringify(a)});const m=Wu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...l};return VR()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&yr(s.emulatorConfig.host)&&(_.credentials="include"),JT.fetch()(await tS(s,s.config.apiHost,t,m),_)})}async function eS(s,e,t){s._canInitEmulator=!1;const a={...hC,...e};try{const o=new gC(s),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw $h(s,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const m=l.ok?d.errorMessage:d.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw $h(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw $h(s,"user-disabled",d);const y=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ZT(s,y,_);Zs(s,y)}}catch(o){if(o instanceof Li)throw o;Zs(s,"network-request-failed",{message:String(o)})}}async function Zu(s,e,t,a,o={}){const l=await br(s,e,t,a,o);return"mfaPendingCredential"in l&&Zs(s,"multi-factor-auth-required",{_serverResponse:l}),l}async function tS(s,e,t,a){const o=`${e}${t}?${a}`,l=s,d=l.config.emulator?L_(s.config,o):`${s.config.apiScheme}://${o}`;return fC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function pC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),mC.get())})}}function $h(s,e,t){const a={appName:s.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Ni(s,e,a);return o.customData._tokenResponse=t,o}function zb(s){return s!==void 0&&s.enterprise!==void 0}class _C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yC(s,e){return br(s,"GET","/v2/recaptchaConfig",vr(s,e))}async function vC(s,e){return br(s,"POST","/v1/accounts:delete",e)}async function yf(s,e){return br(s,"POST","/v1/accounts:lookup",e)}function Tu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bC(s,e=!1){const t=Ct(s),a=await t.getIdToken(e),o=P_(a);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l?.sign_in_provider;return{claims:o,token:a,authTime:Tu(Ig(o.auth_time)),issuedAtTime:Tu(Ig(o.iat)),expirationTime:Tu(Ig(o.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ig(s){return Number(s)*1e3}function P_(s){const[e,t,a]=s.split(".");if(e===void 0||t===void 0||a===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(t);return o?JSON.parse(o):(tf("Failed to decode base64 JWT payload"),null)}catch(o){return tf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Lb(s){const e=P_(s);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ju(s,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Li&&EC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function EC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class TC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vf(s){const e=s.auth,t=await s.getIdToken(),a=await ju(s,yf(e,{idToken:t}));Ue(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const l=o.providerUserInfo?.length?nS(o.providerUserInfo):[],d=AC(s.providerData,l),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,_=m?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wg(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,y)}async function SC(s){const e=Ct(s);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function nS(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function xC(s,e){const t=await eS(s,{},async()=>{const a=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=s.config,d=await tS(s,o,"/v1/token",`key=${l}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return s.emulatorConfig&&yr(s.emulatorConfig.host)&&(g.credentials="include"),JT.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wC(s,e){return br(s,"POST","/v2/accounts:revokeToken",vr(s,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=Lb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await xC(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,d=new jl;return a&&(Ue(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ue(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Ue(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return ia("not implemented")}}function Qa(s,e){Ue(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Qs{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ju(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await vf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ds(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await ju(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,d=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,_=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:N,providerData:D,stsTokenManager:P}=t;Ue(b&&P,e,"internal-error");const j=jl.fromJSON(this.name,P);Ue(typeof b=="string",e,"internal-error"),Qa(a,e.name),Qa(o,e.name),Ue(typeof S=="boolean",e,"internal-error"),Ue(typeof N=="boolean",e,"internal-error"),Qa(l,e.name),Qa(d,e.name),Qa(m,e.name),Qa(g,e.name),Qa(_,e.name),Qa(y,e.name);const $=new Qs({uid:b,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:N,photoURL:d,phoneNumber:l,tenantId:m,stsTokenManager:j,createdAt:_,lastLoginAt:y});return D&&Array.isArray(D)&&($.providerData=D.map(q=>({...q}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,t,a=!1){const o=new jl;o.updateFromServerResponse(t);const l=new Qs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await vf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?nS(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!l?.length,m=new jl;m.updateFromIdToken(a);const g=new Qs({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Wg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,_),g}}const Pb=new Map;function aa(s){da(s instanceof Function,"Expected a class definition");let e=Pb.get(s);return e?(da(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Pb.set(s,e),e)}class sS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sS.type="NONE";const Vb=sS;function nf(s,e,t){return`firebase:${s}:${e}:${t}`}class kl{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=nf(this.userKey,o.apiKey,l),this.fullPersistenceKey=nf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yf(this.auth,{idToken:e}).catch(()=>{});return t?Qs._fromGetAccountInfoResponse(this.auth,t,e):null}return Qs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new kl(aa(Vb),e,a);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||aa(Vb);const d=nf(a,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const y=await _._get(d);if(y){let b;if(typeof y=="string"){const S=await yf(e,{idToken:y}).catch(()=>{});if(!S)break;b=await Qs._fromGetAccountInfoResponse(e,S,y)}else b=Qs._fromJSON(e,y);_!==l&&(m=b),l=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new kl(l,e,a):(l=g[0],m&&await l._set(d,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(d)}catch{}})),new kl(l,e,a))}}function Ub(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(uS(e))return"Webos";if(aS(e))return"Safari";if((e.includes("chrome/")||rS(e))&&!e.includes("edge/"))return"Chrome";if(lS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(t);if(a?.length===2)return a[1]}return"Other"}function iS(s=On()){return/firefox\//i.test(s)}function aS(s=On()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rS(s=On()){return/crios\//i.test(s)}function oS(s=On()){return/iemobile/i.test(s)}function lS(s=On()){return/android/i.test(s)}function cS(s=On()){return/blackberry/i.test(s)}function uS(s=On()){return/webos/i.test(s)}function V_(s=On()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function IC(s=On()){return V_(s)&&!!window.navigator?.standalone}function RC(){return qR()&&document.documentMode===10}function dS(s=On()){return V_(s)||lS(s)||uS(s)||cS(s)||/windows phone/i.test(s)||oS(s)}function hS(s,e=[]){let t;switch(s){case"Browser":t=Ub(On());break;case"Worker":t=`${Ub(On())}-${s}`;break;default:t=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wo}/${a}`}class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((d,m)=>{try{const g=e(l);d(g)}catch(g){m(g)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function CC(s,e={}){return br(s,"GET","/v2/passwordPolicy",vr(s,e))}const jC=6;class kC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class DC{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=aa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yf(this,{idToken:e}),a=await Qs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ds(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,d=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===d)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ds(this.app))return Promise.reject(oa(this));const t=e?Ct(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ds(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ds(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CC(this),t=new kC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await wC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&aa(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[aa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(m,this,"internal-error"),m.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Io(s){return Ct(s)}class Bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(s){Bf=s}function fS(s){return Bf.loadJS(s)}function MC(){return Bf.recaptchaEnterpriseScript}function zC(){return Bf.gapiScript}function LC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class PC{constructor(){this.enterprise=new VC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UC="recaptcha-enterprise",mS="NO_RECAPTCHA";class BC{constructor(e){this.type=UC,this.auth=Io(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,m)=>{yC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new _C(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,d(_.siteKey)}}).catch(g=>{m(g)})})}function o(l,d,m){const g=window.grecaptcha;zb(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{d(_)}).catch(()=>{d(mS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PC().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{a(this.auth).then(m=>{if(!t&&zb(window.grecaptcha))o(m,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=MC();g.length!==0&&(g+=m),fS(g).then(()=>{o(m,l,d)}).catch(_=>{d(_)})}}).catch(m=>{d(m)})})}}async function qb(s,e,t,a=!1,o=!1){const l=new BC(s);let d;if(o)d=mS;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xg(s,e,t,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qb(s,e,t,t==="getOobCode");return a(s,l)}else return a(s,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await qb(s,e,t,t==="getOobCode");return a(s,d)}else return Promise.reject(l)})}function qC(s,e){const t=Uf(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(fo(l,e??{}))return o;Zs(o,"already-initialized")}return t.initialize({options:e})}function HC(s,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(aa);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function $C(s,e,t){const a=Io(s);Ue(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=pS(e),{host:d,port:m}=FC(e),g=m===null?"":`:${m}`,_={url:`${l}//${d}${g}/`},y=Object.freeze({host:d,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ue(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ue(fo(_,a.config.emulator)&&fo(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,yr(d)?(j_(`${l}//${d}${g}`),k_("Auth",!0)):GC()}function pS(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function FC(s){const e=pS(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:Hb(a.substr(l.length+1))}}else{const[l,d]=a.split(":");return{host:l,port:Hb(d)}}}function Hb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function GC(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class U_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ia("not implemented")}_getIdTokenResponse(e){return ia("not implemented")}_linkToIdToken(e,t){return ia("not implemented")}_getReauthenticationResolver(e){return ia("not implemented")}}async function QC(s,e){return br(s,"POST","/v1/accounts:signUp",e)}async function KC(s,e){return Zu(s,"POST","/v1/accounts:signInWithPassword",vr(s,e))}async function YC(s,e){return Zu(s,"POST","/v1/accounts:signInWithEmailLink",vr(s,e))}async function WC(s,e){return Zu(s,"POST","/v1/accounts:signInWithEmailLink",vr(s,e))}class ku extends U_{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ku(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new ku(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,t,"signInWithPassword",KC);case"emailLink":return YC(e,{email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,a,"signUpPassword",QC);case"emailLink":return WC(e,{idToken:t,email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dl(s,e){return Zu(s,"POST","/v1/accounts:signInWithIdp",vr(s,e))}const XC="http://localhost";class po extends U_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...l}=t;if(!a||!o)return null;const d=new po(a,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Dl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:XC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wu(t)}return e}}function ZC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JC(s){const e=pu(gu(s)).link,t=e?pu(gu(e)).deep_link_id:null,a=pu(gu(s)).deep_link_id;return(a?pu(gu(a)).link:null)||a||t||e||s}class B_{constructor(e){const t=pu(gu(e)),a=t.apiKey??null,o=t.oobCode??null,l=ZC(t.mode??null);Ue(a&&o&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=JC(e);try{return new B_(t)}catch{return null}}}class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,t){return ku._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=B_.parseLink(t);return Ue(a,"argument-error"),ku._fromEmailAndCode(e,a.code,a.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ju extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wa extends Ju{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";class Xa extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return po._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Xa.credential(t,a)}catch{return null}}}Xa.GOOGLE_SIGN_IN_METHOD="google.com";Xa.PROVIDER_ID="google.com";class Za extends Ju{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";class Ja extends Ju{constructor(){super("twitter.com")}static credential(e,t){return po._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Ja.credential(t,a)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";async function ej(s,e){return Zu(s,"POST","/v1/accounts:signUp",vr(s,e))}class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Qs._fromIdTokenResponse(e,a,o),d=$b(a);return new go({user:l,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=$b(a);return new go({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function $b(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class bf extends Li{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new bf(e,t,a,o)}}function _S(s,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(s,l,e,a):l})}async function tj(s,e,t=!1){const a=await ju(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return go._forOperation(s,"link",a)}async function nj(s,e,t=!1){const{auth:a}=s;if(ds(a.app))return Promise.reject(oa(a));const o="reauthenticate";try{const l=await ju(s,_S(a,o,e,s),t);Ue(l.idToken,a,"internal-error");const d=P_(l.idToken);Ue(d,a,"internal-error");const{sub:m}=d;return Ue(s.uid===m,a,"user-mismatch"),go._forOperation(s,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zs(a,"user-mismatch"),l}}async function yS(s,e,t=!1){if(ds(s.app))return Promise.reject(oa(s));const a="signIn",o=await _S(s,a,e),l=await go._fromIdTokenResponse(s,a,o);return t||await s._updateCurrentUser(l.user),l}async function sj(s,e){return yS(Io(s),e)}async function vS(s){const e=Io(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ij(s,e,t){if(ds(s.app))return Promise.reject(oa(s));const a=Io(s),d=await Xg(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ej).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&vS(s),g}),m=await go._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function aj(s,e,t){return ds(s.app)?Promise.reject(oa(s)):sj(Ct(s),Gl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&vS(s),a})}function rj(s,e,t,a){return Ct(s).onIdTokenChanged(e,t,a)}function oj(s,e,t){return Ct(s).beforeAuthStateChanged(e,t)}function lj(s,e,t,a){return Ct(s).onAuthStateChanged(e,t,a)}function cj(s){return Ct(s).signOut()}const Ef="__sak";class bS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uj=1e3,dj=10;class ES extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},l=this.storage.getItem(a);RC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dj):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},uj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const hj=ES;class TS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TS.type="SESSION";const SS=TS;function fj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new qf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async _=>_(t.origin,l)),g=await fj(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];function q_(s="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return s+t}class mj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((m,g)=>{const _=q_("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(S.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function pj(s){Ci().location.href=s}function AS(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function gj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _j(){return navigator?.serviceWorker?.controller||null}function yj(){return AS()?self:null}const xS="firebaseLocalStorageDb",vj=1,Tf="firebaseLocalStorage",wS="fbase_key";class ed{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hf(s,e){return s.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function bj(){const s=indexedDB.deleteDatabase(xS);return new ed(s).toPromise()}function Zg(){const s=indexedDB.open(xS,vj);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Tf,{keyPath:wS})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Tf)?e(a):(a.close(),await bj(),e(await Zg()))})})}async function Fb(s,e,t){const a=Hf(s,!0).put({[wS]:e,value:t});return new ed(a).toPromise()}async function Ej(s,e){const t=Hf(s,!1).get(e),a=await new ed(t).toPromise();return a===void 0?null:a.value}function Gb(s,e){const t=Hf(s,!0).delete(e);return new ed(t).toPromise()}const Tj=800,Sj=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>Sj)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(yj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gj(),!this.activeServiceWorker)return;this.sender=new mj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_j()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await Fb(e,Ef,"1"),await Gb(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>Fb(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>Ej(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Hf(o,!1).getAll();return new ed(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const Aj=IS;new Xu(3e4,6e4);function xj(s,e){return e?aa(e):(Ue(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class H_ extends U_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wj(s){return yS(s.auth,new H_(s),s.bypassAuthState)}function Ij(s){const{auth:e,user:t}=s;return Ue(t,e,"internal-error"),nj(t,new H_(s),s.bypassAuthState)}async function Rj(s){const{auth:e,user:t}=s;return Ue(t,e,"internal-error"),tj(t,new H_(s),s.bypassAuthState)}class RS{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wj;case"linkViaPopup":case"linkViaRedirect":return Rj;case"reauthViaPopup":case"reauthViaRedirect":return Ij;default:Zs(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nj=new Xu(2e3,1e4);class Nl extends RS{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nj.get())};e()}}Nl.currentPopupAction=null;const Cj="pendingRedirect",sf=new Map;class jj extends RS{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const a=await kj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kj(s,e){const t=Mj(e),a=Oj(s);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function Dj(s,e){sf.set(s._key(),e)}function Oj(s){return aa(s._redirectPersistence)}function Mj(s){return nf(Cj,s.config.apiKey,s.name)}async function zj(s,e,t=!1){if(ds(s.app))return Promise.reject(oa(s));const a=Io(s),o=xj(a,e),d=await new jj(a,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Lj=600*1e3;class Pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!NS(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ni(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function NS({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Vj(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(s);default:return!1}}async function Uj(s,e={}){return br(s,"GET","/v1/projects",e)}const Bj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qj=/^https?/;async function Hj(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Uj(s);for(const t of e)try{if($j(t))return}catch{}Zs(s,"unauthorized-domain")}function $j(s){const e=Yg(),{protocol:t,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!qj.test(t))return!1;if(Bj.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Fj=new Xu(3e4,6e4);function Kb(){const s=Ci().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function Gj(s){return new Promise((e,t)=>{function a(){Kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kb(),t(Ni(s,"network-request-failed"))},timeout:Fj.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const o=LC("iframefcb");return Ci()[o]=()=>{gapi.load?a():t(Ni(s,"network-request-failed"))},fS(`${zC()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw af=null,e})}let af=null;function Qj(s){return af=af||Gj(s),af}const Kj=new Xu(5e3,15e3),Yj="__/auth/iframe",Wj="emulator/auth/iframe",Xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jj(s){const e=s.config;Ue(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?L_(e,Wj):`https://${s.config.authDomain}/${Yj}`,a={apiKey:e.apiKey,appName:s.name,v:wo},o=Zj.get(s.config.apiHost);o&&(a.eid=o);const l=s._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Wu(a).slice(1)}`}async function ek(s){const e=await Qj(s),t=Ci().gapi;return Ue(t,s,"internal-error"),e.open({where:document.body,url:Jj(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xj,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const d=Ni(s,"network-request-failed"),m=Ci().setTimeout(()=>{l(d)},Kj.get());function g(){Ci().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{l(d)})}))}const tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nk=500,sk=600,ik="_blank",ak="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rk(s,e,t,a=nk,o=sk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...tk,width:a.toString(),height:o.toString(),top:l,left:d},_=On().toLowerCase();t&&(m=rS(_)?ik:t),iS(_)&&(e=e||ak,g.scrollbars="yes");const y=Object.entries(g).reduce((S,[N,D])=>`${S}${N}=${D},`,"");if(IC(_)&&m!=="_self")return ok(e||"",m),new Yb(null);const b=window.open(e||"",m,y);Ue(b,s,"popup-blocked");try{b.focus()}catch{}return new Yb(b)}function ok(s,e){const t=document.createElement("a");t.href=s,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}const lk="__/auth/handler",ck="emulator/auth/handler",uk=encodeURIComponent("fac");async function Wb(s,e,t,a,o,l){Ue(s.config.authDomain,s,"auth-domain-config-required"),Ue(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:a,v:wo,eventId:o};if(e instanceof gS){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",YR(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))d[y]=b}if(e instanceof Ju){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(d.scopes=y.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const g=await s._getAppCheckToken(),_=g?`#${uk}=${encodeURIComponent(g)}`:"";return`${dk(s)}?${Wu(m).slice(1)}${_}`}function dk({config:s}){return s.emulator?L_(s,ck):`https://${s.authDomain}/${lk}`}const Rg="webStorageSupport";class hk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=zj,this._overrideRedirectResult=Dj}async _openPopup(e,t,a,o){da(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Wb(e,t,a,Yg(),o);return rk(e,l,q_())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await Wb(e,t,a,Yg(),o);return pj(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(da(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await ek(e),a=new Pj(e);return t.register("authEvent",o=>(Ue(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rg,{type:Rg},o=>{const l=o?.[0]?.[Rg];l!==void 0&&t(!!l),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dS()||aS()||V_()}}const fk=hk;var Xb="@firebase/auth",Zb="1.12.0";class mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pk(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gk(s){mo(new lr("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ue(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(s)},_=new DC(a,o,l,g);return HC(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),mo(new lr("auth-internal",e=>{const t=Io(e.getProvider("auth").getImmediate());return(a=>new mk(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(Xb,Zb,pk(s)),Ri(Xb,Zb,"esm2020")}const _k=300,yk=HT("authIdTokenMaxAge")||_k;let Jb=null;const vk=s=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>yk)return;const o=t?.token;Jb!==o&&(Jb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bk(s=M_()){const e=Uf(s,"auth");if(e.isInitialized())return e.getImmediate();const t=qC(s,{popupRedirectResolver:fk,persistence:[Aj,hj,SS]}),a=HT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const d=vk(l.toString());oj(t,d,()=>d(t.currentUser)),rj(t,m=>d(m))}}const o=UT("auth");return o&&$C(t,`http://${o}`),t}function Ek(){return document.getElementsByTagName("head")?.[0]??document}OC({loadJS(s){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const l=Ni("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",Ek().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gk("Browser");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,CS;(function(){var s;function e(O,I){function C(){}C.prototype=I.prototype,O.F=I.prototype,O.prototype=new C,O.prototype.constructor=O,O.D=function(L,k,U){for(var A=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)A[pe-2]=arguments[pe];return I.prototype[k].apply(L,A)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,C){C||(C=0);const L=Array(16);if(typeof I=="string")for(var k=0;k<16;++k)L[k]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(k=0;k<16;++k)L[k]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=O.g[0],C=O.g[1],k=O.g[2];let U=O.g[3],A;A=I+(U^C&(k^U))+L[0]+3614090360&4294967295,I=C+(A<<7&4294967295|A>>>25),A=U+(k^I&(C^k))+L[1]+3905402710&4294967295,U=I+(A<<12&4294967295|A>>>20),A=k+(C^U&(I^C))+L[2]+606105819&4294967295,k=U+(A<<17&4294967295|A>>>15),A=C+(I^k&(U^I))+L[3]+3250441966&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(U^C&(k^U))+L[4]+4118548399&4294967295,I=C+(A<<7&4294967295|A>>>25),A=U+(k^I&(C^k))+L[5]+1200080426&4294967295,U=I+(A<<12&4294967295|A>>>20),A=k+(C^U&(I^C))+L[6]+2821735955&4294967295,k=U+(A<<17&4294967295|A>>>15),A=C+(I^k&(U^I))+L[7]+4249261313&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(U^C&(k^U))+L[8]+1770035416&4294967295,I=C+(A<<7&4294967295|A>>>25),A=U+(k^I&(C^k))+L[9]+2336552879&4294967295,U=I+(A<<12&4294967295|A>>>20),A=k+(C^U&(I^C))+L[10]+4294925233&4294967295,k=U+(A<<17&4294967295|A>>>15),A=C+(I^k&(U^I))+L[11]+2304563134&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(U^C&(k^U))+L[12]+1804603682&4294967295,I=C+(A<<7&4294967295|A>>>25),A=U+(k^I&(C^k))+L[13]+4254626195&4294967295,U=I+(A<<12&4294967295|A>>>20),A=k+(C^U&(I^C))+L[14]+2792965006&4294967295,k=U+(A<<17&4294967295|A>>>15),A=C+(I^k&(U^I))+L[15]+1236535329&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(k^U&(C^k))+L[1]+4129170786&4294967295,I=C+(A<<5&4294967295|A>>>27),A=U+(C^k&(I^C))+L[6]+3225465664&4294967295,U=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(U^I))+L[11]+643717713&4294967295,k=U+(A<<14&4294967295|A>>>18),A=C+(U^I&(k^U))+L[0]+3921069994&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(k^U&(C^k))+L[5]+3593408605&4294967295,I=C+(A<<5&4294967295|A>>>27),A=U+(C^k&(I^C))+L[10]+38016083&4294967295,U=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(U^I))+L[15]+3634488961&4294967295,k=U+(A<<14&4294967295|A>>>18),A=C+(U^I&(k^U))+L[4]+3889429448&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(k^U&(C^k))+L[9]+568446438&4294967295,I=C+(A<<5&4294967295|A>>>27),A=U+(C^k&(I^C))+L[14]+3275163606&4294967295,U=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(U^I))+L[3]+4107603335&4294967295,k=U+(A<<14&4294967295|A>>>18),A=C+(U^I&(k^U))+L[8]+1163531501&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(k^U&(C^k))+L[13]+2850285829&4294967295,I=C+(A<<5&4294967295|A>>>27),A=U+(C^k&(I^C))+L[2]+4243563512&4294967295,U=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(U^I))+L[7]+1735328473&4294967295,k=U+(A<<14&4294967295|A>>>18),A=C+(U^I&(k^U))+L[12]+2368359562&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(C^k^U)+L[5]+4294588738&4294967295,I=C+(A<<4&4294967295|A>>>28),A=U+(I^C^k)+L[8]+2272392833&4294967295,U=I+(A<<11&4294967295|A>>>21),A=k+(U^I^C)+L[11]+1839030562&4294967295,k=U+(A<<16&4294967295|A>>>16),A=C+(k^U^I)+L[14]+4259657740&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(C^k^U)+L[1]+2763975236&4294967295,I=C+(A<<4&4294967295|A>>>28),A=U+(I^C^k)+L[4]+1272893353&4294967295,U=I+(A<<11&4294967295|A>>>21),A=k+(U^I^C)+L[7]+4139469664&4294967295,k=U+(A<<16&4294967295|A>>>16),A=C+(k^U^I)+L[10]+3200236656&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(C^k^U)+L[13]+681279174&4294967295,I=C+(A<<4&4294967295|A>>>28),A=U+(I^C^k)+L[0]+3936430074&4294967295,U=I+(A<<11&4294967295|A>>>21),A=k+(U^I^C)+L[3]+3572445317&4294967295,k=U+(A<<16&4294967295|A>>>16),A=C+(k^U^I)+L[6]+76029189&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(C^k^U)+L[9]+3654602809&4294967295,I=C+(A<<4&4294967295|A>>>28),A=U+(I^C^k)+L[12]+3873151461&4294967295,U=I+(A<<11&4294967295|A>>>21),A=k+(U^I^C)+L[15]+530742520&4294967295,k=U+(A<<16&4294967295|A>>>16),A=C+(k^U^I)+L[2]+3299628645&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(k^(C|~U))+L[0]+4096336452&4294967295,I=C+(A<<6&4294967295|A>>>26),A=U+(C^(I|~k))+L[7]+1126891415&4294967295,U=I+(A<<10&4294967295|A>>>22),A=k+(I^(U|~C))+L[14]+2878612391&4294967295,k=U+(A<<15&4294967295|A>>>17),A=C+(U^(k|~I))+L[5]+4237533241&4294967295,C=k+(A<<21&4294967295|A>>>11),A=I+(k^(C|~U))+L[12]+1700485571&4294967295,I=C+(A<<6&4294967295|A>>>26),A=U+(C^(I|~k))+L[3]+2399980690&4294967295,U=I+(A<<10&4294967295|A>>>22),A=k+(I^(U|~C))+L[10]+4293915773&4294967295,k=U+(A<<15&4294967295|A>>>17),A=C+(U^(k|~I))+L[1]+2240044497&4294967295,C=k+(A<<21&4294967295|A>>>11),A=I+(k^(C|~U))+L[8]+1873313359&4294967295,I=C+(A<<6&4294967295|A>>>26),A=U+(C^(I|~k))+L[15]+4264355552&4294967295,U=I+(A<<10&4294967295|A>>>22),A=k+(I^(U|~C))+L[6]+2734768916&4294967295,k=U+(A<<15&4294967295|A>>>17),A=C+(U^(k|~I))+L[13]+1309151649&4294967295,C=k+(A<<21&4294967295|A>>>11),A=I+(k^(C|~U))+L[4]+4149444226&4294967295,I=C+(A<<6&4294967295|A>>>26),A=U+(C^(I|~k))+L[11]+3174756917&4294967295,U=I+(A<<10&4294967295|A>>>22),A=k+(I^(U|~C))+L[2]+718787259&4294967295,k=U+(A<<15&4294967295|A>>>17),A=C+(U^(k|~I))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.v=function(O,I){I===void 0&&(I=O.length);const C=I-this.blockSize,L=this.C;let k=this.h,U=0;for(;U<I;){if(k==0)for(;U<=C;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<I;)if(L[k++]=O.charCodeAt(U++),k==this.blockSize){o(this,L),k=0;break}}else for(;U<I;)if(L[k++]=O[U++],k==this.blockSize){o(this,L),k=0;break}}this.h=k,this.o+=I},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;I=this.o*8;for(var C=O.length-8;C<O.length;++C)O[C]=I&255,I/=256;for(this.v(O),O=Array(16),I=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)O[I++]=this.g[C]>>>L&255;return O};function l(O,I){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=I(O)}function d(O,I){this.h=I;const C=[];let L=!0;for(let k=O.length-1;k>=0;k--){const U=O[k]|0;L&&U==I||(C[k]=U,L=!1)}this.g=C}var m={};function g(O){return-128<=O&&O<128?l(O,function(I){return new d([I|0],I<0?-1:0)}):new d([O|0],O<0?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return b;if(O<0)return j(_(-O));const I=[];let C=1;for(let L=0;O>=C;L++)I[L]=O/C|0,C*=4294967296;return new d(I,0)}function y(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return j(y(O.substring(1),I));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(I,8));let L=b;for(let U=0;U<O.length;U+=8){var k=Math.min(8,O.length-U);const A=parseInt(O.substring(U,U+k),I);k<8?(k=_(Math.pow(I,k)),L=L.j(k).add(_(A))):(L=L.j(C),L=L.add(_(A)))}return L}var b=g(0),S=g(1),N=g(16777216);s=d.prototype,s.m=function(){if(P(this))return-j(this).m();let O=0,I=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);O+=(L>=0?L:4294967296+L)*I,I*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(P(this))return"-"+j(this).toString(O);const I=_(Math.pow(O,6));var C=this;let L="";for(;;){const k=z(C,I).g;C=$(C,k.j(I));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(O);if(C=k,D(C))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(let I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function P(O){return O.h==-1}s.l=function(O){return O=$(this,O),P(O)?-1:D(O)?0:1};function j(O){const I=O.g.length,C=[];for(let L=0;L<I;L++)C[L]=~O.g[L];return new d(C,~O.h).add(S)}s.abs=function(){return P(this)?j(this):this},s.add=function(O){const I=Math.max(this.g.length,O.g.length),C=[];let L=0;for(let k=0;k<=I;k++){let U=L+(this.i(k)&65535)+(O.i(k)&65535),A=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);L=A>>>16,U&=65535,A&=65535,C[k]=A<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function $(O,I){return O.add(j(I))}s.j=function(O){if(D(this)||D(O))return b;if(P(this))return P(O)?j(this).j(j(O)):j(j(this).j(O));if(P(O))return j(this.j(j(O)));if(this.l(N)<0&&O.l(N)<0)return _(this.m()*O.m());const I=this.g.length+O.g.length,C=[];for(var L=0;L<2*I;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<O.g.length;k++){const U=this.i(L)>>>16,A=this.i(L)&65535,pe=O.i(k)>>>16,Ie=O.i(k)&65535;C[2*L+2*k]+=A*Ie,q(C,2*L+2*k),C[2*L+2*k+1]+=U*Ie,q(C,2*L+2*k+1),C[2*L+2*k+1]+=A*pe,q(C,2*L+2*k+1),C[2*L+2*k+2]+=U*pe,q(C,2*L+2*k+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new d(C,0)};function q(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function H(O,I){this.g=O,this.h=I}function z(O,I){if(D(I))throw Error("division by zero");if(D(O))return new H(b,b);if(P(O))return I=z(j(O),I),new H(j(I.g),j(I.h));if(P(I))return I=z(O,j(I)),new H(j(I.g),I.h);if(O.g.length>30){if(P(O)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var C=S,L=I;L.l(O)<=0;)C=ie(C),L=ie(L);var k=he(C,1),U=he(L,1);for(L=he(L,2),C=he(C,2);!D(L);){var A=U.add(L);A.l(O)<=0&&(k=k.add(C),U=A),L=he(L,1),C=he(C,1)}return I=$(O,k.j(I)),new H(k,I)}for(k=b;O.l(I)>=0;){for(C=Math.max(1,Math.floor(O.m()/I.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=_(C),A=U.j(I);P(A)||A.l(O)>0;)C-=L,U=_(C),A=U.j(I);D(U)&&(U=S),k=k.add(U),O=$(O,A)}return new H(k,O)}s.B=function(O){return z(this,O).h},s.and=function(O){const I=Math.max(this.g.length,O.g.length),C=[];for(let L=0;L<I;L++)C[L]=this.i(L)&O.i(L);return new d(C,this.h&O.h)},s.or=function(O){const I=Math.max(this.g.length,O.g.length),C=[];for(let L=0;L<I;L++)C[L]=this.i(L)|O.i(L);return new d(C,this.h|O.h)},s.xor=function(O){const I=Math.max(this.g.length,O.g.length),C=[];for(let L=0;L<I;L++)C[L]=this.i(L)^O.i(L);return new d(C,this.h^O.h)};function ie(O){const I=O.g.length+1,C=[];for(let L=0;L<I;L++)C[L]=O.i(L)<<1|O.i(L-1)>>>31;return new d(C,O.h)}function he(O,I){const C=I>>5;I%=32;const L=O.g.length-C,k=[];for(let U=0;U<L;U++)k[U]=I>0?O.i(U+C)>>>I|O.i(U+C+1)<<32-I:O.i(U+C);return new d(k,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,CS=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=y,rr=d}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jS,_u,kS,rf,Jg,DS,OS,MS;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=t(this);function o(h,v){if(v)e:{var T=a;h=h.split(".");for(var R=0;R<h.length-1;R++){var Q=h[R];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],R=T[h],v=v(R),v!=R&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});var l=l||{},d=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){return _=g,_.apply(null,arguments)}function y(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,Q,Z){for(var ge=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ge[Fe-2]=arguments[Fe];return v.prototype[Q].apply(R,ge)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const v=h.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=h[R];return T}return[]}function D(h,v){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const Z=Q.length||0;h.length=T+Z;for(let ge=0;ge<Z;ge++)h[T+ge]=Q[ge]}else h.push(Q)}}class P{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){d.setTimeout(()=>{throw h},0)}function $(){var h=O;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,T){const R=H.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new P(()=>new z,h=>h.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,O=new q,I=()=>{const h=Promise.resolve(void 0);ie=()=>{h.then(C)}};function C(){for(var h;h=$();){try{h.h.call(h.g)}catch(T){j(T)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}he=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,v),d.removeEventListener("test",T,v)}catch{}return h})();function A(h){return/^[\s\xa0]*$/.test(h)}function pe(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(pe,k),pe.prototype.init=function(h,v){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),X=0;function me(h,v,T,R,Q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=Q,this.key=++X,this.da=this.fa=!1}function Ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h,v,T){for(const R in h)v.call(T,h[R],R,h)}function we(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function M(h){const v={};for(const T in h)v[T]=h[T];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(h,v){let T,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(T in R)h[T]=R[T];for(let Z=0;Z<G.length;Z++)T=G[Z],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function se(h){this.src=h,this.g={},this.h=0}se.prototype.add=function(h,v,T,R,Q){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const ge=ye(h,v,R,Q);return ge>-1?(v=h[ge],T||(v.fa=!1)):(v=new me(v,this.src,Z,!!R,Q),v.fa=T,h.push(v)),v};function de(h,v){const T=v.type;if(T in h.g){var R=h.g[T],Q=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=Q>=0)&&Array.prototype.splice.call(R,Q,1),Z&&(Ae(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ye(h,v,T,R){for(let Q=0;Q<h.length;++Q){const Z=h[Q];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==R)return Q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),oe={};function fe(h,v,T,R,Q){if(Array.isArray(v)){for(let Z=0;Z<v.length;Z++)fe(h,v[Z],T,R,Q);return null}return T=rc(T),h&&h[Ie]?h.J(v,T,m(R)?!!R.capture:!1,Q):Ce(h,v,T,!1,R,Q)}function Ce(h,v,T,R,Q,Z){if(!v)throw Error("Invalid event type");const ge=m(Q)?!!Q.capture:!!Q;let Fe=Ir(h);if(Fe||(h[ke]=Fe=new se(h)),T=Fe.add(v,T,R,ge,Z),T.proxy)return T;if(R=ft(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)U||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),R,Q);else if(h.attachEvent)h.attachEvent(In(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ft(){function h(T){return v.call(h.src,h.listener,T)}const v=wr;return h}function an(h,v,T,R,Q){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)an(h,v[Z],T,R,Q);else R=m(R)?!!R.capture:!!R,T=rc(T),h&&h[Ie]?(h=h.i,Z=String(v).toString(),Z in h.g&&(v=h.g[Z],T=ye(v,T,R,Q),T>-1&&(Ae(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Ir(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ye(v,T,R,Q)),(T=h>-1?v[h]:null)&&qn(T))}function qn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ie])de(v.i,h);else{var T=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(T,R,h.capture):v.detachEvent?v.detachEvent(In(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Ir(v))?(de(T,h),T.h==0&&(T.src=null,v[ke]=null)):Ae(h)}}}function In(h){return h in oe?oe[h]:oe[h]="on"+h}function wr(h,v){if(h.da)h=!0;else{v=new pe(v,this);const T=h.listener,R=h.ha||h.src;h.fa&&qn(h),h=T.call(R,v)}return h}function Ir(h){return h=h[ke],h instanceof se?h:null}var ac="__closure_events_fn_"+(Math.random()*1e9>>>0);function rc(h){return typeof h=="function"?h:(h[ac]||(h[ac]=function(v){return h.handleEvent(v)}),h[ac])}function Ft(){L.call(this),this.i=new se(this),this.M=this,this.G=null}b(Ft,L),Ft.prototype[Ie]=!0,Ft.prototype.removeEventListener=function(h,v,T,R){an(this,h,v,T,R)};function rn(h,v){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var Q=v;v=new k(R,h),J(v,Q)}Q=!0;let Z,ge;if(T)for(ge=T.length-1;ge>=0;ge--)Z=v.g=T[ge],Q=ma(Z,R,!0,v)&&Q;if(Z=v.g=h,Q=ma(Z,R,!0,v)&&Q,Q=ma(Z,R,!1,v)&&Q,T)for(ge=0;ge<T.length;ge++)Z=v.g=T[ge],Q=ma(Z,R,!1,v)&&Q}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let R=0;R<T.length;R++)Ae(T[R]);delete h.g[v],h.h--}}this.G=null},Ft.prototype.J=function(h,v,T,R){return this.i.add(String(h),v,!1,T,R)},Ft.prototype.K=function(h,v,T,R){return this.i.add(String(h),v,!0,T,R)};function ma(h,v,T,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let Z=0;Z<v.length;++Z){const ge=v[Z];if(ge&&!ge.da&&ge.capture==T){const Fe=ge.listener,Pt=ge.ha||ge.src;ge.fa&&de(h.i,ge),Q=Fe.call(Pt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function pm(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function md(h){h.g=pm(()=>{h.g=null,h.i&&(h.i=!1,md(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ln extends L{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:md(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(h){L.call(this),this.h=h,this.g={}}b(Rr,L);var oc=[];function lc(h){ue(h.g,function(v,T){this.g.hasOwnProperty(T)&&qn(v)},h),h.g={}}Rr.prototype.N=function(){Rr.Z.N.call(this),lc(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=d.JSON.stringify,gm=d.JSON.parse,pd=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function gd(){}function _d(){}var Ms={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){k.call(this,"d")}b(pn,k);function ys(){k.call(this,"c")}b(ys,k);var Lt={},yd=null;function zo(){return yd=yd||new Ft}Lt.Ia="serverreachability";function vd(h){k.call(this,Lt.Ia,h)}b(vd,k);function ni(h){const v=zo();rn(v,new vd(v))}Lt.STAT_EVENT="statevent";function Nr(h,v){k.call(this,Lt.STAT_EVENT,h),this.stat=v}b(Nr,k);function Gt(h){const v=zo();rn(v,new Nr(v,h))}Lt.Ja="timingevent";function si(h,v){k.call(this,Lt.Ja,h),this.size=v}b(si,k);function ii(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function zs(){this.g=!0}zs.prototype.ua=function(){this.g=!1};function _m(h,v,T,R,Q,Z){h.info(function(){if(h.g)if(Z){var ge="",Fe=Z.split("&");for(let ct=0;ct<Fe.length;ct++){var Pt=Fe[ct].split("=");if(Pt.length>1){const It=Pt[0];Pt=Pt[1];const Ts=It.split("_");ge=Ts.length>=2&&Ts[1]=="type"?ge+(It+"="+Pt+"&"):ge+(It+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+v+`
`+T+`
`+ge})}function bd(h,v,T,R,Q,Z,ge){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+v+`
`+T+`
`+Z+" "+ge})}function ai(h,v,T,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ym(h,T)+(R?" "+R:"")})}function Cr(h,v){h.info(function(){return"TIMEOUT: "+v})}zs.prototype.info=function(){};function ym(h,v){if(!h.g)return v;if(!v)return null;try{const Z=JSON.parse(v);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var T=Z[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<R.length;ge++)R[ge]=""}}}}return pa(Z)}catch{return v}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uc;function kr(){}b(kr,gd),kr.prototype.g=function(){return new XMLHttpRequest},uc=new kr;function Pi(h){return encodeURIComponent(String(h))}function Ed(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function Ls(h,v,T,R){this.j=h,this.i=v,this.l=T,this.S=R||1,this.V=new Rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var Qt={},un={};function ri(h,v,T){h.M=1,h.A=Dr(Yt(v)),h.u=T,h.R=!0,Lo(h,null)}function Lo(h,v){h.F=Date.now(),oi(h),h.B=Yt(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Bo(T.i,"t",R),h.C=0,T=h.j.L,h.h=new Ps,h.g=zd(h.j,T?v:null,!h.u),h.P>0&&(h.O=new Ln(_(h.Y,h,h.g),h.P)),v=h.V,T=h.g,R=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(oc[0]=Q.toString()),Q=oc);for(let Z=0;Z<Q.length;Z++){const ge=fe(T,Q[Z],R||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),ni(),_m(h.i,h.v,h.B,h.l,h.S,h.u)}Ls.prototype.ba=function(h){h=h.target;const v=this.O;v&&Bs(h)==3?v.j():this.Y(h)},Ls.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=Bs(this.g),Pt=this.g.ya(),ct=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Fe!=4||Pt==7||(Pt==8||ct<=0?ni(3):ni(2)),li(this);var v=this.g.ca();this.X=v;var T=vm(this);if(this.o=v==200,bd(this.i,this.v,this.B,this.l,this.S,Fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(R)){var Z=R;break t}}Z=null}if(h=Z)ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,h);else{this.o=!1,this.m=3,Gt(12),es(this),vs(this);break e}}if(this.R){h=!0;let It;for(;!this.K&&this.C<T.length;)if(It=Sd(this,T),It==un){Fe==4&&(this.m=4,Gt(14),h=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Qt){this.m=4,Gt(15),ai(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else ai(this.i,this.l,It,null),ci(this,It);if(Td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||T.length!=0||this.h.h||(this.m=1,Gt(16),h=!1),this.o=this.o&&h,!h)ai(this.i,this.l,T,"[Invalid Chunked Response]"),es(this),vs(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),xc(ge),ge.P=!0,Gt(11))}}else ai(this.i,this.l,T,null),ci(this,T);Fe==4&&es(this),this.o&&!this.K&&(Fe==4?kd(this.j,this):(this.o=!1,oi(this)))}else Ui(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),es(this),vs(this)}}}catch{}};function vm(h){if(!Td(h))return h.g.la();const v=gn(h.g);if(v==="")return"";let T="";const R=v.length,Q=Bs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return es(h),vs(h),"";h.h.i=new d.TextDecoder}for(let Z=0;Z<R;Z++)h.h.h=!0,T+=h.h.i.decode(v[Z],{stream:!(Q&&Z==R-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function Td(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Sd(h,v){var T=h.C,R=v.indexOf(`
`,T);return R==-1?un:(T=Number(v.substring(T,R)),isNaN(T)?Qt:(R+=1,R+T>v.length?un:(v=v.slice(R,R+T),h.C=R+T,v)))}Ls.prototype.cancel=function(){this.K=!0,es(this)};function oi(h){h.T=Date.now()+h.H,Po(h,h.H)}function Po(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ii(_(h.aa,h),v)}function li(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Ls.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(ni(),Gt(17)),es(this),this.m=2,vs(this)):Po(this,this.T-h)};function vs(h){h.j.I==0||h.K||kd(h.j,h)}function es(h){li(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,lc(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function ci(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||di(T.h,h))){if(!h.L&&di(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Go(T),Sa(T);else break e;Ur(T),Gt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ii(_(T.Va,T),6e3));ui(T.h)<=1&&T.ta&&(T.ta=void 0)}else _i(T,11)}else if((h.L||T.g==h)&&Go(T),!A(v))for(Q=T.Ba.g.parse(v),v=0;v<Q.length;v++){let ct=Q[v];const It=ct[0];if(!(It<=T.K))if(T.K=It,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const Ts=ct[3];Ts!=null&&(T.ka=Ts,T.j.info("VER="+T.ka));const yi=ct[4];yi!=null&&(T.za=yi,T.j.info("SVER="+T.za));const qs=ct[5];qs!=null&&typeof qs=="number"&&qs>0&&(R=1.5*qs,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Hs=h.g;if(Hs){const Br=Hs.g?Hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var Z=R.h;Z.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(fc(Z,Z.h),Z.h=null))}if(R.G){const Qo=Hs.g?Hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(R.wa=Qo,mt(R.J,R.G,Qo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ge=h;if(R.na=Md(R,R.L?R.ba:null,R.W),ge.L){mc(R.h,ge);var Fe=ge,Pt=R.O;Pt&&(Fe.H=Pt),Fe.D&&(li(Fe),oi(Fe)),R.g=ge}else Cd(R);T.i.length>0&&gi(T)}else ct[0]!="stop"&&ct[0]!="close"||_i(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?_i(T,7):Sc(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}ni(4)}catch{}}var Kt=class{constructor(h,v){this.g=h,this.map=v}};function dc(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ui(h){return h.h?1:h.g?h.g.size:0}function di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function fc(h,v){h.g?h.g.add(v):h.h=v}function mc(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}dc.prototype.cancel=function(){if(this.i=pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return N(h.i)}var Ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vo(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let Q,Z=null;R>=0?(Q=h[T].substring(0,R),Z=h[T].substring(R+1)):Q=h[T],v(Q,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ts(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof ts?(this.l=h.l,dn(this,h.j),this.o=h.o,this.g=h.g,ga(this,h.u),this.h=h.h,gc(this,Rd(h.i)),this.m=h.m):h&&(v=String(h).match(Ad))?(this.l=!1,dn(this,v[1]||"",!0),this.o=hi(v[2]||""),this.g=hi(v[3]||"",!0),ga(this,v[4]),this.h=hi(v[5]||"",!0),gc(this,v[6]||"",!0),this.m=hi(v[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}ts.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Or(v,Uo,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Or(v,Uo,!0),"@"),h.push(Pi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Or(T,T.charAt(0)=="/"?_c:xd,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Or(T,wd)),h.join("")},ts.prototype.resolve=function(h){const v=Yt(this);let T=!!h.j;T?dn(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var R=h.h;if(T)ga(v,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(R=v.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const Z=[];for(let ge=0;ge<Q.length;){const Fe=Q[ge++];Fe=="."?R&&ge==Q.length&&Z.push(""):Fe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&ge==Q.length&&Z.push("")):(Z.push(Fe),R=!0)}R=Z.join("/")}else R=Q}return T?v.h=R:T=h.i.toString()!=="",T?gc(v,Rd(h.i)):T=!!h.m,T&&(v.m=h.m),v};function Yt(h){return new ts(h)}function dn(h,v,T){h.j=T?hi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ga(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function gc(h,v,T){v instanceof ya?(h.i=v,qo(h.i,h.l)):(T||(v=Or(v,_a)),h.i=new ya(v,h.l))}function mt(h,v,T){h.i.set(v,T)}function Dr(h){return mt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function hi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Or(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Hn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Uo=/[#\/\?@]/g,xd=/[#\?:]/g,_c=/[#\?]/g,_a=/[#\?@]/g,wd=/#/g;function ya(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function $n(h){h.g||(h.g=new Map,h.h=0,h.i&&Vo(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}s=ya.prototype,s.add=function(h,v){$n(this),this.i=null,h=va(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Id(h,v){$n(h),v=va(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function yc(h,v){return $n(h),v=va(h,v),h.g.has(v)}s.forEach=function(h,v){$n(this),this.g.forEach(function(T,R){T.forEach(function(Q){h.call(v,Q,R,this)},this)},this)};function vc(h,v){$n(h);let T=[];if(typeof v=="string")yc(h,v)&&(T=T.concat(h.g.get(va(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}s.set=function(h,v){return $n(this),this.i=null,h=va(this,h),yc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=vc(this,h),h.length>0?String(h[0]):v):v};function Bo(h,v,T){Id(h,v),T.length>0&&(h.i=null,h.g.set(va(h,v),N(T)),h.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const Q=Pi(T);T=vc(this,T);for(let Z=0;Z<T.length;Z++){let ge=Q;T[Z]!==""&&(ge+="="+Pi(T[Z])),h.push(ge)}}return this.i=h.join("&")};function Rd(h){const v=new ya;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function va(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function qo(h,v){v&&!h.j&&($n(h),h.i=null,h.g.forEach(function(T,R){const Q=R.toLowerCase();R!=Q&&(Id(this,R),Bo(this,Q,T))},h)),h.j=v}function Vs(h,v){const T=new zs;if(d.Image){const R=new Image;R.onload=y(bs,T,"TestLoadImage: loaded",!0,v,R),R.onerror=y(bs,T,"TestLoadImage: error",!1,v,R),R.onabort=y(bs,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(bs,T,"TestLoadImage: timeout",!1,v,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function bc(h,v){const T=new zs,R=new AbortController,Q=setTimeout(()=>{R.abort(),bs(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(Z=>{clearTimeout(Q),Z.ok?bs(T,"TestPingServer: ok",!0,v):bs(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),bs(T,"TestPingServer: error",!1,v)})}function bs(h,v,T,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(T)}catch{}}function ba(){this.g=new pd}function fi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(fi,gd),fi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(h,v){Ft.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Mr,Ft),s=Mr.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Us(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ho(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ho(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ea(this):Us(this),this.readyState==3&&Ho(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Ea(this))},s.Na=function(h){this.g&&(this.response=h,Ea(this))},s.ga=function(){this.g&&Ea(this)};function Ea(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Us(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Us(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Es(h){let v="";return ue(h,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function zr(h,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Es(T),typeof h=="string"?T!=null&&Pi(T):mt(h,v,T))}function _t(h){Ft.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(_t,Ft);var mi=/^https?$/i,Ec=["POST","PUT"];s=_t.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uc.g(),this.g.onreadystatechange=S(_(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){Lr(this,Z);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)T.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())T.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Ec,v,void 0)>=0)||R||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of T)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){Lr(this,Z)}};function Lr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Tc(h),Vi(h)}function Tc(h){h.A||(h.A=!0,rn(h,"complete"),rn(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,rn(this,"complete"),rn(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),_t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(h){if(h.h&&typeof l<"u"){if(h.v&&Bs(h)==4)setTimeout(h.Ca.bind(h),0);else if(rn(h,"readystatechange"),Bs(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=Z===0){let ge=String(h.D).match(Ad)[1]||null;!ge&&d.self&&d.self.location&&(ge=d.self.location.protocol.slice(0,-1)),R=!mi.test(ge?ge.toLowerCase():"")}T=R}if(T)rn(h,"complete"),rn(h,"success");else{h.o=6;try{var Q=Bs(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Tc(h)}}finally{Vi(h)}}}}function Vi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||rn(h,"ready");try{T.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bs(h){return h.g?h.g.readyState:0}s.ca=function(){try{return Bs(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),gm(v)}};function gn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(h){const v={};h=(h.g&&Bs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(A(h[R]))continue;var T=Ed(h[R]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[Q]||[];v[Q]=Z,Z.push(T)}we(v,function(R){return R.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ta(h){this.za=0,this.i=[],this.j=new zs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,h),this.Za=pi("retryDelaySeedMs",1e4,h),this.Ta=pi("forwardChannelMaxRetries",2,h),this.va=pi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new dc(h&&h.concurrentRequestLimit),this.Ba=new ba,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ta.prototype,s.ka=8,s.I=1,s.connect=function(h,v,T,R){Gt(0),this.W=h,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Md(this,null,this.W),gi(this)};function Sc(h){if($o(h),h.I==3){var v=h.V++,T=Yt(h.J);if(mt(T,"SID",h.M),mt(T,"RID",v),mt(T,"TYPE","terminate"),Vr(h,T),v=new Ls(h,h.j,v),v.M=2,v.A=Dr(Yt(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&d.Image&&(new Image().src=v.A,T=!0),T||(v.g=zd(v.j,null),v.g.ea(v.A)),v.F=Date.now(),oi(v)}Od(h)}function Sa(h){h.g&&(xc(h),h.g.cancel(),h.g=null)}function $o(h){Sa(h),h.v&&(d.clearTimeout(h.v),h.v=null),Go(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function gi(h){if(!hc(h.h)&&!h.m){h.m=!0;var v=h.Ea;ie||I(),he||(ie(),he=!0),O.add(v,h),h.D=0}}function Fo(h,v){return ui(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ii(_(h.Ea,h,v),Dd(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Ls(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=M(Z),J(Z,this.U)):Z=this.U),this.u!==null||this.R||(Q.J=Z,Z=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Nd(this,Q,v),T=Yt(this.J),mt(T,"RID",h),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),Vr(this,T),Z&&(this.R?v="headers="+Pi(Es(Z))+"&"+v:this.u&&zr(T,this.u,Z)),fc(this.h,Q),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",v),mt(T,"SID","null"),Q.U=!0,ri(Q,T,null)):ri(Q,T,v),this.I=2}}else this.I==3&&(h?Ac(this,h):this.i.length==0||hc(this.h)||Ac(this))};function Ac(h,v){var T;v?T=v.l:T=h.V++;const R=Yt(h.J);mt(R,"SID",h.M),mt(R,"RID",T),mt(R,"AID",h.K),Vr(h,R),h.u&&h.o&&zr(R,h.u,h.o),T=new Ls(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Nd(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),fc(h.h,T),ri(T,R,v)}function Vr(h,v){h.H&&ue(h.H,function(T,R){mt(v,R,T)}),h.l&&ue({},function(T,R){mt(v,R,T)})}function Nd(h,v,T){T=Math.min(h.i.length,T);const R=h.l?_(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Fe=-1;for(;;){const Pt=["count="+T];Fe==-1?T>0?(Fe=Q[0].g,Pt.push("ofs="+Fe)):Fe=0:Pt.push("ofs="+Fe);let ct=!0;for(let It=0;It<T;It++){var Z=Q[It].g;const Ts=Q[It].map;if(Z-=Fe,Z<0)Fe=Math.max(0,Q[It].g-100),ct=!1;else try{Z="req"+Z+"_"||"";try{var ge=Ts instanceof Map?Ts:Object.entries(Ts);for(const[yi,qs]of ge){let Hs=qs;m(qs)&&(Hs=pa(qs)),Pt.push(Z+yi+"="+encodeURIComponent(Hs))}}catch(yi){throw Pt.push(Z+"type="+encodeURIComponent("_badmap")),yi}}catch{R&&R(Ts)}}if(ct){ge=Pt.join("&");break e}}ge=void 0}return h=h.i.splice(0,T),v.G=h,ge}function Cd(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ie||I(),he||(ie(),he=!0),O.add(v,h),h.A=0}}function Ur(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ii(_(h.Da,h),Dd(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,jd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ii(_(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Sa(this),jd(this))};function xc(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function jd(h){h.g=new Ls(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Yt(h.na);mt(v,"RID","rpc"),mt(v,"SID",h.M),mt(v,"AID",h.K),mt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&mt(v,"TO",h.ia),mt(v,"TYPE","xmlhttp"),Vr(h,v),h.u&&h.o&&zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Dr(Yt(v)),T.u=null,T.R=!0,Lo(T,h)}s.Va=function(){this.C!=null&&(this.C=null,Sa(this),Ur(this),Gt(19))};function Go(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function kd(h,v){var T=null;if(h.g==v){Go(h),xc(h),h.g=null;var R=2}else if(di(h.h,v))T=v.G,mc(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var Q=h.D;R=zo(),rn(R,new si(R,T)),gi(h)}else Cd(h);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(R==1&&Fo(h,v)||R==2&&Ur(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),Q){case 1:_i(h,5);break;case 4:_i(h,10);break;case 3:_i(h,6);break;default:_i(h,2)}}}function Dd(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function _i(h,v){if(h.j.info("Error code "+v),v==2){var T=_(h.bb,h),R=h.Ua;const Q=!R;R=new ts(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||dn(R,"https"),Dr(R),Q?Vs(R.toString(),T):bc(R.toString(),T)}else Gt(2);h.I=0,h.l&&h.l.pa(v),Od(h),$o(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Od(h){if(h.I=0,h.ja=[],h.l){const v=pc(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Md(h,v,T){var R=T instanceof ts?Yt(T):new ts(T);if(R.g!="")v&&(R.g=v+"."+R.g),ga(R,R.u);else{var Q=d.location;R=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const Z=new ts(null);R&&dn(Z,R),v&&(Z.g=v),Q&&ga(Z,Q),T&&(Z.h=T),R=Z}return T=h.G,v=h.wa,T&&v&&mt(R,T,v),mt(R,"VER",h.ka),Vr(h,R),R}function zd(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new _t(new fi({ab:T})):new _t(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ld(){}s=Ld.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Aa(){}Aa.prototype.g=function(h,v){return new Pn(h,v)};function Pn(h,v){Ft.call(this),this.g=new Ta(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!A(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!A(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Bi(this)}b(Pn,Ft),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Sc(this.g)},Pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=pa(h),h=T);v.i.push(new Kt(v.Ya++,h)),v.I==3&&gi(v)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,Pn.Z.N.call(this)};function Pd(h){pn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(Pd,pn);function Vd(){ys.call(this),this.status=1}b(Vd,ys);function Bi(h){this.g=h}b(Bi,Ld),Bi.prototype.ra=function(){rn(this.g,"a")},Bi.prototype.qa=function(h){rn(this.g,new Pd(h))},Bi.prototype.pa=function(h){rn(this.g,new Vd)},Bi.prototype.oa=function(){rn(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,MS=function(){return new Aa},OS=function(){return zo()},DS=Lt,Jg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,rf=jr,cc.COMPLETE="complete",kS=cc,_d.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,_u=_d,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,jS=_t}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});let kn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let Ql="12.9.0";function Tk(s){Ql=s}const _o=new D_("@firebase/firestore");function xl(){return _o.logLevel}function xe(s,...e){if(_o.logLevel<=et.DEBUG){const t=e.map($_);_o.debug(`Firestore (${Ql}): ${s}`,...t)}}function ha(s,...e){if(_o.logLevel<=et.ERROR){const t=e.map($_);_o.error(`Firestore (${Ql}): ${s}`,...t)}}function yo(s,...e){if(_o.logLevel<=et.WARN){const t=e.map($_);_o.warn(`Firestore (${Ql}): ${s}`,...t)}}function $_(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function Be(s,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,zS(s,a,t)}function zS(s,e,t){let a=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ha(a),new Error(a)}function ht(s,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,s||zS(e,o,a)}function $e(s,e){return s}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class la{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class LS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kn.UNAUTHENTICATED)))}shutdown(){}}class Ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xk{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,t(g)):Promise.resolve();let l=new la;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new la,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new la)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new LS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class wk{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ik{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new wk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ds(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const a=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const o=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Nk(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class F_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Nk(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function tt(s,e){return s<e?-1:s>e?1:0}function e_(s,e){const t=Math.min(s.length,e.length);for(let a=0;a<t;a++){const o=s.charAt(a),l=e.charAt(a);if(o!==l)return Ng(o)===Ng(l)?tt(o,l):Ng(o)?1:-1}return tt(s.length,e.length)}const Ck=55296,jk=57343;function Ng(s){const e=s.charCodeAt(0);return e>=Ck&&e<=jk}function Vl(s,e,t){return s.length===e.length&&s.every(((a,o)=>t(a,e[o])))}const nE="__name__";class wi{constructor(e,t,a){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Be(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=wi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return tt(e.length,t.length)}static compareSegments(e,t){const a=wi.isNumericId(e),o=wi.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?wi.extractNumericId(e).compare(wi.extractNumericId(t)):e_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class Tt extends wi{construct(e,t,a){return new Tt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((o=>o.length>0)))}return new Tt(t)}static emptyPath(){return new Tt([])}}const kk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends wi{construct(e,t,a){return new An(e,t,a)}static isValidIdentifier(e){return kk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new An([nE])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(l(),o++)}if(l(),d)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Tt.fromString(e))}static fromName(e){return new Oe(Tt.fromString(e).popFirst(5))}static empty(){return new Oe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Tt(e.slice()))}}function PS(s,e,t){if(!t)throw new Ee(re.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Dk(s,e,t,a){if(e===!0&&a===!0)throw new Ee(re.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function sE(s){if(!Oe.isDocumentKey(s))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function iE(s){if(Oe.isDocumentKey(s))throw new Ee(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function VS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $f(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Be(12329,{type:typeof s})}function Js(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$f(s);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function Ok(s,e){if(e<=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}function sn(s,e){const t={typeString:s};return e&&(t.value=e),t}function td(s,e){if(!VS(s))throw new Ee(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){t=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new Ee(re.INVALID_ARGUMENT,t);return!0}const aE=-62135596800,rE=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*rE);return new dt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aE)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(td(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:sn("string",dt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new dt(0,0))}static max(){return new qe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Du=-1;function Mk(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=qe.fromTimestamp(a===1e9?new dt(t+1,0):new dt(t,a));return new cr(o,Oe.empty(),e)}function zk(s){return new cr(s.readTime,s.key,Du)}class cr{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new cr(qe.min(),Oe.empty(),Du)}static max(){return new cr(qe.max(),Oe.empty(),Du)}}function Lk(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(s.documentKey,e.documentKey),t!==0?t:tt(s.largestBatchId,e.largestBatchId))}const Pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kl(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==Pk)throw s;xe("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,a)=>{t(e)}))}static reject(e){return new ce(((t,a)=>{a(e)}))}static waitFor(e){return new ce(((t,a)=>{let o=0,l=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++l,d&&l===o&&t()}),(g=>a(g)))})),d=!0,l===o&&t()}))}static or(e){let t=ce.resolve(!1);for(const a of e)t=t.next((o=>o?ce.resolve(o):a()));return t}static forEach(e,t){const a=[];return e.forEach(((o,l)=>{a.push(t.call(this,o,l))})),this.waitFor(a)}static mapArray(e,t){return new ce(((a,o)=>{const l=e.length,d=new Array(l);let m=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next((y=>{d[_]=y,++m,m===l&&a(d)}),(y=>o(y)))}}))}static doWhile(e,t){return new ce(((a,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):a()};l()}))}}function Uk(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yl(s){return s.name==="IndexedDbTransactionError"}class Ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;const G_=-1;function Gf(s){return s==null}function Sf(s){return s===0&&1/s==-1/0}function Bk(s){return typeof s=="number"&&Number.isInteger(s)&&!Sf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const US="";function qk(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=oE(e)),e=Hk(s.get(t),e);return oE(e)}function Hk(s,e){let t=e;const a=s.length;for(let o=0;o<a;o++){const l=s.charAt(o);switch(l){case"\0":t+="";break;case US:t+="";break;default:t+=l}}return t}function oE(s){return s+US+""}function lE(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Er(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function BS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class jt{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??Sn.RED,this.left=o??Sn.EMPTY,this.right=l??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new Sn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new hs([])}unionWith(e){let t=new cn(An.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}class qS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qS("Invalid base64 string: "+l):l}})(e);return new xn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l})(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(ht(!!s,39018),typeof s=="string"){let e=0;const t=$k.exec(s);if(ht(!!t,46558,{timestamp:s}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:qt(s.seconds),nanos:qt(s.nanos)}}function qt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?xn.fromBase64String(s):xn.fromUint8Array(s)}const HS="server_timestamp",$S="__type__",FS="__previous_value__",GS="__local_write_time__";function Q_(s){return(s?.mapValue?.fields||{})[$S]?.stringValue===HS}function Qf(s){const e=s.mapValue.fields[FS];return Q_(e)?Qf(e):e}function Ou(s){const e=ur(s.mapValue.fields[GS].timestampValue);return new dt(e.seconds,e.nanos)}class Fk{constructor(e,t,a,o,l,d,m,g,_,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=y,this.apiKey=b}}const Af="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||Af}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===Af}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}function Gk(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(s.options.projectId,e)}const QS="__type__",Qk="__max__",Qh={mapValue:{}},KS="__vector__",xf="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Q_(s)?4:Yk(s)?9007199254740991:Kk(s)?10:11:Be(28295,{value:s})}function Mi(s,e){if(s===e)return!0;const t=hr(s);if(t!==hr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ou(s).isEqual(Ou(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=ur(o.timestampValue),m=ur(l.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,l){return dr(o.bytesValue).isEqual(dr(l.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,l){return qt(o.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(s,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return qt(o.integerValue)===qt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=qt(o.doubleValue),m=qt(l.doubleValue);return d===m?Sf(d)===Sf(m):isNaN(d)&&isNaN(m)}return!1})(s,e);case 9:return Vl(s.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,l){const d=o.mapValue.fields||{},m=l.mapValue.fields||{};if(lE(d)!==lE(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Mi(d[g],m[g])))return!1;return!0})(s,e);default:return Be(52216,{left:s})}}function zu(s,e){return(s.values||[]).find((t=>Mi(t,e)))!==void 0}function Ul(s,e){if(s===e)return 0;const t=hr(s),a=hr(e);if(t!==a)return tt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(s.booleanValue,e.booleanValue);case 2:return(function(l,d){const m=qt(l.integerValue||l.doubleValue),g=qt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return uE(s.timestampValue,e.timestampValue);case 4:return uE(Ou(s),Ou(e));case 5:return e_(s.stringValue,e.stringValue);case 6:return(function(l,d){const m=dr(l),g=dr(d);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(l,d){const m=l.split("/"),g=d.split("/");for(let _=0;_<m.length&&_<g.length;_++){const y=tt(m[_],g[_]);if(y!==0)return y}return tt(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(l,d){const m=tt(qt(l.latitude),qt(d.latitude));return m!==0?m:tt(qt(l.longitude),qt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return dE(s.arrayValue,e.arrayValue);case 10:return(function(l,d){const m=l.fields||{},g=d.fields||{},_=m[xf]?.arrayValue,y=g[xf]?.arrayValue,b=tt(_?.values?.length||0,y?.values?.length||0);return b!==0?b:dE(_,y)})(s.mapValue,e.mapValue);case 11:return(function(l,d){if(l===Qh.mapValue&&d===Qh.mapValue)return 0;if(l===Qh.mapValue)return 1;if(d===Qh.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),_=d.fields||{},y=Object.keys(_);g.sort(),y.sort();for(let b=0;b<g.length&&b<y.length;++b){const S=e_(g[b],y[b]);if(S!==0)return S;const N=Ul(m[g[b]],_[y[b]]);if(N!==0)return N}return tt(g.length,y.length)})(s.mapValue,e.mapValue);default:throw Be(23264,{he:t})}}function uE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return tt(s,e);const t=ur(s),a=ur(e),o=tt(t.seconds,a.seconds);return o!==0?o:tt(t.nanos,a.nanos)}function dE(s,e){const t=s.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=Ul(t[o],a[o]);if(l)return l}return tt(t.length,a.length)}function Bl(s){return t_(s)}function t_(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const a=ur(t);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return dr(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return Oe.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=t_(l);return a+"]"})(s.arrayValue):"mapValue"in s?(function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of a)l?l=!1:o+=",",o+=`${d}:${t_(t.fields[d])}`;return o+"}"})(s.mapValue):Be(61005,{value:s})}function of(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qf(s);return e?16+of(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,l)=>o+of(l)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Er(a.fields,((l,d)=>{o+=l.length+of(d)})),o})(s.mapValue);default:throw Be(13486,{value:s})}}function hE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function n_(s){return!!s&&"integerValue"in s}function K_(s){return!!s&&"arrayValue"in s}function fE(s){return!!s&&"nullValue"in s}function mE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function lf(s){return!!s&&"mapValue"in s}function Kk(s){return(s?.mapValue?.fields||{})[QS]?.stringValue===KS}function Su(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((t,a)=>e.mapValue.fields[t]=Su(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(s.arrayValue.values[t]);return e}return{...s}}function Yk(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Qk}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=An.emptyPath(),a={},o=[];e.forEach(((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,a,o),a={},o=[],t=m.popLast()}d?a[m.lastSegment()]=Su(d):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];lf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Er(t,((o,l)=>e[o]=l));for(const o of a)delete e[o]}clone(){return new Zn(Su(this.value))}}function YS(s){const e=[];return Er(s.fields,((t,a)=>{const o=new An([t]);if(lf(a)){const l=YS(a.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)})),new hs(e)}class Dn{constructor(e,t,a,o,l,d,m){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Dn(e,0,qe.min(),qe.min(),qe.min(),Zn.empty(),0)}static newFoundDocument(e,t,a,o){return new Dn(e,1,t,qe.min(),a,o,0)}static newNoDocument(e,t){return new Dn(e,2,t,qe.min(),qe.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,qe.min(),qe.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wf{constructor(e,t){this.position=e,this.inclusive=t}}function pE(s,e,t){let a=0;for(let o=0;o<s.position.length;o++){const l=e[o],d=s.position[o];if(l.field.isKeyField()?a=Oe.comparator(Oe.fromName(d.referenceValue),t.key):a=Ul(d,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function gE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Mi(s.position[t],e.position[t]))return!1;return!0}class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wk(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class WS{}class nn extends WS{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new Zk(e,t,a):t==="array-contains"?new tD(e,a):t==="in"?new nD(e,a):t==="not-in"?new sD(e,a):t==="array-contains-any"?new iD(e,a):new nn(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new Jk(e,a):new eD(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ul(t,this.value)):t!==null&&hr(this.value)===hr(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends WS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ei(e,t)}matches(e){return XS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XS(s){return s.op==="and"}function ZS(s){return Xk(s)&&XS(s)}function Xk(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function s_(s){if(s instanceof nn)return s.field.canonicalString()+s.op.toString()+Bl(s.value);if(ZS(s))return s.filters.map((e=>s_(e))).join(",");{const e=s.filters.map((t=>s_(t))).join(",");return`${s.op}(${e})`}}function JS(s,e){return s instanceof nn?(function(a,o){return o instanceof nn&&a.op===o.op&&a.field.isEqual(o.field)&&Mi(a.value,o.value)})(s,e):s instanceof ei?(function(a,o){return o instanceof ei&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((l,d,m)=>l&&JS(d,o.filters[m])),!0):!1})(s,e):void Be(19439)}function eA(s){return s instanceof nn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bl(t.value)}`})(s):s instanceof ei?(function(t){return t.op.toString()+" {"+t.getFilters().map(eA).join(" ,")+"}"})(s):"Filter"}class Zk extends nn{constructor(e,t,a){super(e,t,a),this.key=Oe.fromName(a.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jk extends nn{constructor(e,t){super(e,"in",t),this.keys=tA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class eD extends nn{constructor(e,t){super(e,"not-in",t),this.keys=tA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tA(s,e){return(e.arrayValue?.values||[]).map((t=>Oe.fromName(t.referenceValue)))}class tD extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return K_(t)&&zu(t.arrayValue,this.value)}}class nD extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}}class sD extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}}class iD extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!K_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>zu(this.value.arrayValue,a)))}}class aD{constructor(e,t=null,a=[],o=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=d,this.endAt=m,this.Te=null}}function _E(s,e=null,t=[],a=[],o=null,l=null,d=null){return new aD(s,e,t,a,o,l,d)}function Y_(s){const e=$e(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>s_(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),Gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Bl(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Bl(a))).join(",")),e.Te=t}return e.Te}function W_(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!Wk(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!JS(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gE(s.startAt,e.startAt)&&gE(s.endAt,e.endAt)}function i_(s){return Oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Wl{constructor(e,t=null,a=[],o=[],l=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rD(s,e,t,a,o,l,d,m){return new Wl(s,e,t,a,o,l,d,m)}function X_(s){return new Wl(s)}function yE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function oD(s){return Oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function nA(s){return s.collectionGroup!==null}function Au(s){const e=$e(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new cn(An.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Lu(l,a))})),t.has(An.keyField().canonicalString())||e.Ie.push(new Lu(An.keyField(),a))}return e.Ie}function ji(s){const e=$e(s);return e.Ee||(e.Ee=lD(e,Au(s))),e.Ee}function lD(s,e){if(s.limitType==="F")return _E(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Lu(o.field,l)}));const t=s.endAt?new wf(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new wf(s.startAt.position,s.startAt.inclusive):null;return _E(s.path,s.collectionGroup,e,s.filters,s.limit,t,a)}}function a_(s,e){const t=s.filters.concat([e]);return new Wl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function cD(s,e){const t=s.explicitOrderBy.concat([e]);return new Wl(s.path,s.collectionGroup,t,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function If(s,e,t){return new Wl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Kf(s,e){return W_(ji(s),ji(e))&&s.limitType===e.limitType}function sA(s){return`${Y_(ji(s))}|lt:${s.limitType}`}function wl(s){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((o=>eA(o))).join(", ")}]`),Gf(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((o=>Bl(o))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((o=>Bl(o))).join(",")),`Target(${a})`})(ji(s))}; limitType=${s.limitType})`}function Yf(s,e){return e.isFoundDocument()&&(function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Oe.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(s,e)&&(function(a,o){for(const l of Au(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,m,g){const _=pE(d,m,g);return d.inclusive?_<=0:_<0})(a.startAt,Au(a),o)||a.endAt&&!(function(d,m,g){const _=pE(d,m,g);return d.inclusive?_>=0:_>0})(a.endAt,Au(a),o))})(s,e)}function uD(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function iA(s){return(e,t)=>{let a=!1;for(const o of Au(s)){const l=dD(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function dD(s,e,t){const a=s.field.isKeyField()?Oe.comparator(e.key,t.key):(function(l,d,m){const g=d.data.field(l),_=m.data.field(l);return g!==null&&_!==null?Ul(g,_):Be(42886)})(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Be(19790,{direction:s.dir})}}class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((t,a)=>{for(const[o,l]of a)e(o,l)}))}isEmpty(){return BS(this.inner)}size(){return this.innerSize}}const hD=new jt(Oe.comparator);function fa(){return hD}const aA=new jt(Oe.comparator);function yu(...s){let e=aA;for(const t of s)e=e.insert(t.key,t);return e}function rA(s){let e=aA;return s.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function ro(){return xu()}function oA(){return xu()}function xu(){return new Ro((s=>s.toString()),((s,e)=>s.isEqual(e)))}const fD=new jt(Oe.comparator),mD=new cn(Oe.comparator);function nt(...s){let e=mD;for(const t of s)e=e.add(t);return e}const pD=new cn(tt);function gD(){return pD}function Z_(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function lA(s){return{integerValue:""+s}}function _D(s,e){return Bk(e)?lA(e):Z_(s,e)}class Wf{constructor(){this._=void 0}}function yD(s,e,t){return s instanceof Pu?(function(o,l){const d={fields:{[$S]:{stringValue:HS},[GS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Q_(l)&&(l=Qf(l)),l&&(d.fields[FS]=l),{mapValue:d}})(t,e):s instanceof Vu?uA(s,e):s instanceof Uu?dA(s,e):(function(o,l){const d=cA(o,l),m=vE(d)+vE(o.Ae);return n_(d)&&n_(o.Ae)?lA(m):Z_(o.serializer,m)})(s,e)}function vD(s,e,t){return s instanceof Vu?uA(s,e):s instanceof Uu?dA(s,e):t}function cA(s,e){return s instanceof Rf?(function(a){return n_(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class Pu extends Wf{}class Vu extends Wf{constructor(e){super(),this.elements=e}}function uA(s,e){const t=hA(e);for(const a of s.elements)t.some((o=>Mi(o,a)))||t.push(a);return{arrayValue:{values:t}}}class Uu extends Wf{constructor(e){super(),this.elements=e}}function dA(s,e){let t=hA(e);for(const a of s.elements)t=t.filter((o=>!Mi(o,a)));return{arrayValue:{values:t}}}class Rf extends Wf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vE(s){return qt(s.integerValue||s.doubleValue)}function hA(s){return K_(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class bD{constructor(e,t){this.field=e,this.transform=t}}function ED(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Vu&&o instanceof Vu||a instanceof Uu&&o instanceof Uu?Vl(a.elements,o.elements,Mi):a instanceof Rf&&o instanceof Rf?Mi(a.Ae,o.Ae):a instanceof Pu&&o instanceof Pu})(s.transform,e.transform)}class TD{constructor(e,t){this.version=e,this.transformResults=t}}class Ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Xf{}function fA(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new J_(s.key,Ds.none()):new nd(s.key,s.data,Ds.none());{const t=s.data,a=Zn.empty();let o=new cn(An.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?a.delete(l):a.set(l,d),o=o.add(l)}return new Tr(s.key,a,new hs(o.toArray()),Ds.none())}}function SD(s,e,t){s instanceof nd?(function(o,l,d){const m=o.value.clone(),g=EE(o.fieldTransforms,l,d.transformResults);m.setAll(g),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,t):s instanceof Tr?(function(o,l,d){if(!cf(o.precondition,l))return void l.convertToUnknownDocument(d.version);const m=EE(o.fieldTransforms,l,d.transformResults),g=l.data;g.setAll(mA(o)),g.setAll(m),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,t):(function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function wu(s,e,t,a){return s instanceof nd?(function(l,d,m,g){if(!cf(l.precondition,d))return m;const _=l.value.clone(),y=TE(l.fieldTransforms,g,d);return _.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,t,a):s instanceof Tr?(function(l,d,m,g){if(!cf(l.precondition,d))return m;const _=TE(l.fieldTransforms,g,d),y=d.data;return y.setAll(mA(l)),y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(s,e,t,a):(function(l,d,m){return cf(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(s,e,t)}function AD(s,e){let t=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),l=cA(a.transform,o||null);l!=null&&(t===null&&(t=Zn.empty()),t.set(a.field,l))}return t||null}function bE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Vl(a,o,((l,d)=>ED(l,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nd extends Xf{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Xf{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mA(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}})),e}function EE(s,e,t){const a=new Map;ht(s.length===t.length,32656,{Ve:t.length,de:s.length});for(let o=0;o<t.length;o++){const l=s[o],d=l.transform,m=e.data.field(l.field);a.set(l.field,vD(d,m,t[o]))}return a}function TE(s,e,t){const a=new Map;for(const o of s){const l=o.transform,d=t.data.field(o.field);a.set(o.field,yD(l,d,e))}return a}class J_ extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xD extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wD{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&SD(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=wu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=wu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=oA();return this.mutations.forEach((o=>{const l=e.get(o.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(o.key)?null:m;const g=fA(d,m);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(qe.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((t,a)=>bE(t,a)))&&Vl(this.baseMutations,e.baseMutations,((t,a)=>bE(t,a)))}}class ey{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return fD})();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,a[d].version);return new ey(e,t,a,o)}}class ID{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RD{constructor(e,t){this.count=e,this.unchangedNames=t}}var tn,it;function ND(s){switch(s){case re.OK:return Be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Be(15467,{code:s})}}function pA(s){if(s===void 0)return ha("GRPC error has no .code"),re.UNKNOWN;switch(s){case tn.OK:return re.OK;case tn.CANCELLED:return re.CANCELLED;case tn.UNKNOWN:return re.UNKNOWN;case tn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case tn.INTERNAL:return re.INTERNAL;case tn.UNAVAILABLE:return re.UNAVAILABLE;case tn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case tn.NOT_FOUND:return re.NOT_FOUND;case tn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case tn.ABORTED:return re.ABORTED;case tn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case tn.DATA_LOSS:return re.DATA_LOSS;default:return Be(39323,{code:s})}}(it=tn||(tn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function CD(){return new TextEncoder}const jD=new rr([4294967295,4294967295],0);function SE(s){const e=CD().encode(s),t=new CS;return t.update(e),new Uint8Array(t.digest())}function AE(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new rr([t,a],0),new rr([o,l],0)]}class ty{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new vu(`Invalid padding: ${t}`);if(a<0)throw new vu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new vu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=rr.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(rr.fromNumber(a)));return o.compare(jD)===1&&(o=new rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=SE(e),[a,o]=AE(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(a,o,l);if(!this.we(d))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new ty(l,o,t);return a.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const t=SE(e),[a,o]=AE(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(a,o,l);this.be(d)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Zf(qe.min(),o,new jt(tt),fa(),nt())}}class sd{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new sd(a,t,nt(),nt(),nt())}}class uf{constructor(e,t,a,o){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=o}}class gA{constructor(e,t){this.targetId=e,this.Ce=t}}class _A{constructor(e,t,a=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class xE{constructor(){this.ve=0,this.Fe=wE(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),a=nt();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Be(38017,{changeType:l})}})),new sd(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=wE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kD{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.He=Kh(),this.Je=Kh(),this.Ze=new jt(tt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(i_(l))if(a===0){const d=new Oe(l.path);this.et(t,d,Dn.newNoDocument(d,qe.min()))}else ht(a===1,20013,{expectedCount:a});else{const d=this._t(t);if(d!==a){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,_)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let d,m;try{d=dr(a).toUint8Array()}catch(g){if(g instanceof qS)return yo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ty(d,o,l)}catch(g){return yo(g instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach((l=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,d)=>{const m=this.ot(d);if(m){if(l.current&&i_(m.target)){const g=new Oe(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Dn.newNoDocument(g,e))}l.Be&&(t.set(d,l.ke()),l.Ke())}}));let a=nt();this.Je.forEach(((l,d)=>{let m=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(l))})),this.je.forEach(((l,d)=>d.setReadTime(e)));const o=new Zf(e,t,this.Ze,this.je,a);return this.je=fa(),this.He=Kh(),this.Je=Kh(),this.Ze=new jt(tt),o}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new xE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new cn(tt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new cn(tt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kh(){return new jt(Oe.comparator)}function wE(){return new jt(Oe.comparator)}const DD={asc:"ASCENDING",desc:"DESCENDING"},OD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class zD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function r_(s,e){return s.useProto3Json||Gf(e)?e:{value:e}}function Nf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function LD(s,e){return Nf(s,e.toTimestamp())}function ki(s){return ht(!!s,49232),qe.fromTimestamp((function(t){const a=ur(t);return new dt(a.seconds,a.nanos)})(s))}function ny(s,e){return o_(s,e).canonicalString()}function o_(s,e){const t=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?t:t.child(e)}function vA(s){const e=Tt.fromString(s);return ht(AA(e),10190,{key:e.toString()}),e}function l_(s,e){return ny(s.databaseId,e.path)}function Cg(s,e){const t=vA(e);if(t.get(1)!==s.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Oe(EA(t))}function bA(s,e){return ny(s.databaseId,e)}function PD(s){const e=vA(s);return e.length===4?Tt.emptyPath():EA(e)}function c_(s){return new Tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function EA(s){return ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function IE(s,e,t){return{name:l_(s,e),fields:t.value.mapValue.fields}}function VD(s,e){let t;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,y){return _.useProto3Json?(ht(y===void 0||typeof y=="string",58123),xn.fromBase64String(y||"")):(ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),xn.fromUint8Array(y||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(_){const y=_.code===void 0?re.UNKNOWN:pA(_.code);return new Ee(y,_.message||"")})(d);t=new _A(a,o,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Cg(s,a.document.name),l=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):qe.min(),m=new Zn({mapValue:{fields:a.document.fields}}),g=Dn.newFoundDocument(o,l,d,m),_=a.targetIds||[],y=a.removedTargetIds||[];t=new uf(_,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Cg(s,a.document),l=a.readTime?ki(a.readTime):qe.min(),d=Dn.newNoDocument(o,l),m=a.removedTargetIds||[];t=new uf([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Cg(s,a.document),l=a.removedTargetIds||[];t=new uf([],l,o,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,d=new RD(o,l),m=a.targetId;t=new gA(m,d)}}return t}function UD(s,e){let t;if(e instanceof nd)t={update:IE(s,e.key,e.value)};else if(e instanceof J_)t={delete:l_(s,e.key)};else if(e instanceof Tr)t={update:IE(s,e.key,e.data),updateMask:YD(e.fieldMask)};else{if(!(e instanceof xD))return Be(16599,{dt:e.type});t={verify:l_(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(l,d){const m=d.transform;if(m instanceof Pu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rf)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:LD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Be(27497)})(s,e.precondition)),t}function BD(s,e){return s&&s.length>0?(ht(e!==void 0,14353),s.map((t=>(function(o,l){let d=o.updateTime?ki(o.updateTime):ki(l);return d.isEqual(qe.min())&&(d=ki(l)),new TD(d,o.transformResults||[])})(t,e)))):[]}function qD(s,e){return{documents:[bA(s,e.path)]}}function HD(s,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=bA(s,o);const l=(function(_){if(_.length!==0)return SA(ei.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const d=(function(_){if(_.length!==0)return _.map((y=>(function(S){return{field:Il(S.field),direction:GD(S.dir)}})(y)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=r_(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:t,parent:o}}function $D(s){let e=PD(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){ht(a===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(b){const S=TA(b);return S instanceof ei&&ZS(S)?S.getFilters():[S]})(t.where));let d=[];t.orderBy&&(d=(function(b){return b.map((S=>(function(D){return new Lu(Rl(D.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Gf(S)?null:S})(t.limit));let g=null;t.startAt&&(g=(function(b){const S=!!b.before,N=b.values||[];return new wf(N,S)})(t.startAt));let _=null;return t.endAt&&(_=(function(b){const S=!b.before,N=b.values||[];return new wf(N,S)})(t.endAt)),rD(e,o,d,l,m,"F",g,_)}function FD(s,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TA(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Rl(t.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Rl(t.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Rl(t.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Rl(t.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(s):s.fieldFilter!==void 0?(function(t){return nn.create(Rl(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return ei.create(t.compositeFilter.filters.map((a=>TA(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(t.compositeFilter.op))})(s):Be(30097,{filter:s})}function GD(s){return DD[s]}function QD(s){return OD[s]}function KD(s){return MD[s]}function Il(s){return{fieldPath:s.canonicalString()}}function Rl(s){return An.fromServerFormat(s.fieldPath)}function SA(s){return s instanceof nn?(function(t){if(t.op==="=="){if(mE(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(fE(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mE(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(fE(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:QD(t.op),value:t.value}}})(s):s instanceof ei?(function(t){const a=t.getFilters().map((o=>SA(o)));return a.length===1?a[0]:{compositeFilter:{op:KD(t.op),filters:a}}})(s):Be(54877,{filter:s})}function YD(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function AA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function xA(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class nr{constructor(e,t,a,o,l=qe.min(),d=qe.min(),m=xn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WD{constructor(e){this.yt=e}}function XD(s){const e=$D({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?If(e,e.limit,"L"):e}class ZD{constructor(){this.Sn=new JD}addToCollectionParentIndex(e,t){return this.Sn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(cr.min())}updateCollectionGroup(e,t,a){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class JD{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new cn(Tt.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new cn(Tt.comparator)).toArray()}}const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(wA,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class ql{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ql(0)}static ar(){return new ql(-1)}}const NE="LruGarbageCollector",e4=1048576;function CE([s,e],[t,a]){const o=tt(s,t);return o===0?tt(e,a):o}class t4{constructor(e){this.Pr=e,this.buffer=new cn(CE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();CE(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n4{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){xe(NE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yl(t)?xe(NE,"Ignoring IndexedDB error during garbage collection: ",t):await Kl(t)}await this.Ar(3e5)}))}}class s4{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Ff.ce);const a=new t4(t);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(RE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,o,l,d,m,g,_;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,m=Date.now(),this.removeTargets(e,a,t)))).next((b=>(l=b,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(_=Date.now(),xl()<=et.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-y}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(_-g)+`ms
Total Duration: ${_-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b}))))}}function i4(s,e){return new s4(s,e)}class a4{constructor(){this.changes=new Ro((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ce.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class o4{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(a!==null&&wu(a.mutation,o,hs.empty(),dt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,nt()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=nt()){const o=ro();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,a).next((l=>{let d=yu();return l.forEach(((m,g)=>{d=d.insert(m,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const a=ro();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,nt())))}populateOverlays(e,t,a){const o=[];return a.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((d,m)=>{t.set(d,m)}))}))}computeViews(e,t,a,o){let l=fa();const d=xu(),m=(function(){return xu()})();return t.forEach(((g,_)=>{const y=a.get(_.key);o.has(_.key)&&(y===void 0||y.mutation instanceof Tr)?l=l.insert(_.key,_):y!==void 0?(d.set(_.key,y.mutation.getFieldMask()),wu(y.mutation,_,y.mutation.getFieldMask(),dt.now())):d.set(_.key,hs.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((_,y)=>d.set(_,y))),t.forEach(((_,y)=>m.set(_,new r4(y,d.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,t){const a=xu();let o=new jt(((d,m)=>d-m)),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const m of d)m.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let y=a.get(g)||hs.empty();y=m.applyToLocalView(_,y),a.set(g,y);const b=(o.get(m.batchId)||nt()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,y=g.value,b=oA();y.forEach((S=>{if(!l.has(S)){const N=fA(t.get(S),a.get(S));N!==null&&b.set(S,N),l=l.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return ce.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,o){return oD(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next((l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):ce.resolve(ro());let m=Du,g=l;return d.next((_=>ce.forEach(_,((y,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),l.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((S=>{g=g.insert(y,S)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,g,_,nt()))).next((y=>({batchId:m,changes:rA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next((a=>{let o=yu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let d=yu();return this.indexManager.getCollectionParents(e,l).next((m=>ce.forEach(m,(g=>{const _=(function(b,S){return new Wl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((y=>{y.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o)))).next((d=>{l.forEach(((g,_)=>{const y=_.getKey();d.get(y)===null&&(d=d.insert(y,Dn.newInvalidDocument(y)))}));let m=yu();return d.forEach(((g,_)=>{const y=l.get(g);y!==void 0&&wu(y.mutation,_,hs.empty(),dt.now()),Yf(t,_)&&(m=m.insert(g,_))})),m}))}}class l4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ce.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:XD(o.bundledQuery),readTime:ki(o.readTime)}})(t)),ce.resolve()}}class c4{constructor(){this.overlays=new jt(Oe.comparator),this.Lr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const a=ro();return ce.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&a.set(o,l)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((o,l)=>{this.bt(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(a)),ce.resolve()}getOverlaysForCollection(e,t,a){const o=ro(),l=t.length+1,d=new Oe(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new jt(((_,y)=>_-y));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>a){let y=l.get(_.largestBatchId);y===null&&(y=ro(),l=l.insert(_.largestBatchId,y)),y.set(_.getKey(),_)}}const m=ro(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,y)=>m.set(_,y))),!(m.size()>=o)););return ce.resolve(m)}bt(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new ID(t,a));let l=this.Lr.get(t);l===void 0&&(l=nt(),this.Lr.set(t,l)),this.Lr.set(t,l.add(a.key))}}class u4{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}class sy{constructor(){this.kr=new cn(fn.Kr),this.qr=new cn(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new fn(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new fn(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new Oe(new Tt([])),a=new fn(t,e),o=new fn(t,e+1),l=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),l.push(d.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Oe(new Tt([])),a=new fn(t,e),o=new fn(t,e+1);let l=nt();return this.qr.forEachInRange([a,o],(d=>{l=l.add(d.key)})),l}containsKey(e){const t=new fn(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class fn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Oe.comparator(e.key,t.key)||tt(e.Hr,t.Hr)}static Ur(e,t){return tt(e.Hr,t.Hr)||Oe.comparator(e.key,t.key)}}class d4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(fn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wD(l,t,a,o);this.mutationQueue.push(d);for(const m of o)this.Jr=this.Jr.add(new fn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(e,t){return ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Xr(a),l=o<0?0:o;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?G_:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new fn(t,0),o=new fn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([a,o],(d=>{const m=this.Zr(d.Hr);l.push(m)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new cn(tt);return t.forEach((o=>{const l=new fn(o,0),d=new fn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,d],(m=>{a=a.add(m.Hr)}))})),ce.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Oe.isDocumentKey(l)||(l=l.child(""));const d=new fn(new Oe(l),0);let m=new cn(tt);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Hr)),!0)}),d),ce.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ht(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ce.forEach(t.mutations,(o=>{const l=new fn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new fn(t,0),o=this.Jr.firstAfterOrEqual(a);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class h4{constructor(e){this.ti=e,this.docs=(function(){return new jt(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,d=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ce.resolve(a?a.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let a=fa();return t.forEach((o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():Dn.newInvalidDocument(o))})),ce.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=fa();const d=t.path,m=new Oe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:y}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Lk(zk(y),a)<=0||(o.has(y.key)||Yf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Be(9500)}ni(e,t){return ce.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new f4(this)}getSize(e){return ce.resolve(this.size)}}class f4 extends a4{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ce.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class m4{constructor(e){this.persistence=e,this.ri=new Ro((t=>Y_(t)),W_),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ii=0,this.si=new sy,this.targetCount=0,this.oi=ql._r()}forEachTarget(e,t){return this.ri.forEach(((a,o)=>t(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),ce.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.lr(t),ce.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.ri.forEach(((d,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.ri.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ce.waitFor(l).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return ce.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),ce.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((d=>{l.push(o.markPotentiallyOrphaned(e,d))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return ce.resolve(a)}containsKey(e,t){return ce.resolve(this.si.containsKey(t))}}class IA{constructor(e,t){this._i={},this.overlays={},this.ai=new Ff(0),this.ui=!1,this.ui=!0,this.ci=new u4,this.referenceDelegate=e(this),this.li=new m4(this),this.indexManager=new ZD,this.remoteDocumentCache=(function(o){return new h4(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new WD(t),this.Pi=new l4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new d4(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){xe("MemoryPersistence","Starting transaction:",e);const o=new p4(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return ce.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class p4 extends Vk{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ri=new sy,this.Ai=null}static Vi(e){return new iy(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),ce.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(a=>{const o=Oe.fromPath(a);return this.mi(e,o).next((l=>{l||t.removeEntry(o,qe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cf{constructor(e,t){this.persistence=e,this.fi=new Ro((a=>qk(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=i4(this,t)}static Vi(e,t){return new Cf(e,t)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((o=>a+o))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return ce.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((l=>l?ce.resolve():t(o)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,t).next((m=>{m||(a++,l.removeEntry(d,qe.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ce.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=of(e.data.value)),t}wr(e,t,a){return ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ce.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ay{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=o}static Es(e,t){let a=nt(),o=nt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ay(e,t.fromCache,a,o)}}class g4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HR()?8:Uk(On())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.gs(e,t).next((d=>{l.result=d})).next((()=>{if(!l.result)return this.ps(e,t,o,a).next((d=>{l.result=d}))})).next((()=>{if(l.result)return;const d=new g4;return this.ys(e,t,d).next((m=>{if(l.result=m,this.As)return this.ws(e,t,d,m.size)}))})).next((()=>l.result))}ws(e,t,a,o){return a.documentReadCount<this.Vs?(xl()<=et.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(xl()<=et.DEBUG&&xe("QueryEngine","Query:",wl(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(xl()<=et.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):ce.resolve())}gs(e,t){if(yE(t))return ce.resolve(null);let a=ji(t);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=If(t,null,"F"),a=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const d=nt(...l);return this.fs.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(t,m);return this.Ss(t,_,d,g.readTime)?this.gs(e,If(t,null,"F")):this.Ds(e,_,t,g)}))))})))))}ps(e,t,a,o){return yE(t)||o.isEqual(qe.min())?ce.resolve(null):this.fs.getDocuments(e,a).next((l=>{const d=this.bs(t,l);return this.Ss(t,d,a,o)?ce.resolve(null):(xl()<=et.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wl(t)),this.Ds(e,d,t,Mk(o,Du)).next((m=>m)))}))}bs(e,t){let a=new cn(iA(e));return t.forEach(((o,l)=>{Yf(e,l)&&(a=a.add(l))})),a}Ss(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,a){return xl()<=et.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",wl(t)),this.fs.getDocumentsMatchingQuery(e,t,cr.min(),a)}Ds(e,t,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((l=>(t.forEach((d=>{l=l.insert(d.key,d)})),l)))}}const ry="LocalStore",y4=3e8;class v4{constructor(e,t,a,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new jt(tt),this.Fs=new Ro((l=>Y_(l)),W_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function b4(s,e,t,a){return new v4(s,e,t,a)}async function RA(s,e){const t=$e(s);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((l=>{const d=[],m=[];let g=nt();for(const _ of o){d.push(_.batchId);for(const y of _.mutations)g=g.add(y.key)}for(const _ of l){m.push(_.batchId);for(const y of _.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:m})))}))}))}function E4(s,e){const t=$e(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,y){const b=_.batch,S=b.keys();let N=ce.resolve();return S.forEach((D=>{N=N.next((()=>y.getEntry(g,D))).next((P=>{const j=_.docVersions.get(D);ht(j!==null,48541),P.version.compareTo(j)<0&&(b.applyToRemoteDocument(P,_),P.isValidDocument()&&(P.setReadTime(_.commitVersion),y.addEntry(P)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(t,a,e,l).next((()=>l.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=nt();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(a,o)))}))}function NA(s){const e=$e(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function T4(s,e){const t=$e(s),a=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((y,b)=>{const S=o.get(b);if(!S)return;m.push(t.li.removeMatchingKeys(l,y.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,b))));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(xn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,a)),o=o.insert(b,N),(function(P,j,$){return P.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=y4?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,N,y)&&m.push(t.li.updateTargetData(l,N))}));let g=fa(),_=nt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),m.push(S4(l,d,e.documentUpdates).next((y=>{g=y.Bs,_=y.Ls}))),!a.isEqual(qe.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,a)));m.push(y)}return ce.waitFor(m).next((()=>d.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,_))).next((()=>g))})).then((l=>(t.vs=o,l)))}function S4(s,e,t){let a=nt(),o=nt();return t.forEach((l=>a=a.add(l))),e.getEntries(s,a).next((l=>{let d=fa();return t.forEach(((m,g)=>{const _=l.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(qe.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):xe(ry,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function A4(s,e){const t=$e(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=G_),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function x4(s,e){const t=$e(s);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return t.li.getTargetData(a,e).next((l=>l?(o=l,ce.resolve(o)):t.li.allocateTargetId(a).next((d=>(o=new nr(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=t.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function u_(s,e,t){const a=$e(s),o=a.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Yl(d))throw d;xe(ry,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function jE(s,e,t){const a=$e(s);let o=qe.min(),l=nt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,y){const b=$e(g),S=b.Fs.get(y);return S!==void 0?ce.resolve(b.vs.get(S)):b.li.getTargetData(_,y)})(a,d,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,m.targetId).next((g=>{l=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,t?o:qe.min(),t?l:nt()))).next((m=>(w4(a,uD(e),m),{documents:m,ks:l})))))}function w4(s,e,t){let a=s.Ms.get(e)||qe.min();t.forEach(((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),s.Ms.set(e,a)}class kE{constructor(){this.activeTargetIds=gD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I4{constructor(){this.vo=new kE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class R4{Mo(e){}shutdown(){}}const DE="ConnectivityMonitor";class OE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){xe(DE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){xe(DE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yh=null;function d_(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}const jg="RestConnection",N4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class C4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Af?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,t,a,o,l){const d=d_(),m=this.Qo(e,t.toUriEncodedString());xe(jg,`Sending RPC '${e}' ${d}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,l);const{host:_}=new URL(m),y=yr(_);return this.zo(e,m,g,a,y).then((b=>(xe(jg,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw yo(jg,`RPC '${e}' ${d} failed with error: `,b,"url: ",m,"request:",a),b}))}jo(e,t,a,o,l,d){return this.Wo(e,t,a,o,l)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),a&&a.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const a=N4[e];let o=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class j4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Nn="WebChannelConnection",du=(s,e,t)=>{s.listen(e,(a=>{try{t(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ol extends C4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ol.c_){const e=OS();du(e,DS.STAT_EVENT,(t=>{t.stat===Jg.PROXY?xe(Nn,"STAT_EVENT: detected buffering proxy"):t.stat===Jg.NOPROXY&&xe(Nn,"STAT_EVENT: detected no buffering proxy")})),Ol.c_=!0}}zo(e,t,a,o,l){const d=d_();return new Promise(((m,g)=>{const _=new jS;_.setWithCredentials(!0),_.listenOnce(kS.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case rf.NO_ERROR:const b=_.getResponseJson();xe(Nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),m(b);break;case rf.TIMEOUT:xe(Nn,`RPC '${e}' ${d} timed out`),g(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const S=_.getStatus();if(xe(Nn,`RPC '${e}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let N=_.getResponseJson();Array.isArray(N)&&(N=N[0]);const D=N?.error;if(D&&D.status&&D.message){const P=(function($){const q=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN})(D.status);g(new Ee(P,D.message))}else g(new Ee(re.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{xe(Nn,`RPC '${e}' ${d} completed.`)}}));const y=JSON.stringify(o);xe(Nn,`RPC '${e}' ${d} sending request:`,o),_.send(t,"POST",y,a,15)}))}T_(e,t,a){const o=d_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,a),m.encodeInitMessageHeaders=!0;const _=l.join("");xe(Nn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const y=d.createWebChannel(_,m);this.I_(y);let b=!1,S=!1;const N=new j4({Ho:D=>{S?xe(Nn,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(xe(Nn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),b=!0),xe(Nn,`RPC '${e}' stream ${o} sending:`,D),y.send(D))},Jo:()=>y.close()});return du(y,_u.EventType.OPEN,(()=>{S||(xe(Nn,`RPC '${e}' stream ${o} transport opened.`),N.i_())})),du(y,_u.EventType.CLOSE,(()=>{S||(S=!0,xe(Nn,`RPC '${e}' stream ${o} transport closed`),N.o_(),this.E_(y))})),du(y,_u.EventType.ERROR,(D=>{S||(S=!0,yo(Nn,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),N.o_(new Ee(re.UNAVAILABLE,"The operation could not be completed")))})),du(y,_u.EventType.MESSAGE,(D=>{if(!S){const P=D.data[0];ht(!!P,16349);const j=P,$=j?.error||j[0]?.error;if($){xe(Nn,`RPC '${e}' stream ${o} received error:`,$);const q=$.status;let H=(function(he){const O=tn[he];if(O!==void 0)return pA(O)})(q),z=$.message;q==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&yo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),H===void 0&&(H=re.INTERNAL,z="Unknown error status: "+q+" with message "+$.message),S=!0,N.o_(new Ee(H,z)),y.close()}else xe(Nn,`RPC '${e}' stream ${o} received:`,P),N.__(P)}})),Ol.u_(),setTimeout((()=>{N.s_()}),0),N}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return MS()}}function k4(s){return new Ol(s)}function kg(){return typeof document<"u"?document:null}function Jf(s){return new zD(s,!0)}Ol.c_=!1;class CA{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ME="PersistentStream";class jA{constructor(e,t,a,o,l,d,m,g){this.Ci=e,this.b_=a,this.S_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ha(t.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===t&&this.G_(a,o)}),(a=>{e((()=>{const o=new Ee(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(xe(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D4 extends jA{constructor(e,t,a,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,d),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VD(this.serializer,e),a=(function(l){if(!("targetChange"in l))return qe.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?qe.min():d.readTime?ki(d.readTime):qe.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=c_(this.serializer),t.addTarget=(function(l,d){let m;const g=d.target;if(m=i_(g)?{documents:qD(l,g)}:{query:HD(l,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=yA(l,d.resumeToken);const _=r_(l,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(qe.min())>0){m.readTime=Nf(l,d.snapshotVersion.toTimestamp());const _=r_(l,d.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const a=FD(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=c_(this.serializer),t.removeTarget=e,this.K_(t)}}class O4 extends jA{constructor(e,t,a,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,d),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=BD(e.writeResults,e.commitTime),a=ki(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=c_(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>UD(this.serializer,a)))};this.K_(t)}}class M4{}class z4 extends M4{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Wo(e,o_(t,a),o,l,d))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(re.UNKNOWN,l.toString())}))}jo(e,t,a,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.jo(e,o_(t,a),o,d,m,l))).catch((d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ee(re.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function L4(s,e,t,a){return new z4(s,e,t,a)}class P4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class V4{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{No(this)&&(xe(vo,"Restarting streams for network reachability change."),await(async function(g){const _=$e(g);_.Ea.add(4),await id(_),_.Va.set("Unknown"),_.Ea.delete(4),await em(_)})(this))}))})),this.Va=new P4(a,o)}}async function em(s){if(No(s))for(const e of s.Ra)await e(!0)}async function id(s){for(const e of s.Ra)await e(!1)}function kA(s,e){const t=$e(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),uy(t)?cy(t):Xl(t).O_()&&ly(t,e))}function oy(s,e){const t=$e(s),a=Xl(t);t.Ia.delete(e),a.O_()&&DA(t,e),t.Ia.size===0&&(a.O_()?a.L_():No(t)&&t.Va.set("Unknown"))}function ly(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xl(s).Z_(e)}function DA(s,e){s.da.$e(e),Xl(s).X_(e)}function cy(s){s.da=new kD({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Xl(s).start(),s.Va.ua()}function uy(s){return No(s)&&!Xl(s).x_()&&s.Ia.size>0}function No(s){return $e(s).Ea.size===0}function OA(s){s.da=void 0}async function U4(s){s.Va.set("Online")}async function B4(s){s.Ia.forEach(((e,t)=>{ly(s,e)}))}async function q4(s,e){OA(s),uy(s)?(s.Va.ha(e),cy(s)):s.Va.set("Unknown")}async function H4(s,e,t){if(s.Va.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await(async function(o,l){const d=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(a){xe(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jf(s,a)}else if(e instanceof uf?s.da.Xe(e):e instanceof gA?s.da.st(e):s.da.tt(e),!t.isEqual(qe.min()))try{const a=await NA(s.localStore);t.compareTo(a)>=0&&await(function(l,d){const m=l.da.Tt(d);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(_);y&&l.Ia.set(_,y.withResumeToken(g.resumeToken,d))}})),m.targetMismatches.forEach(((g,_)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(xn.EMPTY_BYTE_STRING,y.snapshotVersion)),DA(l,g);const b=new nr(y.target,g,_,y.sequenceNumber);ly(l,b)})),l.remoteSyncer.applyRemoteEvent(m)})(s,t)}catch(a){xe(vo,"Failed to raise snapshot:",a),await jf(s,a)}}async function jf(s,e,t){if(!Yl(e))throw e;s.Ea.add(1),await id(s),s.Va.set("Offline"),t||(t=()=>NA(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{xe(vo,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await em(s)}))}function MA(s,e){return e().catch((t=>jf(s,t,e)))}async function tm(s){const e=$e(s),t=fr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:G_;for(;$4(e);)try{const o=await A4(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,F4(e,o)}catch(o){await jf(e,o)}zA(e)&&LA(e)}function $4(s){return No(s)&&s.Ta.length<10}function F4(s,e){s.Ta.push(e);const t=fr(s);t.O_()&&t.Y_&&t.ea(e.mutations)}function zA(s){return No(s)&&!fr(s).x_()&&s.Ta.length>0}function LA(s){fr(s).start()}async function G4(s){fr(s).ra()}async function Q4(s){const e=fr(s);for(const t of s.Ta)e.ea(t.mutations)}async function K4(s,e,t){const a=s.Ta.shift(),o=ey.from(a,e,t);await MA(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await tm(s)}async function Y4(s,e){e&&fr(s).Y_&&await(async function(a,o){if((function(d){return ND(d)&&d!==re.ABORTED})(o.code)){const l=a.Ta.shift();fr(a).B_(),await MA(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o))),await tm(a)}})(s,e),zA(s)&&LA(s)}async function zE(s,e){const t=$e(s);t.asyncQueue.verifyOperationInProgress(),xe(vo,"RemoteStore received new credentials");const a=No(t);t.Ea.add(3),await id(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await em(t)}async function W4(s,e){const t=$e(s);e?(t.Ea.delete(2),await em(t)):e||(t.Ea.add(2),await id(t),t.Va.set("Unknown"))}function Xl(s){return s.ma||(s.ma=(function(t,a,o){const l=$e(t);return l.sa(),new D4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(s.datastore,s.asyncQueue,{Zo:U4.bind(null,s),Yo:B4.bind(null,s),t_:q4.bind(null,s),J_:H4.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),uy(s)?cy(s):s.Va.set("Unknown")):(await s.ma.stop(),OA(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(t,a,o){const l=$e(t);return l.sa(),new O4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:G4.bind(null,s),t_:Y4.bind(null,s),ta:Q4.bind(null,s),na:K4.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await tm(s)):(await s.fa.stop(),s.Ta.length>0&&(xe(vo,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dy{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const d=Date.now()+a,m=new dy(e,t,d,o,l);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(s,e){if(ha("AsyncQueue",`${e}: ${s}`),Yl(s))return new Ee(re.UNAVAILABLE,`${e}: ${s}`);throw s}class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Oe.comparator(t.key,a.key):(t,a)=>Oe.comparator(t.key,a.key),this.keyedMap=yu(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Ml;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class LE{constructor(){this.ga=new jt(Oe.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Hl{constructor(e,t,a,o,l,d,m,g,_){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,a,o,l){const d=[];return t.forEach((m=>{d.push({type:0,doc:m})})),new Hl(e,t,Ml.emptySet(t),d,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}class X4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Z4{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=$e(t),l=o.queries;o.queries=PE(),l.forEach(((d,m)=>{for(const g of m.ba)g.onError(a)}))})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function PE(){return new Ro((s=>sA(s)),Kf)}async function PA(s,e){const t=$e(s);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(a=2):(l=new X4,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=hy(d,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&fy(t)}async function VA(s,e){const t=$e(s),a=e.query;let o=3;const l=t.queries.get(a);if(l){const d=l.ba.indexOf(e);d>=0&&(l.ba.splice(d,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function J4(s,e){const t=$e(s);let a=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const m of d.ba)m.Fa(o)&&(a=!0);d.wa=o}}a&&fy(t)}function e3(s,e,t){const a=$e(s),o=a.queries.get(e);if(o)for(const l of o.ba)l.onError(t);a.queries.delete(e)}function fy(s){s.Ca.forEach((e=>{e.next()}))}var h_,VE;(VE=h_||(h_={})).Ma="default",VE.Cache="cache";class UA{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Hl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h_.Cache}}class BA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class t3{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.eu=iA(e),this.tu=new Ml(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new LE,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,b)=>{const S=o.get(y),N=Yf(this.query,b)?b:null,D=!!S&&this.mutatedKeys.has(S.key),P=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;S&&N?S.data.isEqual(N.data)?D!==P&&(a.track({type:3,doc:N}),j=!0):this.su(S,N)||(a.track({type:2,doc:N}),j=!0,(g&&this.eu(N,g)>0||_&&this.eu(N,_)<0)&&(m=!0)):!S&&N?(a.track({type:0,doc:N}),j=!0):S&&!N&&(a.track({type:1,doc:S}),j=!0,(g||_)&&(m=!0)),j&&(N?(d=d.add(N),l=P?l.add(y):l.delete(y)):(d=d.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const y=this.query.limitType==="F"?d.last():d.first();d=d.delete(y.key),l=l.delete(y.key),a.track({type:1,doc:y})}return{tu:d,iu:a,Ss:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((y,b)=>(function(N,D){const P=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:j})}};return P(N)-P(D)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(a),o=o??!1;const m=t&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new Hl(this.query,e.tu,l,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new qA(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new BA(a))})),t}cu(e){this.Za=e.ks,this.Ya=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const my="SyncEngine";class n3{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class s3{constructor(e){this.key=e,this.hu=!1}}class i3{constructor(e,t,a,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ro((m=>sA(m)),Kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(Oe.comparator),this.Au=new Map,this.Vu=new sy,this.du={},this.mu=new Map,this.fu=ql.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a3(s,e,t=!0){const a=KA(s);let o;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await HA(a,e,t,!0),o}async function r3(s,e){const t=KA(s);await HA(t,e,!0,!1)}async function HA(s,e,t,a){const o=await x4(s.localStore,ji(e)),l=o.targetId,d=s.sharedClientState.addLocalQueryTarget(l,t);let m;return a&&(m=await o3(s,e,l,d==="current",o.resumeToken)),s.isPrimaryClient&&t&&kA(s.remoteStore,o),m}async function o3(s,e,t,a,o){s.pu=(b,S,N)=>(async function(P,j,$,q){let H=j.view.ru($);H.Ss&&(H=await jE(P.localStore,j.query,!1).then((({documents:O})=>j.view.ru(O,H))));const z=q&&q.targetChanges.get(j.targetId),ie=q&&q.targetMismatches.get(j.targetId)!=null,he=j.view.applyChanges(H,P.isPrimaryClient,z,ie);return BE(P,j.targetId,he.au),he.snapshot})(s,b,S,N);const l=await jE(s.localStore,e,!0),d=new t3(e,l.ks),m=d.ru(l.documents),g=sd.createSynthesizedTargetChangeForCurrentChange(t,a&&s.onlineState!=="Offline",o),_=d.applyChanges(m,s.isPrimaryClient,g);BE(s,t,_.au);const y=new n3(e,t,d);return s.Tu.set(e,y),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),_.snapshot}async function l3(s,e,t){const a=$e(s),o=a.Tu.get(e),l=a.Iu.get(o.targetId);if(l.length>1)return a.Iu.set(o.targetId,l.filter((d=>!Kf(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await u_(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),t&&oy(a.remoteStore,o.targetId),f_(a,o.targetId)})).catch(Kl)):(f_(a,o.targetId),await u_(a.localStore,o.targetId,!0))}async function c3(s,e){const t=$e(s),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),oy(t.remoteStore,a.targetId))}async function u3(s,e,t){const a=_3(s);try{const o=await(function(d,m){const g=$e(d),_=dt.now(),y=m.reduce(((N,D)=>N.add(D.key)),nt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let D=fa(),P=nt();return g.xs.getEntries(N,y).next((j=>{D=j,D.forEach((($,q)=>{q.isValidDocument()||(P=P.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,D))).next((j=>{b=j;const $=[];for(const q of m){const H=AD(q,b.get(q.key).overlayedDocument);H!=null&&$.push(new Tr(q.key,H,YS(H.value.mapValue),Ds.exists(!0)))}return g.mutationQueue.addMutationBatch(N,_,$,m)})).next((j=>{S=j;const $=j.applyToLocalDocumentSet(b,P);return g.documentOverlayCache.saveOverlays(N,j.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:rA(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,m,g){let _=d.du[d.currentUser.toKey()];_||(_=new jt(tt)),_=_.insert(m,g),d.du[d.currentUser.toKey()]=_})(a,o.batchId,t),await ad(a,o.changes),await tm(a.remoteStore)}catch(o){const l=hy(o,"Failed to persist write");t.reject(l)}}async function $A(s,e){const t=$e(s);try{const a=await T4(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const d=t.Au.get(l);d&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ht(d.hu,14607):o.removedDocuments.size>0&&(ht(d.hu,42227),d.hu=!1))})),await ad(t,a,e)}catch(a){await Kl(a)}}function UE(s,e,t){const a=$e(s);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach(((l,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const g=$e(d);g.onlineState=m;let _=!1;g.queries.forEach(((y,b)=>{for(const S of b.ba)S.va(m)&&(_=!0)})),_&&fy(g)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function d3(s,e,t){const a=$e(s);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),l=o&&o.key;if(l){let d=new jt(Oe.comparator);d=d.insert(l,Dn.newNoDocument(l,qe.min()));const m=nt().add(l),g=new Zf(qe.min(),new Map,new jt(tt),d,m);await $A(a,g),a.Ru=a.Ru.remove(l),a.Au.delete(e),py(a)}else await u_(a.localStore,e,!1).then((()=>f_(a,e,t))).catch(Kl)}async function h3(s,e){const t=$e(s),a=e.batch.batchId;try{const o=await E4(t.localStore,e);GA(t,a,null),FA(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await ad(t,o)}catch(o){await Kl(o)}}async function f3(s,e,t){const a=$e(s);try{const o=await(function(d,m){const g=$e(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let y;return g.mutationQueue.lookupMutationBatch(_,m).next((b=>(ht(b!==null,37113),y=b.keys(),g.mutationQueue.removeMutationBatch(_,b)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,y,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,y))).next((()=>g.localDocuments.getDocuments(_,y)))}))})(a.localStore,e);GA(a,e,t),FA(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await ad(a,o)}catch(o){await Kl(o)}}function FA(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function GA(s,e,t){const a=$e(s);let o=a.du[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function f_(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),t&&s.Pu.yu(a,t);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||QA(s,a)}))}function QA(s,e){s.Eu.delete(e.path.canonicalString());const t=s.Ru.get(e);t!==null&&(oy(s.remoteStore,t),s.Ru=s.Ru.remove(e),s.Au.delete(t),py(s))}function BE(s,e,t){for(const a of t)a instanceof BA?(s.Vu.addReference(a.key,e),m3(s,a)):a instanceof qA?(xe(my,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||QA(s,a.key)):Be(19791,{wu:a})}function m3(s,e){const t=e.key,a=t.path.canonicalString();s.Ru.get(t)||s.Eu.has(a)||(xe(my,"New document in limbo: "+t),s.Eu.add(a),py(s))}function py(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new Oe(Tt.fromString(e)),a=s.fu.next();s.Au.set(a,new s3(t)),s.Ru=s.Ru.insert(t,a),kA(s.remoteStore,new nr(ji(X_(t.path)),a,"TargetPurposeLimboResolution",Ff.ce))}}async function ad(s,e,t){const a=$e(s),o=[],l=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{d.push(a.pu(g,e,t).then((_=>{if((_||t)&&a.isPrimaryClient){const y=_?!_.fromCache:t?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(_){o.push(_);const y=ay.Es(g.targetId,_);l.push(y)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(g,_){const y=$e(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ce.forEach(_,(S=>ce.forEach(S.Ts,(N=>y.persistence.referenceDelegate.addReference(b,S.targetId,N))).next((()=>ce.forEach(S.Is,(N=>y.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))))))}catch(b){if(!Yl(b))throw b;xe(ry,"Failed to update sequence numbers: "+b)}for(const b of _){const S=b.targetId;if(!b.fromCache){const N=y.vs.get(S),D=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(S,P)}}})(a.localStore,l))}async function p3(s,e){const t=$e(s);if(!t.currentUser.isEqual(e)){xe(my,"User change. New user:",e.toKey());const a=await RA(t.localStore,e);t.currentUser=e,(function(l,d){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new Ee(re.CANCELLED,d))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ad(t,a.Ns)}}function g3(s,e){const t=$e(s),a=t.Au.get(e);if(a&&a.hu)return nt().add(a.key);{let o=nt();const l=t.Iu.get(e);if(!l)return o;for(const d of l){const m=t.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function KA(s){const e=$e(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3.bind(null,e),e.Pu.J_=J4.bind(null,e.eventManager),e.Pu.yu=e3.bind(null,e.eventManager),e}function _3(s){const e=$e(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f3.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return b4(this.persistence,new _4,e.initialUser,this.serializer)}Cu(e){return new IA(iy.Vi,this.serializer)}Du(e){return new I4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class y3 extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof Cf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new n4(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new IA((a=>Cf.Vi(a,t)),this.serializer)}}class m_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>UE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=p3.bind(null,this.syncEngine),await W4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z4})()}createDatastore(e){const t=Jf(e.databaseInfo.databaseId),a=k4(e.databaseInfo);return L4(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,o,l,d,m){return new V4(a,o,l,d,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>UE(this.syncEngine,t,0)),(function(){return OE.v()?new OE:new R4})())}createSyncEngine(e,t){return(function(o,l,d,m,g,_,y){const b=new i3(o,l,d,m,g,_);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=$e(t);xe(vo,"RemoteStore shutting down."),a.Ea.add(5),await id(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}m_.provider={build:()=>new m_};class YA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const mr="FirestoreClient";class v3{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=o,this.user=kn.UNAUTHENTICATED,this.clientId=F_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async d=>{xe(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(xe(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=hy(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Dg(s,e){s.asyncQueue.verifyOperationInProgress(),xe(mr,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await RA(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function qE(s,e){s.asyncQueue.verifyOperationInProgress();const t=await b3(s);xe(mr,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((a=>zE(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>zE(e.remoteStore,o))),s._onlineComponents=e}async function b3(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){xe(mr,"Using user provided OfflineComponentProvider");try{await Dg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),await Dg(s,new kf)}}else xe(mr,"Using default OfflineComponentProvider"),await Dg(s,new y3(void 0));return s._offlineComponents}async function WA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(xe(mr,"Using user provided OnlineComponentProvider"),await qE(s,s._uninitializedComponentsProvider._online)):(xe(mr,"Using default OnlineComponentProvider"),await qE(s,new m_))),s._onlineComponents}function E3(s){return WA(s).then((e=>e.syncEngine))}async function XA(s){const e=await WA(s),t=e.eventManager;return t.onListen=a3.bind(null,e.syncEngine),t.onUnlisten=l3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c3.bind(null,e.syncEngine),t}function T3(s,e,t={}){const a=new la;return s.asyncQueue.enqueueAndForget((async()=>(function(l,d,m,g,_){const y=new YA({next:S=>{y.Nu(),d.enqueueAndForget((()=>VA(l,b)));const N=S.docs.has(m);!N&&S.fromCache?_.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&g&&g.source==="server"?_.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),b=new UA(X_(m.path),y,{includeMetadataChanges:!0,Ka:!0});return PA(l,b)})(await XA(s),s.asyncQueue,e,t,a))),a.promise}function S3(s,e,t={}){const a=new la;return s.asyncQueue.enqueueAndForget((async()=>(function(l,d,m,g,_){const y=new YA({next:S=>{y.Nu(),d.enqueueAndForget((()=>VA(l,b))),S.fromCache&&g.source==="server"?_.reject(new Ee(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),b=new UA(m,y,{includeMetadataChanges:!0,Ka:!0});return PA(l,b)})(await XA(s),s.asyncQueue,e,t,a))),a.promise}function A3(s,e){const t=new la;return s.asyncQueue.enqueueAndForget((async()=>u3(await E3(s),e,t))),t.promise}function ZA(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const x3="ComponentProvider",HE=new Map;function w3(s,e,t,a,o){return new Fk(s,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ZA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const JA="firestore.googleapis.com",$E=!0;class FE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JA,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e4)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Sk;switch(a.type){case"firstParty":return new Ik(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=HE.get(t);a&&(xe(x3,"Removing Datastore"),HE.delete(t),a.terminate())})(this),Promise.resolve()}}function I3(s,e,t,a={}){s=Js(s,nm);const o=yr(e),l=s._getSettings(),d={...l,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${t}`;o&&(j_(`https://${m}`),k_("Firestore",!0)),l.host!==JA&&l.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:o,emulatorOptions:a};if(!fo(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,y;if(typeof a.mockUserToken=="string")_=a.mockUserToken,y=kn.MOCK_USER;else{_=$T(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new kn(b)}s._authCredentials=new Ak(new LS(_,y))}}class Sr{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class Ht{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(td(t,Ht._jsonSchema))return new Ht(e,a||null,new Oe(Tt.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:sn("string",Ht._jsonSchemaVersion),referencePath:sn("string")};class or extends Sr{constructor(e,t,a){super(e,t,X_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Oe(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function ti(s,e,...t){if(s=Ct(s),PS("collection","path",e),s instanceof nm){const a=Tt.fromString(e,...t);return iE(a),new or(s,null,a)}{if(!(s instanceof Ht||s instanceof or))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Tt.fromString(e,...t));return iE(a),new or(s.firestore,null,a)}}function zn(s,e,...t){if(s=Ct(s),arguments.length===1&&(e=F_.newId()),PS("doc","path",e),s instanceof nm){const a=Tt.fromString(e,...t);return sE(a),new Ht(s,null,new Oe(a))}{if(!(s instanceof Ht||s instanceof or))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Tt.fromString(e,...t));return sE(a),new Ht(s.firestore,s instanceof or?s.converter:null,new Oe(a))}}const GE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CA(this,"async_queue_retry"),this._c=()=>{const a=kg();a&&xe(GE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;xe(GE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",KE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=dy.createAndSchedule(this,e,t,a,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Be(47125,{Pc:KE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function KE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Co extends nm{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new QE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function R3(s,e){const t=typeof s=="object"?s:M_(),a=typeof s=="string"?s:Af,o=Uf(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=BT("firestore");l&&I3(o,...l)}return o}function gy(s){if(s._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||N3(s),s._firestoreClient}function N3(s){const e=s._freezeSettings(),t=w3(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new v3(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(s._componentsProvider))}class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(xn.fromBase64String(e))}catch(t){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ks(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(td(e,ks._jsonSchema))return ks.fromBase64String(e.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:sn("string",ks._jsonSchemaVersion),bytes:sn("string")};class _y{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sm{constructor(e){this._methodName=e}}class Di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(td(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:sn("string",Di._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};class Ys{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(td(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ys(e.vectorValues);throw new Ee(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:sn("string",Ys._jsonSchemaVersion),vectorValues:sn("object")};const C3=/^__.*__$/;class j3{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new nd(e,this.data,t,this.fieldTransforms)}}class ex{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tx(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:s})}}class yy{constructor(e,t,a,o,l,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const t=this.path?.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Df(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(tx(this.dataSource)&&C3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class k3{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Jf(e)}createContext(e,t,a,o=!1){return new yy({dataSource:e,methodName:t,targetDoc:a,path:An.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(s){const e=s._freezeSettings(),t=Jf(s._databaseId);return new k3(s._databaseId,!!e.ignoreUndefinedProperties,t)}function nx(s,e,t,a,o,l={}){const d=s.createContext(l.merge||l.mergeFields?2:0,e,t,o);by("Data must be an object, but it was:",d,a);const m=sx(a,d);let g,_;if(l.merge)g=new hs(d.fieldMask),_=d.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const S=bo(e,b,t);if(!d.contains(S))throw new Ee(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rx(y,S)||y.push(S)}g=new hs(y),_=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,_=d.fieldTransforms;return new j3(new Zn(m),g,_)}class am extends sm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}class vy extends sm{_toFieldTransform(e){return new bD(e.path,new Pu)}isEqual(e){return e instanceof vy}}function D3(s,e,t,a){const o=s.createContext(1,e,t);by("Data must be an object, but it was:",o,a);const l=[],d=Zn.empty();Er(a,((g,_)=>{const y=ax(e,g,t);_=Ct(_);const b=o.childContextForFieldPath(y);if(_ instanceof am)l.push(y);else{const S=rd(_,b);S!=null&&(l.push(y),d.set(y,S))}}));const m=new hs(l);return new ex(d,m,o.fieldTransforms)}function O3(s,e,t,a,o,l){const d=s.createContext(1,e,t),m=[bo(e,a,t)],g=[o];if(l.length%2!=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)m.push(bo(e,l[S])),g.push(l[S+1]);const _=[],y=Zn.empty();for(let S=m.length-1;S>=0;--S)if(!rx(_,m[S])){const N=m[S];let D=g[S];D=Ct(D);const P=d.childContextForFieldPath(N);if(D instanceof am)_.push(N);else{const j=rd(D,P);j!=null&&(_.push(N),y.set(N,j))}}const b=new hs(_);return new ex(y,b,d.fieldTransforms)}function M3(s,e,t,a=!1){return rd(t,s.createContext(a?4:3,e))}function rd(s,e){if(ix(s=Ct(s)))return by("Unsupported field value:",e,s),sx(s,e);if(s instanceof sm)return(function(a,o){if(!tx(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const l=[];let d=0;for(const m of a){let g=rd(m,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),d++}return{arrayValue:{values:l}}})(s,e)}return(function(a,o){if((a=Ct(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _D(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=dt.fromDate(a);return{timestampValue:Nf(o.serializer,l)}}if(a instanceof dt){const l=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Nf(o.serializer,l)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ks)return{bytesValue:yA(o.serializer,a._byteString)};if(a instanceof Ht){const l=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(l))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ny(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ys)return(function(d,m){const g=d instanceof Ys?d.toArray():d;return{mapValue:{fields:{[QS]:{stringValue:KS},[xf]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw m.createError("VectorValues must only contain numeric values.");return Z_(m.serializer,y)}))}}}}}})(a,o);if(xA(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${$f(a)}`)})(s,e)}function sx(s,e){const t={};return BS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((a,o)=>{const l=rd(o,e.childContextForField(a));l!=null&&(t[a]=l)})),{mapValue:{fields:t}}}function ix(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Di||s instanceof ks||s instanceof Ht||s instanceof sm||s instanceof Ys||xA(s))}function by(s,e,t){if(!ix(t)||!VS(t)){const a=$f(t);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function bo(s,e,t){if((e=Ct(e))instanceof _y)return e._internalPath;if(typeof e=="string")return ax(s,e);throw Df("Field path arguments must be of type string or ",s,!1,void 0,t)}const z3=new RegExp("[~\\*/\\[\\]]");function ax(s,e,t){if(e.search(z3)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new _y(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Df(s,e,t,a,o){const l=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||d)&&(g+=" (found",l&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new Ee(re.INVALID_ARGUMENT,m+s+g)}function rx(s,e){return s.some((t=>t.isEqual(e)))}class L3{convertValue(e,t="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Er(e,((o,l)=>{a[o]=this.convertValue(l,t)})),a}convertVectorValue(e){const t=e.fields?.[xf].arrayValue?.values?.map((a=>qt(a.doubleValue)));return new Ys(t)}convertGeoPoint(e){return new Di(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Qf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const t=ur(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Tt.fromString(e);ht(AA(a),9688,{name:e});const o=new Mu(a.get(1),a.get(3)),l=new Oe(a.popFirst(5));return o.isEqual(t)||ha(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class ox extends L3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function ps(){return new vy("serverTimestamp")}const YE="@firebase/firestore",WE="4.11.0";class lx{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(bo("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class P3 extends lx{data(){return super.data()}}function V3(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ee(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ey{}class Ty extends Ey{}function jo(s,e,...t){let a=[];e instanceof Ey&&a.push(e),a=a.concat(t),(function(l){const d=l.filter((g=>g instanceof Sy)).length,m=l.filter((g=>g instanceof rm)).length;if(d>1||d>0&&m>0)throw new Ee(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class rm extends Ty{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new rm(e,t,a)}_apply(e){const t=this._parse(e);return ux(e._query,t),new Sr(e.firestore,e.converter,a_(e._query,t))}_parse(e){const t=im(e.firestore);return(function(l,d,m,g,_,y,b){let S;if(_.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ZE(b,y);const D=[];for(const P of b)D.push(XE(g,l,P));S={arrayValue:{values:D}}}else S=XE(g,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ZE(b,y),S=M3(m,d,b,y==="in"||y==="not-in");return nn.create(_,y,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pr(s,e,t){const a=e,o=bo("where",s);return rm._create(o,a,t)}class Sy extends Ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sy(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let d=o;const m=l.getFlattenedFilters();for(const g of m)ux(d,g),d=a_(d,g)})(e._query,t),new Sr(e.firestore,e.converter,a_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends Ty{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ay(e,t)}_apply(e){const t=(function(o,l,d){if(o.startAt!==null)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(l,d)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,cD(e._query,t))}}function cx(s,e="asc"){const t=e,a=bo("orderBy",s);return Ay._create(a,t)}class xy extends Ty{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new xy(e,t,a)}_apply(e){return new Sr(e.firestore,e.converter,If(e._query,this._limit,this._limitType))}}function U3(s){return Ok("limit",s),xy._create("limit",s,"F")}function XE(s,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new Ee(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nA(e)&&t.indexOf("/")!==-1)throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Tt.fromString(t));if(!Oe.isDocumentKey(a))throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hE(s,new Oe(a))}if(t instanceof Ht)return hE(s,t._key);throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(t)}.`)}function ZE(s,e){if(!Array.isArray(s)||s.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ux(s,e){const t=(function(o,l){for(const d of o)for(const m of d.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ee(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function dx(s,e,t){let a;return a=s?s.toFirestore(e):e,a}class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends lx{constructor(e,t,a,o,l,d){super(e,t,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(bo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=co._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:sn("string",co._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class df extends co{data(e={}){return super.data(e)}}class zl{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new df(this._firestore,this._userDataWriter,a.key,a,new bu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const g=new df(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new df(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,y=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),y=d.indexOf(m.doc.key)),{type:B3(m.type),doc:g,oldIndex:_,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=F_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function B3(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:s})}}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:sn("string",zl._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};function ko(s){s=Js(s,Ht);const e=Js(s.firestore,Co),t=gy(e);return T3(t,s._key).then((a=>q3(e,s,a)))}function Do(s){s=Js(s,Sr);const e=Js(s.firestore,Co),t=gy(e),a=new ox(e);return V3(s._query),S3(t,s._query).then((o=>new zl(e,a,s,o)))}function hx(s,e,t){s=Js(s,Ht);const a=Js(s.firestore,Co),o=dx(s.converter,e),l=im(a);return lm(a,[nx(l,"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,Ds.none())])}function od(s,e,t,...a){s=Js(s,Ht);const o=Js(s.firestore,Co),l=im(o);let d;return d=typeof(e=Ct(e))=="string"||e instanceof _y?O3(l,"updateDoc",s._key,e,t,a):D3(l,"updateDoc",s._key,e),lm(o,[d.toMutation(s._key,Ds.exists(!0))])}function fx(s){return lm(Js(s.firestore,Co),[new J_(s._key,Ds.none())])}function om(s,e){const t=Js(s.firestore,Co),a=zn(s),o=dx(s.converter,e),l=im(s.firestore);return lm(t,[nx(l,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Ds.exists(!1))]).then((()=>a))}function lm(s,e){const t=gy(s);return A3(t,e)}function q3(s,e,t){const a=t.docs.get(e._key),o=new ox(s);return new co(s,o,e._key,a,new bu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){Tk(wo),mo(new lr("firestore",((a,{instanceIdentifier:o,options:l})=>{const d=a.getProvider("app").getImmediate(),m=new Co(new xk(a.getProvider("auth-internal")),new Rk(d,a.getProvider("app-check-internal")),Gk(d,o),d);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Ri(YE,WE,e),Ri(YE,WE,"esm2020")})();var H3="firebase",$3="12.9.0";Ri(H3,$3,"app");const mx="firebasestorage.googleapis.com",px="storageBucket",F3=120*1e3,G3=600*1e3,Q3=1e3;class kt extends Li{constructor(e,t,a=0){super(Og(e),`Firebase Storage: ${t} (${Og(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Og(s){return"storage/"+s}function wy(){const s="An unknown error occurred, please check the error payload for server response.";return new kt(wt.UNKNOWN,s)}function K3(s){return new kt(wt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function Y3(s){return new kt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W3(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(wt.UNAUTHENTICATED,s)}function X3(){return new kt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z3(s){return new kt(wt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function gx(){return new kt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _x(){return new kt(wt.CANCELED,"User canceled the upload/download.")}function J3(s){return new kt(wt.INVALID_URL,"Invalid URL '"+s+"'.")}function eO(s){return new kt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function tO(){return new kt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+px+"' property when initializing the app?")}function yx(){return new kt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nO(){return new kt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function sO(){return new kt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iO(s){return new kt(wt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function p_(s){return new kt(wt.INVALID_ARGUMENT,s)}function vx(){return new kt(wt.APP_DELETED,"The Firebase app was deleted.")}function aO(s){return new kt(wt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Iu(s,e){return new kt(wt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function hu(s){throw new kt(wt.INTERNAL_ERROR,"Internal error: "+s)}class Bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=Bn.makeFromUrl(e,t)}catch{return new Bn(e,"")}if(a.path==="")return a;throw eO(e)}static makeFromUrl(e,t){let a=null;const o="([A-Za-z0-9.\\-_]+)";function l(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function _(z){z.path_=decodeURIComponent(z.path)}const y="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${y}/b/${o}/o${S}`,"i"),D={bucket:1,path:3},P=t===mx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",$=new RegExp(`^https?://${P}/${o}/${j}`,"i"),H=[{regex:m,indices:g,postModify:l},{regex:N,indices:D,postModify:_},{regex:$,indices:{bucket:1,path:2},postModify:_}];for(let z=0;z<H.length;z++){const ie=H[z],he=ie.regex.exec(e);if(he){const O=he[ie.indices.bucket];let I=he[ie.indices.path];I||(I=""),a=new Bn(O,I),ie.postModify(a);break}}if(a==null)throw J3(e);return a}}class rO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oO(s,e,t){let a=1,o=null,l=null,d=!1,m=0;function g(){return m===2}let _=!1;function y(...j){_||(_=!0,e.apply(null,j))}function b(j){o=setTimeout(()=>{o=null,s(N,g())},j)}function S(){l&&clearTimeout(l)}function N(j,...$){if(_){S();return}if(j){S(),y.call(null,j,...$);return}if(g()||d){S(),y.call(null,j,...$);return}a<64&&(a*=2);let H;m===1?(m=2,H=0):H=(a+Math.random())*1e3,b(H)}let D=!1;function P(j){D||(D=!0,S(),!_&&(o!==null?(j||(m=2),clearTimeout(o),b(0)):j||(m=1)))}return b(0),l=setTimeout(()=>{d=!0,P(!0)},t),P}function lO(s){s(!1)}function cO(s){return s!==void 0}function uO(s){return typeof s=="function"}function dO(s){return typeof s=="object"&&!Array.isArray(s)}function cm(s){return typeof s=="string"||s instanceof String}function JE(s){return Iy()&&s instanceof Blob}function Iy(){return typeof Blob<"u"}function g_(s,e,t,a){if(a<e)throw p_(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>t)throw p_(`Invalid value for '${s}'. Expected ${t} or less.`)}function Oo(s,e,t){let a=e;return t==null&&(a=`https://${e}`),`${t}://${a}/v0${s}`}function bx(s){const e=encodeURIComponent;let t="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);t=t+o+"&"}return t=t.slice(0,-1),t}var uo;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(uo||(uo={}));function Ex(s,e){const t=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,l=e.indexOf(s)!==-1;return t||o||l}class hO{constructor(e,t,a,o,l,d,m,g,_,y,b,S=!0,N=!1){this.url_=e,this.method_=t,this.headers_=a,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=y,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,P)=>{this.resolve_=D,this.reject_=P,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Wh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const d=m=>{const g=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const m=l.getErrorCode()===uo.NO_ERROR,g=l.getStatus();if(!m||Ex(g,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===uo.ABORT;a(!1,new Wh(!1,null,y));return}const _=this.successCodes_.indexOf(g)!==-1;a(!0,new Wh(_,l))})},t=(a,o)=>{const l=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());cO(g)?l(g):l()}catch(g){d(g)}else if(m!==null){const g=wy();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?vx():_x();d(g)}else{const g=gx();d(g)}};this.canceled_?t(!1,new Wh(!1,null,!0)):this.backoffId_=oO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wh{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function fO(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function mO(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pO(s,e){e&&(s["X-Firebase-GMPID"]=e)}function gO(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function _O(s,e,t,a,o,l,d=!0,m=!1){const g=bx(s.urlParams),_=s.url+g,y=Object.assign({},s.headers);return pO(y,e),fO(y,t),mO(y,l),gO(y,a),new hO(_,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,m)}function yO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vO(...s){const e=yO();if(e!==void 0){const t=new e;for(let a=0;a<s.length;a++)t.append(s[a]);return t.getBlob()}else{if(Iy())return new Blob(s);throw new kt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bO(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}function EO(s){if(typeof atob>"u")throw iO("base-64");return atob(s)}const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mg{constructor(e,t){this.data=e,this.contentType=t||null}}function TO(s,e){switch(s){case Ii.RAW:return new Mg(Tx(e));case Ii.BASE64:case Ii.BASE64URL:return new Mg(Sx(s,e));case Ii.DATA_URL:return new Mg(AO(e),xO(e))}throw wy()}function Tx(s){const e=[];for(let t=0;t<s.length;t++){let a=s.charCodeAt(t);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=a,d=s.charCodeAt(++t);a=65536|(l&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function SO(s){let e;try{e=decodeURIComponent(s)}catch{throw Iu(Ii.DATA_URL,"Malformed data URL.")}return Tx(e)}function Sx(s,e){switch(s){case Ii.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Iu(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Iu(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=EO(e)}catch(o){throw o.message.includes("polyfill")?o:Iu(s,"Invalid character found")}const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}class Ax{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Iu(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=t[1]||null;a!=null&&(this.base64=wO(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function AO(s){const e=new Ax(s);return e.base64?Sx(Ii.BASE64,e.rest):SO(e.rest)}function xO(s){return new Ax(s).contentType}function wO(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}class er{constructor(e,t){let a=0,o="";JE(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(JE(this.data_)){const a=this.data_,o=bO(a,e,t);return o===null?null:new er(o)}else{const a=new Uint8Array(this.data_.buffer,e,t-e);return new er(a,!0)}}static getBlob(...e){if(Iy()){const t=e.map(a=>a instanceof er?a.data_:a);return new er(vO.apply(null,t))}else{const t=e.map(d=>cm(d)?TO(Ii.RAW,d).data:d.data_);let a=0;t.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let l=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[l++]=d[m]}),new er(o,!0)}}uploadData(){return this.data_}}function Ry(s){let e;try{e=JSON.parse(s)}catch{return null}return dO(e)?e:null}function IO(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function RO(s,e){const t=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?t:s+"/"+t}function xx(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}function NO(s,e){return e}class Un{constructor(e,t,a,o){this.server=e,this.local=t||e,this.writable=!!a,this.xform=o||NO}}let Xh=null;function CO(s){return!cm(s)||s.length<2?s:xx(s)}function wx(){if(Xh)return Xh;const s=[];s.push(new Un("bucket")),s.push(new Un("generation")),s.push(new Un("metageneration")),s.push(new Un("name","fullPath",!0));function e(l,d){return CO(d)}const t=new Un("name");t.xform=e,s.push(t);function a(l,d){return d!==void 0?Number(d):d}const o=new Un("size");return o.xform=a,s.push(o),s.push(new Un("timeCreated")),s.push(new Un("updated")),s.push(new Un("md5Hash",null,!0)),s.push(new Un("cacheControl",null,!0)),s.push(new Un("contentDisposition",null,!0)),s.push(new Un("contentEncoding",null,!0)),s.push(new Un("contentLanguage",null,!0)),s.push(new Un("contentType",null,!0)),s.push(new Un("metadata","customMetadata",!0)),Xh=s,Xh}function jO(s,e){function t(){const a=s.bucket,o=s.fullPath,l=new Bn(a,o);return e._makeStorageReference(l)}Object.defineProperty(s,"ref",{get:t})}function kO(s,e,t){const a={};a.type="file";const o=t.length;for(let l=0;l<o;l++){const d=t[l];a[d.local]=d.xform(a,e[d.server])}return jO(a,s),a}function Ix(s,e,t){const a=Ry(e);return a===null?null:kO(s,a,t)}function DO(s,e,t,a){const o=Ry(e);if(o===null||!cm(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const d=encodeURIComponent;return l.split(",").map(_=>{const y=s.bucket,b=s.fullPath,S="/b/"+d(y)+"/o/"+d(b),N=Oo(S,t,a),D=bx({alt:"media",token:_});return N+D})[0]}function Rx(s,e){const t={},a=e.length;for(let o=0;o<a;o++){const l=e[o];l.writable&&(t[l.server]=s[l.local])}return JSON.stringify(t)}const eT="prefixes",tT="items";function OO(s,e,t){const a={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[eT])for(const o of t[eT]){const l=o.replace(/\/$/,""),d=s._makeStorageReference(new Bn(e,l));a.prefixes.push(d)}if(t[tT])for(const o of t[tT]){const l=s._makeStorageReference(new Bn(e,o.name));a.items.push(l)}return a}function MO(s,e,t){const a=Ry(t);return a===null?null:OO(s,e,a)}class Ar{constructor(e,t,a,o){this.url=e,this.method=t,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Oi(s){if(!s)throw wy()}function Ny(s,e){function t(a,o){const l=Ix(s,o,e);return Oi(l!==null),l}return t}function zO(s,e){function t(a,o){const l=MO(s,e,o);return Oi(l!==null),l}return t}function LO(s,e){function t(a,o){const l=Ix(s,o,e);return Oi(l!==null),DO(l,o,s.host,s._protocol)}return t}function Zl(s){function e(t,a){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=X3():o=W3():t.getStatus()===402?o=Y3(s.bucket):t.getStatus()===403?o=Z3(s.path):o=a,o.status=t.getStatus(),o.serverResponse=a.serverResponse,o}return e}function Cy(s){const e=Zl(s);function t(a,o){let l=e(a,o);return a.getStatus()===404&&(l=K3(s.path)),l.serverResponse=o.serverResponse,l}return t}function PO(s,e,t){const a=e.fullServerUrl(),o=Oo(a,s.host,s._protocol),l="GET",d=s.maxOperationRetryTime,m=new Ar(o,l,Ny(s,t),d);return m.errorHandler=Cy(e),m}function VO(s,e,t,a,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),a&&(l.pageToken=a),o&&(l.maxResults=o);const d=e.bucketOnlyServerUrl(),m=Oo(d,s.host,s._protocol),g="GET",_=s.maxOperationRetryTime,y=new Ar(m,g,zO(s,e.bucket),_);return y.urlParams=l,y.errorHandler=Zl(e),y}function UO(s,e,t){const a=e.fullServerUrl(),o=Oo(a,s.host,s._protocol),l="GET",d=s.maxOperationRetryTime,m=new Ar(o,l,LO(s,t),d);return m.errorHandler=Cy(e),m}function BO(s,e){const t=e.fullServerUrl(),a=Oo(t,s.host,s._protocol),o="DELETE",l=s.maxOperationRetryTime;function d(g,_){}const m=new Ar(a,o,d,l);return m.successCodes=[200,204],m.errorHandler=Cy(e),m}function qO(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function Nx(s,e,t){const a=Object.assign({},t);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=qO(null,e)),a}function HO(s,e,t,a,o){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let H="";for(let z=0;z<2;z++)H=H+Math.random().toString().slice(2);return H}const g=m();d["Content-Type"]="multipart/related; boundary="+g;const _=Nx(e,a,o),y=Rx(_,t),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+g+`\r
Content-Type: `+_.contentType+`\r
\r
`,S=`\r
--`+g+"--",N=er.getBlob(b,a,S);if(N===null)throw yx();const D={name:_.fullPath},P=Oo(l,s.host,s._protocol),j="POST",$=s.maxUploadRetryTime,q=new Ar(P,j,Ny(s,t),$);return q.urlParams=D,q.headers=d,q.body=N.uploadData(),q.errorHandler=Zl(e),q}class Of{constructor(e,t,a,o){this.current=e,this.total=t,this.finalized=!!a,this.metadata=o||null}}function jy(s,e){let t=null;try{t=s.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function $O(s,e,t,a,o){const l=e.bucketOnlyServerUrl(),d=Nx(e,a,o),m={name:d.fullPath},g=Oo(l,s.host,s._protocol),_="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},b=Rx(d,t),S=s.maxUploadRetryTime;function N(P){jy(P);let j;try{j=P.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(cm(j)),j}const D=new Ar(g,_,N,S);return D.urlParams=m,D.headers=y,D.body=b,D.errorHandler=Zl(e),D}function FO(s,e,t,a){const o={"X-Goog-Upload-Command":"query"};function l(_){const y=jy(_,["active","final"]);let b=null;try{b=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}b||Oi(!1);const S=Number(b);return Oi(!isNaN(S)),new Of(S,a.size(),y==="final")}const d="POST",m=s.maxUploadRetryTime,g=new Ar(t,d,l,m);return g.headers=o,g.errorHandler=Zl(e),g}const nT=256*1024;function GO(s,e,t,a,o,l,d,m){const g=new Of(0,0);if(d?(g.current=d.current,g.total=d.total):(g.current=0,g.total=a.size()),a.size()!==g.total)throw nO();const _=g.total-g.current;let y=_;o>0&&(y=Math.min(y,o));const b=g.current,S=b+y;let N="";y===0?N="finalize":_===y?N="upload, finalize":N="upload";const D={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${g.current}`},P=a.slice(b,S);if(P===null)throw yx();function j(z,ie){const he=jy(z,["active","final"]),O=g.current+y,I=a.size();let C;return he==="final"?C=Ny(e,l)(z,ie):C=null,new Of(O,I,he==="final",C)}const $="POST",q=e.maxUploadRetryTime,H=new Ar(t,$,j,q);return H.headers=D,H.body=P.uploadData(),H.progressCallback=m||null,H.errorHandler=Zl(s),H}const Xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zg(s){switch(s){case"running":case"pausing":case"canceling":return Xn.RUNNING;case"paused":return Xn.PAUSED;case"success":return Xn.SUCCESS;case"canceled":return Xn.CANCELED;case"error":return Xn.ERROR;default:return Xn.ERROR}}class QO{constructor(e,t,a){if(uO(e)||t!=null||a!=null)this.next=e,this.error=t??void 0,this.complete=a??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Sl(s){return(...e)=>{Promise.resolve().then(()=>s(...e))}}class KO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,a,o,l){if(this.sent_)throw hu("cannot .send() more than once");if(yr(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class YO extends KO{initXhr(){this.xhr_.responseType="text"}}function tr(){return new YO}class WO{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=a,this._mappings=wx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Ex(o.status,[]))if(l)o=gx();else{this.sleepTime=Math.max(this.sleepTime*2,Q3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,a])=>{switch(this._state){case"running":e(t,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const a=$O(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(a,tr,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,a)=>{const o=FO(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,tr,t,a);this._request=l,l.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=nT*this._chunkMultiplier,t=new Of(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken((o,l)=>{let d;try{d=GO(this._ref._location,this._ref.storage,a,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){this._error=g,this._transition("error");return}const m=this._ref.storage._makeRequest(d,tr,o,l,!1);this._request=m,m.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){nT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const a=PO(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(a,tr,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const a=HO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(a,tr,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_x(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=zg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,a,o){const l=new QO(t||void 0,a||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(zg(this._state)){case Xn.SUCCESS:Sl(this._resolve.bind(null,this.snapshot))();break;case Xn.CANCELED:case Xn.ERROR:const t=this._reject;Sl(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zg(this._state)){case Xn.RUNNING:case Xn.PAUSED:e.next&&Sl(e.next.bind(e,this.snapshot))();break;case Xn.SUCCESS:e.complete&&Sl(e.complete.bind(e))();break;case Xn.CANCELED:case Xn.ERROR:e.error&&Sl(e.error.bind(e,this._error))();break;default:e.error&&Sl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Eo{constructor(e,t){this._service=e,t instanceof Bn?this._location=t:this._location=Bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Eo(e,t)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xx(this._location.path)}get storage(){return this._service}get parent(){const e=IO(this._location.path);if(e===null)return null;const t=new Bn(this._location.bucket,e);return new Eo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw aO(e)}}function XO(s,e,t){return s._throwIfRoot("uploadBytesResumable"),new WO(s,new er(e),t)}function ZO(s){const e={prefixes:[],items:[]};return Cx(s,e).then(()=>e)}async function Cx(s,e,t){const o=await JO(s,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Cx(s,e,o.nextPageToken)}function JO(s,e){e!=null&&typeof e.maxResults=="number"&&g_("options.maxResults",1,1e3,e.maxResults);const t=e||{},a=VO(s.storage,s._location,"/",t.pageToken,t.maxResults);return s.storage.makeRequestWithTokens(a,tr)}function e6(s){s._throwIfRoot("getDownloadURL");const e=UO(s.storage,s._location,wx());return s.storage.makeRequestWithTokens(e,tr).then(t=>{if(t===null)throw sO();return t})}function t6(s){s._throwIfRoot("deleteObject");const e=BO(s.storage,s._location);return s.storage.makeRequestWithTokens(e,tr)}function n6(s,e){const t=RO(s._location.path,e),a=new Bn(s._location.bucket,t);return new Eo(s.storage,a)}function s6(s){return/^[A-Za-z]+:\/\//.test(s)}function i6(s,e){return new Eo(s,e)}function jx(s,e){if(s instanceof ky){const t=s;if(t._bucket==null)throw tO();const a=new Eo(t,t._bucket);return e!=null?jx(a,e):a}else return e!==void 0?n6(s,e):s}function a6(s,e){if(e&&s6(e)){if(s instanceof ky)return i6(s,e);throw p_("To use ref(service, url), the first argument must be a Storage instance.")}else return jx(s,e)}function sT(s,e){const t=e?.[px];return t==null?null:Bn.makeFromBucketSpec(t,s)}function r6(s,e,t,a={}){s.host=`${e}:${t}`;const o=yr(e);o&&(j_(`https://${s.host}/b`),k_("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:$T(l,s.app.options.projectId))}class ky{constructor(e,t,a,o,l,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=d,this._bucket=null,this._host=mx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F3,this._maxUploadRetryTime=G3,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=sT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=sT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eo(this,e)}_makeRequest(e,t,a,o,l=!0){if(this._deleted)return new rO(vx());{const d=_O(e,this._appId,a,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,o).getPromise()}}const iT="@firebase/storage",aT="0.14.0";const kx="storage";function o6(s,e,t){return s=Ct(s),XO(s,e,t)}function l6(s){return s=Ct(s),ZO(s)}function c6(s){return s=Ct(s),e6(s)}function rT(s){return s=Ct(s),t6(s)}function __(s,e){return s=Ct(s),a6(s,e)}function u6(s=M_(),e){s=Ct(s);const a=Uf(s,kx).getImmediate({identifier:e}),o=BT("storage");return o&&d6(a,...o),a}function d6(s,e,t,a={}){r6(s,e,t,a)}function h6(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new ky(t,a,o,e,wo)}function f6(){mo(new lr(kx,h6,"PUBLIC").setMultipleInstances(!0)),Ri(iT,aT,""),Ri(iT,aT,"esm2020")}f6();const m6={apiKey:"AIzaSyD6eHwk9nKZ_ovOWhBxffbBLt7NfAKYVAA",authDomain:"enderun-lala.firebaseapp.com",projectId:"enderun-lala",storageBucket:"enderun-lala.firebasestorage.app",messagingSenderId:"330289169664",appId:"1:330289169664:web:061c5f48ef12ae67671fe5"},Dy=QT(m6),um=bk(Dy),St=R3(Dy),y_=u6(Dy),oT=s=>{let e;const t=new Set,a=(_,y)=>{const b=typeof _=="function"?_(e):_;if(!Object.is(b,e)){const S=e;e=y??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(N=>N(e,S))}},o=()=>e,m={setState:a,getState:o,getInitialState:()=>g,subscribe:_=>(t.add(_),()=>t.delete(_))},g=e=s(a,o,m);return m},p6=(s=>s?oT(s):oT),g6=s=>s;function _6(s,e=g6){const t=ao.useSyncExternalStore(s.subscribe,ao.useCallback(()=>e(s.getState()),[s,e]),ao.useCallback(()=>e(s.getInitialState()),[s,e]));return ao.useDebugValue(t),t}const y6=s=>{const e=p6(s),t=a=>_6(e,a);return Object.assign(t,e),t},Dx=(s=>y6);function v6(s,e){let t;try{t=s()}catch{return}return{getItem:o=>{var l;const d=g=>g===null?null:JSON.parse(g,void 0),m=(l=t.getItem(o))!=null?l:null;return m instanceof Promise?m.then(d):d(m)},setItem:(o,l)=>t.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>t.removeItem(o)}}const v_=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(a){return v_(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return v_(a)(t)}}}},b6=(s,e)=>(t,a,o)=>{let l={storage:v6(()=>window.localStorage),partialize:j=>j,version:0,merge:(j,$)=>({...$,...j}),...e},d=!1,m=0;const g=new Set,_=new Set;let y=l.storage;if(!y)return s((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...j)},a,o);const b=()=>{const j=l.partialize({...a()});return y.setItem(l.name,{state:j,version:l.version})},S=o.setState;o.setState=(j,$)=>(S(j,$),b());const N=s((...j)=>(t(...j),b()),a,o);o.getInitialState=()=>N;let D;const P=()=>{var j,$;if(!y)return;const q=++m;d=!1,g.forEach(z=>{var ie;return z((ie=a())!=null?ie:N)});const H=(($=l.onRehydrateStorage)==null?void 0:$.call(l,(j=a())!=null?j:N))||void 0;return v_(y.getItem.bind(y))(l.name).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==l.version){if(l.migrate){const ie=l.migrate(z.state,z.version);return ie instanceof Promise?ie.then(he=>[!0,he]):[!0,ie]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,z.state];return[!1,void 0]}).then(z=>{var ie;if(q!==m)return;const[he,O]=z;if(D=l.merge(O,(ie=a())!=null?ie:N),t(D,!0),he)return b()}).then(()=>{q===m&&(H?.(D,void 0),D=a(),d=!0,_.forEach(z=>z(D)))}).catch(z=>{q===m&&H?.(void 0,z)})};return o.persist={setOptions:j=>{l={...l,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>P(),hasHydrated:()=>d,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(_.add(j),()=>{_.delete(j)})},l.skipHydration||P(),D||N},E6=b6,$t=Dx()(E6(s=>({firebaseUser:null,user:null,isLoading:!0,isInitialized:!1,setFirebaseUser:e=>s({firebaseUser:e}),setUser:e=>s({user:e}),setLoading:e=>s({isLoading:e}),setInitialized:e=>s({isInitialized:e}),logout:()=>s({firebaseUser:null,user:null,isLoading:!1})}),{name:"enderunlala-auth",partialize:s=>({user:s.user})})),_e={HOME:"/",LOGIN:"/login",REGISTER:"/register",FORGOT_PASSWORD:"/forgot-password",TEACHER:{DASHBOARD:"/teacher",SESSIONS:"/teacher/sessions",SESSION_DETAIL:"/teacher/sessions/:id",NEW_SESSION:"/teacher/sessions/new",QUIZZES:"/teacher/quizzes",QUIZ_EDIT:"/teacher/quizzes/:id",QUIZ_RESULTS:"/teacher/quizzes/:id/results",NEW_QUIZ:"/teacher/quizzes/new",REPORTS:"/teacher/reports",PROFILE:"/teacher/profile"},STUDENT:{DASHBOARD:"/student",ASSIGNMENTS:"/student/assignments",ASSIGNMENT_SOLVE:"/student/assignments/:id",RESULTS:"/student/results",PROFILE:"/student/profile",QUIZZES:"/student/quizzes",QUIZ_PLAYER:"/student/quiz/:id",QUIZ_RESULT:"/student/quiz/result/:id"},ADMIN:{DASHBOARD:"/admin",USERS:"/admin/users",TEACHERS:"/admin/teachers",STUDENTS:"/admin/students",SESSIONS:"/admin/sessions",REPORTS:"/admin/reports",SETTINGS:"/admin/settings"}},T6=(s,e)=>{let t=s;return Object.entries(e).forEach(([a,o])=>{t=t.replace(`:${a}`,o)}),t},S6="_button_b7fps_3",A6="_sm_b7fps_33",x6="_md_b7fps_39",w6="_lg_b7fps_45",I6="_primary_b7fps_52",R6="_secondary_b7fps_62",N6="_danger_b7fps_72",C6="_ghost_b7fps_82",j6="_outline_b7fps_92",k6="_fullWidth_b7fps_103",D6="_loading_b7fps_108",O6="_spinner_b7fps_112",M6="_spin_b7fps_112",z6="_iconOnly_b7fps_128",Si={button:S6,sm:A6,md:x6,lg:w6,primary:I6,secondary:R6,danger:N6,ghost:C6,outline:j6,fullWidth:k6,loading:D6,spinner:O6,spin:M6,iconOnly:z6},je=({children:s,variant:e="primary",size:t="md",isLoading:a=!1,leftIcon:o,rightIcon:l,fullWidth:d=!1,className:m="",disabled:g,..._})=>{const y=[Si.button,Si[e],Si[t],d&&Si.fullWidth,a&&Si.loading,m].filter(Boolean).join(" ");return u.jsxs("button",{className:y,disabled:g||a,..._,children:[a&&u.jsx("span",{className:Si.spinner,children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:Si.spinnerIcon,children:u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"32",strokeDashoffset:"12"})})}),!a&&o&&u.jsx("span",{className:Si.icon,children:o}),u.jsx("span",{className:Si.content,children:s}),!a&&l&&u.jsx("span",{className:Si.icon,children:l})]})},L6="_wrapper_m4lp3_3",P6="_label_m4lp3_10",V6="_required_m4lp3_16",U6="_inputContainer_m4lp3_21",B6="_input_m4lp3_21",q6="_hasLeftIcon_m4lp3_53",H6="_hasRightIcon_m4lp3_57",$6="_leftIcon_m4lp3_61",F6="_rightIcon_m4lp3_62",G6="_hasError_m4lp3_88",Q6="_error_m4lp3_97",K6="_hint_m4lp3_103",Y6="_disabled_m4lp3_109",cs={wrapper:L6,label:P6,required:V6,inputContainer:U6,input:B6,hasLeftIcon:q6,hasRightIcon:H6,leftIcon:$6,rightIcon:F6,hasError:G6,error:Q6,hint:K6,disabled:Y6},Bu=w.forwardRef(({label:s,error:e,hint:t,leftIcon:a,rightIcon:o,className:l="",id:d,...m},g)=>{const _=d||`input-${Math.random().toString(36).substr(2,9)}`,y=[cs.wrapper,e&&cs.hasError,m.disabled&&cs.disabled,l].filter(Boolean).join(" ");return u.jsxs("div",{className:y,children:[s&&u.jsxs("label",{htmlFor:_,className:cs.label,children:[s,m.required&&u.jsx("span",{className:cs.required,children:"*"})]}),u.jsxs("div",{className:cs.inputContainer,children:[a&&u.jsx("span",{className:cs.leftIcon,children:a}),u.jsx("input",{ref:g,id:_,className:`${cs.input} ${a?cs.hasLeftIcon:""} ${o?cs.hasRightIcon:""}`,...m}),o&&u.jsx("span",{className:cs.rightIcon,children:o})]}),e&&u.jsx("span",{className:cs.error,children:e}),!e&&t&&u.jsx("span",{className:cs.hint,children:t})]})});Bu.displayName="Input";const W6="_card_x3a0c_3",X6="_bordered_x3a0c_15",Z6="_elevated_x3a0c_19",J6="_paddingNone_x3a0c_24",eM="_paddingSm_x3a0c_28",tM="_paddingMd_x3a0c_32",nM="_paddingLg_x3a0c_36",sM="_hoverable_x3a0c_54",fu={card:W6,default:"_default_x3a0c_10",bordered:X6,elevated:Z6,paddingNone:J6,paddingSm:eM,paddingMd:tM,paddingLg:nM,hoverable:sM},hf=({children:s,className:e="",padding:t="md",variant:a="default",hover:o=!1,onClick:l,draggable:d,onDragStart:m,onDragOver:g,onDragEnd:_,onDrop:y})=>{const b=[fu.card,fu[`padding-${t}`],fu[a],o&&fu.hoverable,l&&fu.clickable,e].filter(Boolean).join(" ");return u.jsx("div",{className:b,onClick:l,role:l?"button":void 0,draggable:d,onDragStart:m,onDragOver:g,onDragEnd:_,onDrop:y,children:s})};const Ox=(...s)=>s.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();const iM=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const aM=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());const lT=s=>{const e=aM(s);return e.charAt(0).toUpperCase()+e.slice(1)};var rM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oM=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const lM=w.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:d,...m},g)=>w.createElement("svg",{ref:g,...rM,width:e,height:e,stroke:s,strokeWidth:a?Number(t)*24/Number(e):t,className:Ox("lucide",o),...!l&&!oM(m)&&{"aria-hidden":"true"},...m},[...d.map(([_,y])=>w.createElement(_,y)),...Array.isArray(l)?l:[l]]));const Te=(s,e)=>{const t=w.forwardRef(({className:a,...o},l)=>w.createElement(lM,{ref:l,iconNode:e,className:Ox(`lucide-${iM(lT(s))}`,`lucide-${s}`,a),...o}));return t.displayName=lT(s),t};const cM=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],uM=Te("arrow-down",cM);const dM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ws=Te("arrow-left",dM);const hM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ll=Te("arrow-right",hM);const fM=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],mM=Te("arrow-up",fM);const pM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],b_=Te("award",pM);const gM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_M=Te("bell",gM);const yM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qu=Te("book-open",yM);const vM=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],cT=Te("brain",vM);const bM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ld=Te("calendar",bM);const EM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Oy=Te("chart-column",EM);const TM=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Mx=Te("chart-no-axes-column",TM);const SM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zx=Te("chart-pie",SM);const AM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],To=Te("check",AM);const xM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lx=Te("chevron-down",xM);const wM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],IM=Te("chevron-left",wM);const RM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ks=Te("chevron-right",RM);const NM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],So=Te("circle-alert",NM);const CM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zi=Te("circle-check-big",CM);const jM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Px=Te("circle-check",jM);const kM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DM=Te("circle-question-mark",kM);const OM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],MM=Te("circle-x",OM);const zM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],dm=Te("clipboard-check",zM);const LM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],E_=Te("clipboard-list",LM);const PM=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VM=Te("clock-3",PM);const UM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jl=Te("clock",UM);const BM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Vx=Te("ellipsis-vertical",BM);const qM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],HM=Te("eye-off",qM);const $M=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],My=Te("eye",$M);const FM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cd=Te("file-text",FM);const GM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],QM=Te("funnel",GM);const KM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ux=Te("graduation-cap",KM);const YM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],WM=Te("grip-vertical",YM);const XM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bx=Te("info",XM);const ZM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zy=Te("layout-dashboard",ZM);const JM=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],uT=Te("lightbulb",JM);const ez=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tz=Te("list",ez);const nz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sz=Te("lock",nz);const iz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],az=Te("log-out",iz);const rz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],oz=Te("mail",rz);const lz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cz=Te("menu",lz);const uz=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],oo=Te("mic",uz);const dz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hz=Te("moon",dz);const fz=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],qx=Te("pause",fz);const mz=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pz=Te("pen-line",mz);const gz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],dT=Te("pencil",gz);const _z=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Hx=Te("play",_z);const yz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hm=Te("plus",yz);const vz=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],bz=Te("radio",vz);const Ez=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$x=Te("refresh-cw",Ez);const Tz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Fx=Te("rotate-ccw",Tz);const Sz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gx=Te("save",Sz);const Az=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],ec=Te("school",Az);const xz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wz=Te("search",xz);const Iz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qx=Te("send",Iz);const Rz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nz=Te("settings",Rz);const Cz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Pl=Te("sparkles",Cz);const jz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kz=Te("square",jz);const Dz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hT=Te("star",Dz);const Oz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Mz=Te("sun",Oz);const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hu=Te("target",zz);const Lz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ud=Te("trash-2",Lz);const Pz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kx=Te("triangle-alert",Pz);const Vz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ho=Te("trophy",Vz);const Uz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Bz=Te("type",Uz);const qz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hz=Te("upload",qz);const $z=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Fz=Te("user-round",$z);const Gz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yx=Te("user",Gz);const Qz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$u=Te("users",Qz);const Kz=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],tc=Te("wand-sparkles",Kz);const Yz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wz=Te("wifi-off",Yz);const Xz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ao=Te("x",Xz);const Zz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fm=Te("zap",Zz),Jz="_overlay_7h7t5_3",e5="_overlayIn_7h7t5_1",t5="_modal_7h7t5_31",n5="_sheetUp_7h7t5_1",s5="_modalIn_7h7t5_1",i5="_header_7h7t5_92",a5="_title_7h7t5_105",r5="_closeBtn_7h7t5_117",o5="_body_7h7t5_132",l5="_footer_7h7t5_145",c5="_sm_7h7t5_171",u5="_lg_7h7t5_175",d5="_xl_7h7t5_179",Ka={overlay:Jz,overlayIn:e5,modal:t5,sheetUp:n5,modalIn:s5,header:i5,title:a5,closeBtn:r5,body:o5,footer:l5,sm:c5,lg:u5,xl:d5},Mf=({isOpen:s,onClose:e,title:t,children:a,size:o="md",showCloseButton:l=!0,closeOnOverlayClick:d=!0,closeOnEscape:m=!0,footer:g})=>{const _=w.useCallback(b=>{b.key==="Escape"&&m&&e()},[e,m]);if(w.useEffect(()=>(s&&(document.addEventListener("keydown",_),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",_),document.body.style.overflow=""}),[s,_]),!s)return null;const y=b=>{b.target===b.currentTarget&&d&&e()};return zT.createPortal(u.jsx("div",{className:Ka.overlay,onClick:y,children:u.jsxs("div",{className:`${Ka.modal} ${Ka[o]}`,role:"dialog","aria-modal":"true",children:[(t||l)&&u.jsxs("div",{className:Ka.header,children:[t&&u.jsx("h2",{className:Ka.title,children:t}),l&&u.jsx("button",{className:Ka.closeBtn,onClick:e,"aria-label":"Close modal",children:u.jsx(Ao,{size:20})})]}),u.jsx("div",{className:Ka.body,children:a}),g&&u.jsx("div",{className:Ka.footer,children:g})]})}),document.body)},h5="_container_1pqc3_1",f5="_iconWrapper_1pqc3_17",m5="_iconDanger_1pqc3_55",p5="_iconWarning_1pqc3_79",g5="_iconInfo_1pqc3_87",_5="_title_1pqc3_95",y5="_message_1pqc3_109",v5="_actions_1pqc3_123",b5="_confirmBtn_1pqc3_135",E5="_cancelBtn_1pqc3_137",Ai={container:h5,iconWrapper:f5,iconDanger:m5,iconWarning:p5,iconInfo:g5,title:_5,message:y5,actions:v5,confirmBtn:b5,cancelBtn:E5},Ly=({isOpen:s,onClose:e,onConfirm:t,title:a,message:o,confirmText:l="Evet, Eminim",cancelText:d="ptal Et",variant:m="danger",isLoading:g=!1})=>{const _=()=>{switch(m){case"danger":return u.jsx(ud,{size:32,className:Ai.iconDanger});case"warning":return u.jsx(So,{size:32,className:Ai.iconWarning});default:return u.jsx(DM,{size:32,className:Ai.iconInfo})}};return u.jsx(Mf,{isOpen:s,onClose:e,size:"sm",showCloseButton:!1,children:u.jsxs("div",{className:Ai.container,children:[u.jsx("div",{className:Ai.iconWrapper,children:_()}),u.jsx("h3",{className:Ai.title,children:a}),u.jsx("p",{className:Ai.message,children:o}),u.jsxs("div",{className:Ai.actions,children:[u.jsx(je,{variant:"ghost",onClick:e,disabled:g,className:Ai.cancelBtn,children:d}),u.jsx(je,{variant:m==="danger"?"danger":"primary",onClick:t,isLoading:g,className:Ai.confirmBtn,children:l})]})]})})},T5="_loader_oabps_3",S5="_spinner_oabps_9",A5="_spin_oabps_9",x5="_sm_oabps_18",w5="_md_oabps_24",I5="_lg_oabps_30",R5="_primary_oabps_37",N5="_white_oabps_41",C5="_gray_oabps_45",j5="_pageLoader_oabps_60",k5="_message_oabps_70",Cl={loader:T5,spinner:S5,spin:A5,sm:x5,md:w5,lg:I5,primary:R5,white:N5,gray:C5,pageLoader:j5,message:k5},_s=({size:s="md",color:e="primary",className:t=""})=>u.jsx("div",{className:`${Cl.loader} ${Cl[s]} ${Cl[e]} ${t}`,children:u.jsx("div",{className:Cl.spinner})}),D5=({message:s})=>u.jsxs("div",{className:Cl.pageLoader,children:[u.jsx(_s,{size:"lg"}),s&&u.jsx("p",{className:Cl.message,children:s})]});let O5=0;const Mn=Dx()(s=>({theme:"light",sidebarOpen:window.innerWidth>=1024,sidebarCollapsed:!1,activeModal:null,modalData:null,toasts:[],setTheme:e=>{document.documentElement.setAttribute("data-theme",e),s({theme:e})},toggleTheme:()=>s(e=>{const t=e.theme==="light"?"dark":"light";return document.documentElement.setAttribute("data-theme",t),{theme:t}}),setSidebarOpen:e=>s({sidebarOpen:e}),toggleSidebar:()=>s(e=>({sidebarOpen:!e.sidebarOpen})),setSidebarCollapsed:e=>s({sidebarCollapsed:e}),openModal:(e,t)=>s({activeModal:e,modalData:t??null}),closeModal:()=>s({activeModal:null,modalData:null}),addToast:e=>s(t=>({toasts:[...t.toasts,{...e,id:`toast-${++O5}`}]})),removeToast:e=>s(t=>({toasts:t.toasts.filter(a=>a.id!==e)}))})),M5="_container_1ihfa_3",z5="_toast_1ihfa_24",L5="_toastIn_1ihfa_1",P5="_icon_1ihfa_50",V5="_success_1ihfa_60",U5="_error_1ihfa_65",B5="_warning_1ihfa_70",q5="_info_1ihfa_75",H5="_content_1ihfa_80",$5="_title_1ihfa_85",F5="_message_1ihfa_92",G5="_closeBtn_1ihfa_99",Ya={container:M5,toast:z5,toastIn:L5,icon:P5,success:V5,error:U5,warning:B5,info:q5,content:H5,title:$5,message:F5,closeBtn:G5},Q5={success:zi,error:So,warning:Kx,info:Bx},K5=({id:s,type:e,title:t,message:a,duration:o=5e3})=>{const l=Mn(m=>m.removeToast),d=Q5[e];return w.useEffect(()=>{if(o>0){const m=setTimeout(()=>{l(s)},o);return()=>clearTimeout(m)}},[s,o,l]),u.jsxs("div",{className:`${Ya.toast} ${Ya[e]}`,children:[u.jsx(d,{className:Ya.icon,size:20}),u.jsxs("div",{className:Ya.content,children:[u.jsx("p",{className:Ya.title,children:t}),a&&u.jsx("p",{className:Ya.message,children:a})]}),u.jsx("button",{className:Ya.closeBtn,onClick:()=>l(s),children:u.jsx(Ao,{size:16})})]})},Y5=()=>{const s=Mn(e=>e.toasts);return s.length===0?null:zT.createPortal(u.jsx("div",{className:Ya.container,children:s.map(e=>u.jsx(K5,{...e},e.id))}),document.body)},W5="_selectContainer_2oi6w_1",X5="_selectBox_2oi6w_11",Z5="_active_2oi6w_51",J5="_icon_2oi6w_61",eL="_currentValue_2oi6w_75",tL="_arrow_2oi6w_95",nL="_rotated_2oi6w_107",sL="_dropdownMenu_2oi6w_117",iL="_option_2oi6w_173",aL="_selected_2oi6w_203",xi={selectContainer:W5,selectBox:X5,active:Z5,icon:J5,currentValue:eL,arrow:tL,rotated:nL,dropdownMenu:sL,option:iL,selected:aL},Xs=({options:s,value:e,onChange:t,icon:a,placeholder:o="Seiniz...",className:l=""})=>{const[d,m]=w.useState(!1),g=w.useRef(null),_=s.find(b=>b.value===e);w.useEffect(()=>{const b=S=>{g.current&&!g.current.contains(S.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const y=b=>{t(b),m(!1)};return u.jsxs("div",{className:`${xi.selectContainer} ${l}`,ref:g,children:[u.jsxs("div",{className:`${xi.selectBox} ${d?xi.active:""}`,onClick:()=>m(!d),children:[a&&u.jsx("span",{className:xi.icon,children:a}),u.jsx("span",{className:xi.currentValue,children:_?_.label:o}),u.jsx(Lx,{size:18,className:`${xi.arrow} ${d?xi.rotated:""}`})]}),d&&u.jsx("div",{className:xi.dropdownMenu,children:s.map(b=>u.jsx("div",{className:`${xi.option} ${b.value===e?xi.selected:""}`,onClick:()=>y(b.value),children:b.label},b.value))})]})},rL="_header_h2cva_3",oL="_left_h2cva_26",lL="_menuBtn_h2cva_33",cL="_logo_h2cva_59",uL="_logoIcon_h2cva_71",dL="_logoText_h2cva_76",hL="_desktopNav_h2cva_89",fL="_navLink_h2cva_106",mL="_activeNavLink_h2cva_107",pL="_right_h2cva_136",gL="_iconBtn_h2cva_148",_L="_badge_h2cva_164",yL="_userMenu_h2cva_181",vL="_userInfo_h2cva_188",bL="_userName_h2cva_200",EL="_userRole_h2cva_207",TL="_teacher_h2cva_213",SL="_student_h2cva_217",AL="_admin_h2cva_221",xL="_avatar_h2cva_225",Cn={header:rL,left:oL,menuBtn:lL,logo:cL,logoIcon:uL,logoText:dL,desktopNav:hL,navLink:fL,activeNavLink:mL,right:pL,iconBtn:gL,badge:_L,userMenu:yL,userInfo:vL,userName:bL,userRole:EL,teacher:TL,student:SL,admin:AL,avatar:xL},wL=()=>{const s=$t(d=>d.user),{theme:e,toggleTheme:t,toggleSidebar:a}=Mn(),o=()=>{switch(s?.role){case"teacher":return"retmen";case"student":return"renci";case"admin":return"Ynetici";default:return""}},l=()=>{switch(s?.role){case"teacher":return"teacher";case"student":return"student";case"admin":return"admin";default:return""}};return u.jsxs("header",{className:Cn.header,children:[u.jsxs("div",{className:Cn.left,children:[u.jsx("button",{className:Cn.menuBtn,onClick:a,"aria-label":"Toggle menu",children:u.jsx(cz,{size:22})}),u.jsxs(Nu,{to:s?.role==="teacher"?_e.TEACHER.DASHBOARD:_e.HOME,className:Cn.logo,children:[u.jsx("span",{className:Cn.logoIcon,children:""}),u.jsx("span",{className:Cn.logoText,children:"Lala"})]})]}),u.jsxs("div",{className:Cn.right,children:[u.jsx("button",{className:Cn.iconBtn,onClick:t,"aria-label":"Toggle theme",children:e==="light"?u.jsx(hz,{size:20}):u.jsx(Mz,{size:20})}),u.jsxs("button",{className:Cn.iconBtn,"aria-label":"Notifications",children:[u.jsx(_M,{size:20}),u.jsx("span",{className:Cn.badge,children:"3"})]}),u.jsxs("div",{className:Cn.userMenu,children:[u.jsxs("div",{className:Cn.userInfo,children:[u.jsx("span",{className:Cn.userName,children:s?.displayName||"Kullanc"}),u.jsx("span",{className:`${Cn.userRole} ${Cn[l()]}`,children:o()})]}),u.jsx("div",{className:Cn.avatar,children:s?.photoURL?u.jsx("img",{src:s.photoURL,alt:s.displayName}):u.jsx(Yx,{size:18})})]})]})]})},IL="_backdrop_bh2jq_4",RL="_sidebar_bh2jq_29",NL="_open_bh2jq_52",CL="_closed_bh2jq_56",jL="_label_bh2jq_72",kL="_navItem_bh2jq_77",DL="_active_bh2jq_91",OL="_logoutBtn_bh2jq_96",ML="_nav_bh2jq_77",zL="_navList_bh2jq_117",LL="_icon_bh2jq_159",PL="_footer_bh2jq_183",js={backdrop:IL,sidebar:RL,open:NL,closed:CL,label:jL,navItem:kL,active:DL,logoutBtn:OL,nav:ML,navList:zL,icon:LL,footer:PL},VL=[{label:"Dashboard",icon:u.jsx(zy,{size:20}),path:_e.TEACHER.DASHBOARD},{label:"retim Atlyesi",icon:u.jsx(tc,{size:20}),path:_e.TEACHER.SESSIONS},{label:"Snavlar",icon:u.jsx(dm,{size:20}),path:_e.TEACHER.QUIZZES},{label:"Raporlar",icon:u.jsx(zx,{size:20}),path:_e.TEACHER.REPORTS}],UL=[{label:"Dashboard",icon:u.jsx(zy,{size:20}),path:_e.STUDENT.DASHBOARD},{label:"Snavlarm",icon:u.jsx(qu,{size:20}),path:_e.STUDENT.QUIZZES},{label:"Sonularm",icon:u.jsx(dm,{size:20}),path:_e.STUDENT.RESULTS}],BL=[{label:"Dashboard",icon:u.jsx(zy,{size:20}),path:_e.ADMIN.DASHBOARD},{label:"retmenler",icon:u.jsx($u,{size:20}),path:_e.ADMIN.TEACHERS},{label:"renciler",icon:u.jsx(Ux,{size:20}),path:_e.ADMIN.STUDENTS},{label:"Tm retimler",icon:u.jsx(tc,{size:20}),path:_e.ADMIN.SESSIONS},{label:"Raporlar",icon:u.jsx(zx,{size:20}),path:_e.ADMIN.REPORTS},{label:"Ayarlar",icon:u.jsx(Nz,{size:20}),path:_e.ADMIN.SETTINGS}],qL=()=>{const s=wn(),e=Jn(),t=$t(y=>y.user),a=$t(y=>y.logout),o=Mn(y=>y.sidebarOpen),l=Mn(y=>y.setSidebarOpen);w.useEffect(()=>{window.innerWidth<1024&&l(!1)},[e.pathname,l]),w.useEffect(()=>{const y=()=>{window.innerWidth>=1024?l(!0):l(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[l]);const d=()=>{switch(t?.role){case"teacher":return VL;case"student":return UL;case"admin":return BL;default:return[]}},m=async()=>{try{await cj(um),a(),s(_e.LOGIN)}catch(y){console.error("Logout error:",y)}},g=()=>{window.innerWidth<1024&&l(!1)},_=d();return u.jsxs(u.Fragment,{children:[o&&u.jsx("div",{className:js.backdrop,onClick:g}),u.jsxs("aside",{className:`${js.sidebar} ${o?js.open:js.closed}`,children:[u.jsx("nav",{className:js.nav,children:u.jsx("ul",{className:js.navList,children:_.map(y=>u.jsx("li",{children:u.jsxs(OT,{to:y.path,end:!0,className:({isActive:b})=>`${js.navItem} ${b?js.active:""}`,children:[u.jsx("span",{className:js.icon,children:y.icon}),u.jsx("span",{className:js.label,children:y.label})]})},y.path))})}),u.jsx("div",{className:js.footer,children:u.jsxs("button",{className:js.logoutBtn,onClick:m,children:[u.jsx(az,{size:20}),u.jsx("span",{children:"k Yap"})]})})]})]})},HL="_layout_ajq5n_3",$L="_main_ajq5n_8",FL="_content_ajq5n_15",GL="_sidebarOpen_ajq5n_33",QL="_sidebarClosed_ajq5n_37",mu={layout:HL,main:$L,content:FL,sidebarOpen:GL,sidebarClosed:QL},KL=()=>{const s=Mn(e=>e.sidebarOpen);return u.jsxs("div",{className:mu.layout,children:[u.jsx(wL,{}),u.jsx(qL,{}),u.jsx("main",{className:`${mu.main} ${s?mu.sidebarOpen:mu.sidebarClosed}`,children:u.jsx("div",{className:mu.content,children:u.jsx(HI,{})})})]})},jn=({children:s,allowedRoles:e})=>{const t=Jn(),{user:a,firebaseUser:o,isLoading:l,isInitialized:d}=$t();if(!d||l)return u.jsx(D5,{message:"Ykleniyor..."});if(!o)return u.jsx(mf,{to:_e.LOGIN,state:{from:t},replace:!0});if(e&&a&&!e.includes(a.role)){const m=a.role==="teacher"?_e.TEACHER.DASHBOARD:a.role==="student"?_e.STUDENT.DASHBOARD:_e.ADMIN.DASHBOARD;return u.jsx(mf,{to:m,replace:!0})}return u.jsx(u.Fragment,{children:s})},YL=[{email:"ogretmen@test.com",password:"test1234",displayName:"Ahmet retmen",role:"teacher",subjects:["Matematik","Fizik"],assignedClasses:["9-A","10-B"]},{email:"ogrenci@test.com",password:"test1234",displayName:"Zeynep renci",role:"student",classId:"9-A",studentNumber:"2024001"},{email:"yonetici@test.com",password:"test1234",displayName:"Mdr Bey",role:"admin"}];async function WL(){for(const s of YL)try{const{email:e,password:t,...a}=s,l=(await ij(um,e,t)).user.uid;await hx(zn(St,"users",l),{...a,email:e,institutionId:"test-institution",photoURL:null,phoneNumber:null,isActive:!0,createdAt:dt.now(),updatedAt:dt.now()}),console.log(` Created: ${e} (${a.role})`)}catch(e){e.code==="auth/email-already-in-use"?console.log(` Already exists: ${s.email}`):console.error(` Error creating ${s.email}:`,e.message)}console.log(" Seed complete!")}const XL="_container_6gyxg_3",ZL="_decoration_6gyxg_42",JL="_circle1_6gyxg_52",e9="_circle2_6gyxg_53",t9="_circle3_6gyxg_54",n9="_card_6gyxg_100",s9="_header_6gyxg_134",i9="_logo_6gyxg_139",a9="_title_6gyxg_146",r9="_subtitle_6gyxg_159",o9="_form_6gyxg_165",l9="_errorBanner_6gyxg_171",c9="_forgotLink_6gyxg_208",u9="_eyeBtn_6gyxg_222",d9="_footer_6gyxg_238",h9="_link_6gyxg_245",f9="_devSection_6gyxg_255",En={container:XL,decoration:ZL,circle1:JL,circle2:e9,circle3:t9,card:n9,header:s9,logo:i9,title:a9,subtitle:r9,form:o9,errorBanner:l9,forgotLink:c9,eyeBtn:u9,footer:d9,link:h9,devSection:f9},m9=()=>{const s=wn(),e=$t($=>$.setUser),t=Mn($=>$.addToast),[a,o]=w.useState(""),[l,d]=w.useState(""),[m,g]=w.useState(!1),[_,y]=w.useState(!1),[b,S]=w.useState(!1),[N,D]=w.useState(""),P=async()=>{S(!0);try{await WL(),t({type:"success",title:"Test kullanclar oluturuldu!"})}catch{t({type:"error",title:"Hata",message:"Kullanclar oluturulamad"})}finally{S(!1)}},j=async $=>{$.preventDefault(),D(""),y(!0);try{const q=await aj(um,a,l),H=await ko(zn(St,"users",q.user.uid));if(H.exists()){const z={id:H.id,...H.data()};e(z),t({type:"success",title:"Ho geldiniz!",message:`${z.displayName} olarak giri yaptnz.`});const ie=z.role==="teacher"?_e.TEACHER.DASHBOARD:z.role==="student"?_e.STUDENT.DASHBOARD:_e.ADMIN.DASHBOARD;s(ie,{replace:!0})}else D("Kullanc bilgileri bulunamad.")}catch(q){if(console.error("Login error:",q),a==="ogretmen@test.com"&&l==="test1234"){e({id:"dummy-teacher",email:"ogretmen@test.com",displayName:"Ahmet retmen",role:"teacher",institutionId:"test-inst",isActive:!0,createdAt:new Date,updatedAt:new Date}),s(_e.TEACHER.DASHBOARD,{replace:!0});return}if(a==="ogrenci@test.com"&&l==="test1234"){e({id:"dummy-student",email:"ogrenci@test.com",displayName:"Zeynep renci",role:"student",institutionId:"test-inst",isActive:!0,createdAt:new Date,updatedAt:new Date}),s(_e.STUDENT.DASHBOARD,{replace:!0});return}q.code==="auth/user-not-found"||q.code==="auth/wrong-password"?D("E-posta veya ifre hatal."):q.code==="auth/too-many-requests"?D("ok fazla baarsz deneme. Ltfen daha sonra tekrar deneyin."):D("Giri yaplrken bir hata olutu. (Test bilgileriyle girmeyi deneyin)")}finally{y(!1)}};return u.jsxs("div",{className:En.container,children:[u.jsxs("div",{className:En.card,children:[u.jsxs("div",{className:En.header,children:[u.jsx("div",{className:En.logo,children:""}),u.jsx("h1",{className:En.title,children:"EnderunLala"}),u.jsx("p",{className:En.subtitle,children:"Eitim platformuna ho geldiniz"})]}),u.jsxs("form",{onSubmit:j,className:En.form,children:[N&&u.jsx("div",{className:En.errorBanner,children:N}),u.jsx(Bu,{type:"email",label:"E-posta",placeholder:"ornek@okul.edu.tr",value:a,onChange:$=>o($.target.value),leftIcon:u.jsx(oz,{size:18}),required:!0,autoComplete:"email"}),u.jsx(Bu,{type:m?"text":"password",label:"ifre",placeholder:"",value:l,onChange:$=>d($.target.value),leftIcon:u.jsx(sz,{size:18}),rightIcon:u.jsx("button",{type:"button",onClick:()=>g(!m),className:En.eyeBtn,children:m?u.jsx(HM,{size:18}):u.jsx(My,{size:18})}),required:!0,autoComplete:"current-password"}),u.jsx(Nu,{to:_e.FORGOT_PASSWORD,className:En.forgotLink,children:"ifremi unuttum"}),u.jsx(je,{type:"submit",fullWidth:!0,isLoading:_,size:"lg",children:"Giri Yap"})]}),u.jsx("div",{className:En.footer,children:u.jsxs("p",{children:["Hesabnz yok mu?"," ",u.jsx(Nu,{to:_e.REGISTER,className:En.link,children:"Kayt olun"})]})}),u.jsx("div",{className:En.devSection,children:u.jsx(je,{variant:"ghost",size:"sm",onClick:P,isLoading:b,leftIcon:u.jsx($u,{size:16}),children:"Test Kullanclar Olutur"})})]}),u.jsxs("div",{className:En.decoration,children:[u.jsx("div",{className:En.circle1}),u.jsx("div",{className:En.circle2}),u.jsx("div",{className:En.circle3})]})]})},nc="sessions",p9=async(s,e)=>(await om(ti(St,nc),{...e,teacherId:s,status:"draft",createdAt:ps(),updatedAt:ps()})).id,g9=async(s,e,t)=>{if(e.size>524288e3)throw new Error(`Dosya ok byk (${b9(e.size)}). Maksimum dosya boyutu 500MB.`);const o=v9(e.type),l=`sessions/${s}/audio_${Date.now()}.${o}`,d=__(y_,l),m={contentType:e.type||"audio/webm",customMetadata:{sessionId:s,uploadedAt:new Date().toISOString(),originalSize:e.size.toString()}},g=o6(d,e,m),_={pause:()=>g.pause(),resume:()=>g.resume(),cancel:()=>g.cancel()};return new Promise((y,b)=>{g.on("state_changed",S=>{const N=Math.round(S.bytesTransferred/S.totalBytes*100);t?.({percent:N,bytesTransferred:S.bytesTransferred,totalBytes:S.totalBytes,state:S.state})},S=>{console.error("[SessionService] Upload error:",S);let N;switch(S.code){case"storage/canceled":N="Ykleme iptal edildi.";break;case"storage/retry-limit-exceeded":N="nternet balants ok zayf. Ltfen balantnz kontrol edip tekrar deneyin.";break;case"storage/quota-exceeded":N="Depolama alan doldu. Ltfen yneticinize bavurun.";break;case"storage/unauthenticated":case"storage/unauthorized":N="Yetkilendirme hatas. Ltfen tekrar giri yapn (Storage izin hatas).";break;default:N=`Ykleme baarsz (Hata Kodu: ${S.code}): ${S.message}`}t?.({percent:0,bytesTransferred:0,totalBytes:e.size,state:"error"}),b(new Error(N))},async()=>{try{const S=await c6(g.snapshot.ref);await od(zn(St,nc,s),{audioUrl:S,storagePath:l,recordingSize:e.size,status:"recorded",updatedAt:ps()}),t?.({percent:100,bytesTransferred:e.size,totalBytes:e.size,state:"success"}),y({downloadUrl:S,controller:_})}catch(S){b(S)}})})},zf=async s=>{const e=await ko(zn(St,nc,s));return e.exists()?{id:e.id,...e.data()}:null},Wx=async(s,e=20)=>{const t=jo(ti(St,nc),pr("teacherId","==",s),cx("createdAt","desc"),U3(e));return(await Do(t)).docs.map(o=>({id:o.id,...o.data()}))},_9=async(s,e)=>{await od(zn(St,nc,s),{...e,updatedAt:ps()})},Xx=async s=>{const e=await zf(s);e&&await y9(s,e),await fx(zn(St,nc,s))},y9=async(s,e)=>{try{if(e.storagePath)try{await rT(__(y_,e.storagePath));return}catch(t){t.code!=="storage/object-not-found"&&console.error("[SessionService] Delete by path error:",t)}try{const t=__(y_,`sessions/${s}`),a=await l6(t);a.items.length>0&&await Promise.all(a.items.map(o=>rT(o).catch(l=>{console.warn("[SessionService] Could not delete:",o.fullPath,l)})))}catch(t){t.code!=="storage/object-not-found"&&console.error("[SessionService] Folder cleanup error:",t)}}catch(t){console.error("[SessionService] Audio deletion error:",t)}},v9=s=>!s||s.includes("webm")?"webm":s.includes("mp3")||s.includes("mpeg")?"mp3":s.includes("wav")?"wav":s.includes("ogg")?"ogg":s.includes("mp4")||s.includes("m4a")?"m4a":"webm",b9=s=>{if(s===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],a=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,a)).toFixed(1))+" "+t[a]},fs={MULTIPLE_CHOICE:"multiple_choice",TRUE_FALSE:"true_false"},Lg={multiple_choice:"oktan Semeli",true_false:"Doru/Yanl"},sc=()=>`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,E9=(s,e)=>{const t={id:sc(),question:"",points:10,difficulty:"medium",order:e};switch(s){case fs.MULTIPLE_CHOICE:return{...t,type:fs.MULTIPLE_CHOICE,options:[{id:"opt_1",text:"",isCorrect:!0},{id:"opt_2",text:"",isCorrect:!1},{id:"opt_3",text:"",isCorrect:!1},{id:"opt_4",text:"",isCorrect:!1}],shuffleOptions:!0};case fs.TRUE_FALSE:return{...t,type:fs.TRUE_FALSE,correctAnswer:!0};default:throw new Error(`Unknown question type: ${s}`)}},Py={timeLimit:void 0,showTimeRemaining:!0,shuffleQuestions:!1,shuffleOptions:!0,showPoints:!0,showDifficulty:!1,showCorrectAnswers:"after_submission",showExplanations:"after_submission",showScore:"immediately",allowRetake:!1,maxAttempts:1,passingScore:60,allowSkip:!0,allowGoBack:!0,requireAllQuestions:!0},sr=s=>s.reduce((e,t)=>e+t.points,0),lo=s=>{const e={multiple_choice:1,true_false:.5};return Math.ceil(s.reduce((t,a)=>t+(e[a.type]||1),0))},Mo="quizzes",ic="quiz_submissions",mn=s=>s?s instanceof dt?s.toDate():s instanceof Date?s:typeof s=="string"||typeof s=="number"?new Date(s):s&&typeof s.toDate=="function"?s.toDate():new Date:new Date,Zx=async(s,e)=>{const t=(e.questions||[]).map((d,m)=>({...d,id:sc(),order:m,createdAt:new Date,updatedAt:new Date})),a=Fu({...Py,...e.settings}),o={title:e.title,description:e.description||"",sessionId:e.sessionId||null,classId:e.classId||null,classIds:e.classIds||[],teacherId:s,questions:Fu(t),settings:a,status:"draft",totalPoints:sr(t),estimatedDuration:lo(t),createdAt:ps(),updatedAt:ps()};return{id:(await om(ti(St,Mo),o)).id,...o,createdAt:new Date,updatedAt:new Date}},xr=async s=>{const e=zn(St,Mo,s),t=await ko(e);if(!t.exists())return null;const a=t.data();return{id:t.id,...a,createdAt:mn(a.createdAt),updatedAt:mn(a.updatedAt),publishedAt:a.publishedAt?mn(a.publishedAt):void 0,dueDate:a.dueDate?mn(a.dueDate):void 0}},Fu=s=>{if(s===null||typeof s!="object"||s instanceof Date||s.constructor&&(s.constructor.name==="Timestamp"||s.constructor.name==="FieldValue"||s._methodName))return s;if(Array.isArray(s))return s.map(t=>Fu(t));const e={};return Object.keys(s).forEach(t=>{const a=s[t];a!==void 0&&(e[t]=Fu(a))}),e},Vy=async()=>{const s=jo(ti(St,Mo),pr("status","==","published"));return(await Do(s)).docs.map(a=>({id:a.id,...a.data(),createdAt:mn(a.data().createdAt),updatedAt:mn(a.data().updatedAt)})).sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime())},Pg=async(s,e)=>{const a={...Fu(e),updatedAt:ps()};e.questions&&(a.totalPoints=sr(e.questions),a.estimatedDuration=lo(e.questions));const o=zn(St,Mo,s);await od(o,a)},Jx=async s=>{const e=zn(St,Mo,s);await fx(e)},mm=async s=>{const e=jo(ti(St,Mo),pr("teacherId","==",s),cx("createdAt","desc"));return(await Do(e)).docs.map(a=>{const o=a.data();return{id:a.id,...o,createdAt:mn(o.createdAt),updatedAt:mn(o.updatedAt)}})},T9=async(s,e)=>{const t={status:"published",publishedAt:ps(),updatedAt:ps()};await od(zn(St,Mo,s),t)},S9=async(s,e)=>{const a=(await Uy(s,e)).length+1,o=await xr(s);if(!o)throw new Error("Quiz not found");if(o.settings.maxAttempts&&a>o.settings.maxAttempts)throw new Error("Maximum attempts reached");const l={quizId:s,studentId:e,answers:[],totalPoints:o.totalPoints,status:"in_progress",attemptNumber:a,startedAt:ps()};return{id:(await om(ti(St,ic),l)).id,...l,startedAt:new Date}},A9=async s=>{const e=zn(St,ic,s),t=await ko(e);if(!t.exists())return null;const a=t.data();return{id:t.id,...a,startedAt:mn(a.startedAt),submittedAt:a.submittedAt?mn(a.submittedAt):void 0,gradedAt:a.gradedAt?mn(a.gradedAt):void 0}},Uy=async(s,e)=>{const t=jo(ti(St,ic),pr("quizId","==",s),pr("studentId","==",e));return(await Do(t)).docs.map(l=>({id:l.id,...l.data(),startedAt:mn(l.data().startedAt),submittedAt:l.data().submittedAt?mn(l.data().submittedAt):void 0})).sort((l,d)=>d.startedAt.getTime()-l.startedAt.getTime())},ew=async s=>{const e=jo(ti(St,ic),pr("studentId","==",s));return(await Do(e)).docs.map(o=>({id:o.id,...o.data(),startedAt:mn(o.data().startedAt),submittedAt:o.data().submittedAt?mn(o.data().submittedAt):void 0})).sort((o,l)=>{const d=o.submittedAt||o.startedAt;return(l.submittedAt||l.startedAt).getTime()-d.getTime()})},x9=async(s,e)=>{const t=zn(St,ic,s),a=await ko(t);if(!a.exists())throw new Error("Submission not found");const o=a.data(),l=await xr(o.quizId);if(!l)throw new Error("Quiz not found");const d=e.map(N=>{const D=l.questions.find($=>$.id===N.questionId);if(!D)return N;let P=!1,j=0;switch(D.type){case"multiple_choice":{const q=(D.options||[]).filter(z=>z.isCorrect).map(z=>z.id),H=N.selectedOptionIds||[];P=q.length===H.length&&q.every(z=>H.includes(z));break}case"true_false":{P=D.correctAnswer===N.booleanAnswer;break}}return P&&(j=D.points),{...N,isCorrect:P,pointsEarned:j,answeredAt:new Date}}),m=d.reduce((N,D)=>N+(D.pointsEarned||0),0),g=l.totalPoints||sr(l.questions),_=g>0?Math.round(m/g*100):0,y=l.settings?.passingScore?_>=l.settings.passingScore:!0,b=mn(o.startedAt),S=Math.floor((Date.now()-b.getTime())/1e3);await od(t,{answers:d,score:m,percentage:_,passed:y,status:"submitted",submittedAt:ps(),duration:S})},tw=async s=>{const e=jo(ti(St,ic),pr("quizId","==",s));return(await Do(e)).docs.map(o=>({id:o.id,...o.data(),startedAt:mn(o.data().startedAt),submittedAt:o.data().submittedAt?mn(o.data().submittedAt):void 0})).sort((o,l)=>{const d=o.submittedAt?.getTime()||0;return(l.submittedAt?.getTime()||0)-d})},w9="_container_1vko2_1",I9="_institutionInfo_1vko2_13",R9="_instIcon_1vko2_33",N9="_instLabel_1vko2_41",C9="_instName_1vko2_55",j9="_formCard_1vko2_67",k9="_formTitle_1vko2_83",D9="_inputGrid_1vko2_97",O9="_formActions_1vko2_111",M9="_listSection_1vko2_121",z9="_listTitle_1vko2_133",L9="_classList_1vko2_149",P9="_classItem_1vko2_161",V9="_className_1vko2_191",U9="_classBadge_1vko2_207",B9="_itemActions_1vko2_235",q9="_actionBtn_1vko2_245",H9="_emptyState_1vko2_297",en={container:w9,institutionInfo:I9,instIcon:R9,instLabel:N9,instName:C9,formCard:j9,formTitle:k9,inputGrid:D9,formActions:O9,listSection:M9,listTitle:z9,classList:L9,classItem:P9,className:V9,classBadge:U9,itemActions:B9,actionBtn:q9,delete:"_delete_1vko2_287",emptyState:H9},nw=({isOpen:s,onClose:e,institutionName:t,existingClasses:a,onAddClass:o,onDeleteClass:l,onUpdateClass:d})=>{const[m,g]=w.useState(""),[_,y]=w.useState(""),[b,S]=w.useState(null),N=()=>{if(!m||!_)return;const j=`${m}-${_.toUpperCase()}`;b?(d(b,j),S(null)):o(j),g(""),y("")},D=j=>{const[$,q]=j.split("-");g($||""),y(q||""),S(j)},P=()=>{S(null),g(""),y("")};return u.jsx(Mf,{isOpen:s,onClose:e,title:"Snf Ynetimi",size:"md",children:u.jsxs("div",{className:en.container,children:[u.jsxs("div",{className:en.institutionInfo,children:[u.jsx(ec,{size:20,className:en.instIcon}),u.jsx("span",{className:en.instLabel,children:"KURUM:"}),u.jsx("span",{className:en.instName,children:t})]}),u.jsxs("div",{className:en.formCard,children:[u.jsx("h3",{className:en.formTitle,children:b?"Snf Dzenle":"Yeni Snf Ekle"}),u.jsxs("div",{className:en.inputGrid,children:[u.jsx(Bu,{label:"Snf",placeholder:"rn: 9, 10, 11",value:m,onChange:j=>g(j.target.value)}),u.jsx(Bu,{label:"ube",placeholder:"rn: A, B, C",value:_,onChange:j=>y(j.target.value)})]}),u.jsxs("div",{className:en.formActions,children:[b&&u.jsx(je,{variant:"outline",onClick:P,children:"ptal"}),u.jsx(je,{variant:"primary",fullWidth:!0,leftIcon:b?u.jsx(dT,{size:18}):u.jsx(hm,{size:18}),onClick:N,disabled:!m||!_,children:b?"Gncelle":"Snf Kaydet"})]})]}),u.jsxs("div",{className:en.listSection,children:[u.jsx("h3",{className:en.listTitle,children:"Mevcut Snflar"}),u.jsx("div",{className:en.classList,children:a.length>0?a.map(j=>u.jsxs("div",{className:en.classItem,children:[u.jsxs("div",{className:en.className,children:[u.jsx("div",{className:en.classBadge,children:j.split("-")[0]}),u.jsxs("span",{children:[j," Snf"]})]}),u.jsxs("div",{className:en.itemActions,children:[u.jsx("button",{className:en.actionBtn,onClick:()=>D(j),title:"Dzenle",children:u.jsx(dT,{size:16})}),u.jsx("button",{className:`${en.actionBtn} ${en.delete}`,onClick:()=>l(j),title:"Sil",children:u.jsx(ud,{size:16})})]})]},j)):u.jsx("div",{className:en.emptyState,children:"Henz tanml bir snf bulunamad."})})]})]})})},fT=[{id:"student_9a_1_gen",email:"ali.yilmaz@dummy.com",displayName:"Ali Ylmaz",role:"student",studentNumber:"901",classId:"9-A",isActive:!0,photoURL:"https://api.dicebear.com/7.x/avataaars/svg?seed=Ali"},{id:"student_9a_2_gen",email:"ayse.demir@dummy.com",displayName:"Aye Demir",role:"student",studentNumber:"902",classId:"9-A",isActive:!0,photoURL:"https://api.dicebear.com/7.x/avataaars/svg?seed=Ayse"},{id:"student_9a_3_gen",email:"mehmet.oz@dummy.com",displayName:"Mehmet z",role:"student",studentNumber:"903",classId:"9-A",isActive:!0,photoURL:"https://api.dicebear.com/7.x/avataaars/svg?seed=Mehmet"},{id:"student_9a_4_gen",email:"zeynep.kaya@dummy.com",displayName:"Zeynep Kaya",role:"student",studentNumber:"904",classId:"9-A",isActive:!0,photoURL:"https://api.dicebear.com/7.x/avataaars/svg?seed=Zeynep"}],sw=({onDataGenerated:s})=>{const{user:e}=$t(),[t,a]=w.useState(!1),[o,l]=w.useState(null),d=async()=>{if(!e||!e.institutionId){l("Hata: Kurum ID bulunamad. Ltfen giri yapn.");return}a(!0),l("renciler oluturuluyor...");try{for(const y of fT){const b={...y,institutionId:e.institutionId,createdAt:ps(),updatedAt:ps()};await hx(zn(St,"users",y.id),b)}l("Snavlar getiriliyor...");const g=await Vy();if(g.length===0){l("Uyar: Yaynlanm snav bulunamad. Ltfen nce snav yaynlayn."),a(!1);return}l(`${g.length} snav iin cevaplar retiliyor...`);let _=0;for(const y of g)for(const b of fT)if(Math.random()>.1){const S=m(y,b.id);await om(ti(St,"quiz_submissions"),S),_++}l(`Baarl! 4 renci ve ${_} snav sonucu oluturuldu.`),s&&s()}catch(g){console.error("Data generation error:",g),l(`Hata: ${g.message}`)}finally{a(!1)}},m=(g,_)=>{const y=.3+Math.random()*.65,b=g.questions.map(H=>{const z=Math.random()<y;let ie=0,he=[],O=null;if(H.type==="multiple_choice"){const I=H.options.filter(L=>L.isCorrect),C=H.options.filter(L=>!L.isCorrect);z&&I.length>0?he=[I[0].id]:C.length>0&&(he=[C[Math.floor(Math.random()*C.length)].id])}else if(H.type==="true_false"){const I=H.correctAnswer;O=z?I:!I}return z&&(ie=H.points),{questionId:H.id,questionType:H.type,selectedOptionIds:he,booleanAnswer:O,isCorrect:z,pointsEarned:ie,answeredAt:new Date,timeSpent:Math.floor(Math.random()*60)+10}}),S=b.reduce((H,z)=>H+z.pointsEarned,0),N=g.totalPoints,D=N>0?Math.round(S/N*100):0,P=g.settings?.passingScore?D>=g.settings.passingScore:!0,j=Math.floor(Math.random()*7*24*60*60*1e3),$=new Date(Date.now()-j),q=new Date($.getTime()-g.estimatedDuration*60*1e3);return{quizId:g.id,studentId:_,answers:b,score:S,totalPoints:N,percentage:D,passed:P,status:"graded",attemptNumber:1,startedAt:dt.fromDate(q),submittedAt:dt.fromDate($),gradedAt:dt.fromDate($),duration:Math.floor(($.getTime()-q.getTime())/1e3)}};return u.jsxs("div",{style:{padding:"20px",background:"#f8fafc",border:"1px dashed #cbd5e1",borderRadius:"12px",margin:"20px 0"},children:[u.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:" Test Verisi Oluturucu"}),u.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"15px"},children:"9A snf iin 4 renci oluturur ve yaynlanm snavlar iin rastgele sonular retir."}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx(je,{variant:"primary",onClick:d,disabled:t,className:"vibrantAddBtn",children:t?"leniyor...":"Test Verisi ret"}),o&&u.jsx("span",{style:{fontSize:"14px",color:o.includes("Hata")?"#ef4444":"#10b981",fontWeight:500},children:o})]})]})},$9="_page_1q3i5_3",F9="_header_1q3i5_17",G9="_greeting_1q3i5_33",Q9="_teacherName_1q3i5_40",K9="_headerTitle_1q3i5_51",Y9="_subtitle_1q3i5_56",W9="_contextBar_1q3i5_69",X9="_contextItem_1q3i5_84",Z9="_contextLabel_1q3i5_92",J9="_vibrantAddBtn_1q3i5_102",eP="_liveRecordBtn_1q3i5_131",tP="_liveIcon_1q3i5_161",nP="_pulse_1q3i5_1",sP="_statsGrid_1q3i5_184",iP="_statCard_1q3i5_205",aP="_recorded_1q3i5_233",rP="_draft_1q3i5_239",oP="_approved_1q3i5_245",lP="_published_1q3i5_251",cP="_statIconWrapper_1q3i5_257",uP="_statInfo_1q3i5_276",dP="_statValue_1q3i5_284",hP="_statLabel_1q3i5_298",fP="_statBgIcon_1q3i5_312",mP="_loadingState_1q3i5_344",pP="_recentSection_1q3i5_351",gP="_recentHeader_1q3i5_366",_P="_recentTitle_1q3i5_380",yP="_viewAll_1q3i5_393",vP="_recentList_1q3i5_417",bP="_recentItem_1q3i5_423",EP="_recentItemIcon_1q3i5_442",TP="_recentItemContent_1q3i5_455",SP="_recentItemTitle_1q3i5_460",AP="_recentItemMeta_1q3i5_470",xP="_detailBadge_1q3i5_480",wP="_recentEmpty_1q3i5_490",IP="_emptyIllustration_1q3i5_501",RP="_floating_1q3i5_1",NP="_illustrationMain_1q3i5_533",CP="_illustrationFace_1q3i5_558",jP="_faceEye_1q3i5_563",kP="_illustrationLines_1q3i5_578",DP="_illuLine_1q3i5_593",OP="_illustrationSearch_1q3i5_607",MP="_emptyTitle_1q3i5_644",zP="_emptySubtitle_1q3i5_658",Pe={page:$9,header:F9,greeting:G9,teacherName:Q9,headerTitle:K9,subtitle:Y9,contextBar:W9,contextItem:X9,contextLabel:Z9,vibrantAddBtn:J9,liveRecordBtn:eP,liveIcon:tP,pulse:nP,statsGrid:sP,statCard:iP,recorded:aP,draft:rP,approved:oP,published:lP,statIconWrapper:cP,statInfo:uP,statValue:dP,statLabel:hP,statBgIcon:fP,loadingState:mP,recentSection:pP,recentHeader:gP,recentTitle:_P,viewAll:yP,recentList:vP,recentItem:bP,recentItemIcon:EP,recentItemContent:TP,recentItemTitle:SP,recentItemMeta:AP,detailBadge:xP,recentEmpty:wP,emptyIllustration:IP,floating:RP,illustrationMain:NP,illustrationFace:CP,faceEye:jP,illustrationLines:kP,illuLine:DP,illustrationSearch:OP,emptyTitle:MP,emptySubtitle:zP},LP=()=>{const s=$t(z=>z.user),e=$t(z=>z.setUser),t=wn(),[a,o]=w.useState([]),[l,d]=w.useState([]),[m,g]=w.useState(!0),[_,y]=w.useState("all"),[b,S]=w.useState(!1);w.useEffect(()=>{s?.assignedClasses?.length>0&&y("all")},[s]);const N=z=>{if(s){const ie=[...s.assignedClasses||[],z];e({...s,assignedClasses:ie}),_||y(z)}},D=z=>{if(s){const ie=s.assignedClasses.filter(he=>he!==z);e({...s,assignedClasses:ie}),_===z&&y(ie[0]||"")}},P=(z,ie)=>{if(s){const he=s.assignedClasses.map(O=>O===z?ie:O);e({...s,assignedClasses:he}),_===z&&y(ie)}};w.useEffect(()=>{(async()=>{if(s)try{g(!0);const[ie,he]=await Promise.all([Wx(s.id),mm(s.id)]);o(ie),d(he)}catch(ie){console.error("Error fetching dashboard data:",ie)}finally{g(!1)}})()},[s]);const j=w.useMemo(()=>!_||_==="all"?a:a.filter(z=>z.classId===_),[a,_]),$=w.useMemo(()=>!_||_==="all"?l:l.filter(z=>z.classId===_),[l,_]),q=w.useMemo(()=>$.filter(z=>z.status==="closed").sort((z,ie)=>new Date(ie.updatedAt).getTime()-new Date(z.updatedAt).getTime()).slice(0,5),[$]),H=[{icon:u.jsx(oo,{size:24}),label:"Kaytl Derslerim",value:j.filter(z=>z.status==="recorded").length.toString(),color:"recorded",path:`${_e.TEACHER.SESSIONS}?status=recorded`},{icon:u.jsx(dm,{size:24}),label:"Onay Bekleyenler",value:($.filter(z=>z.status==="draft").length+j.filter(z=>z.status!=="transcribed"?!1:!l.some(he=>he.sessionId===z.id)).length).toString(),color:"draft",path:`${_e.TEACHER.SESSIONS}?status=draft`},{icon:u.jsx(zi,{size:24}),label:"Yayna Hazr",value:$.filter(z=>z.status==="approved").length.toString(),color:"approved",path:`${_e.TEACHER.SESSIONS}?status=approved`},{icon:u.jsx(fm,{size:24}),label:"Aktif Snav",value:$.filter(z=>z.status==="published").length.toString(),color:"published",path:`${_e.TEACHER.QUIZZES}?status=published`}];return m?u.jsx("div",{className:Pe.page,children:u.jsxs("div",{className:Pe.loadingState,children:[u.jsx(_s,{size:"lg"}),u.jsx("p",{children:"Dashboard ykleniyor..."})]})}):u.jsxs("div",{className:Pe.page,children:[u.jsxs("div",{className:Pe.header,children:[u.jsxs("div",{className:Pe.headerTitle,children:[u.jsxs("h1",{className:Pe.greeting,children:["Merhaba, ",u.jsx("span",{className:Pe.teacherName,children:s?.displayName||"retmenim"})]}),u.jsx("p",{className:Pe.subtitle,children:"te bugnk durumunuz ve son aktiviteleriniz."})]}),u.jsxs("div",{className:Pe.contextBar,children:[u.jsxs("div",{className:Pe.contextItem,children:[u.jsx("label",{className:Pe.contextLabel,children:"KURUM SEN"}),u.jsx(Xs,{options:[{value:"enderun",label:"Enderun Koleji Merkez"}],value:"enderun",onChange:()=>{},icon:u.jsx(ec,{size:18})})]}),u.jsxs("div",{className:Pe.contextItem,children:[u.jsx("label",{className:Pe.contextLabel,children:"AKTF SINIF"}),u.jsx(Xs,{options:[{value:"all",label:"Tm Snflar"},...s?.assignedClasses?.map(z=>({value:z,label:z}))||[]],value:_,onChange:z=>y(z),placeholder:"Snf Sein"})]}),u.jsx(je,{variant:"primary",size:"md",leftIcon:u.jsx(hm,{size:20}),className:Pe.vibrantAddBtn,onClick:()=>S(!0),children:"Snf Ekle"}),u.jsx(je,{variant:"danger",size:"md",leftIcon:u.jsx(bz,{size:20,className:Pe.liveIcon}),className:Pe.liveRecordBtn,onClick:()=>t(_e.TEACHER.NEW_SESSION),children:"Canl Kayt Balat"})]})]}),u.jsx("div",{className:Pe.statsGrid,children:H.map((z,ie)=>u.jsxs("div",{className:`${Pe.statCard} ${Pe[z.color]}`,onClick:()=>t(z.path),children:[u.jsx("div",{className:Pe.statIconWrapper,children:u.jsx("div",{className:Pe.statIcon,children:z.icon})}),u.jsxs("div",{className:Pe.statContent,children:[u.jsx("div",{className:Pe.statValue,children:z.value}),u.jsx("div",{className:Pe.statLabel,children:z.label})]}),u.jsx("div",{className:Pe.statBgIcon,children:z.icon}),u.jsx("div",{className:Pe.cardOverlay})]},ie))}),u.jsxs("div",{className:Pe.recentSection,children:[u.jsxs("div",{className:Pe.recentHeader,children:[u.jsx("h2",{className:Pe.recentTitle,children:"Sonulanan Snavlar"}),u.jsxs("div",{className:Pe.viewAll,onClick:()=>t(`${_e.TEACHER.QUIZZES}?status=closed`),children:["Tmn Gr ",u.jsx(Ll,{size:16})]})]}),q.length===0?u.jsxs("div",{className:Pe.recentEmpty,children:[u.jsxs("div",{className:Pe.emptyIllustration,children:[u.jsxs("div",{className:Pe.illustrationMain,children:[u.jsxs("div",{className:Pe.illustrationFace,children:[u.jsx("div",{className:Pe.faceEye}),u.jsx("div",{className:Pe.faceEye})]}),u.jsxs("div",{className:Pe.illustrationLines,children:[u.jsx("div",{className:Pe.illuLine}),u.jsx("div",{className:Pe.illuLine})]})]}),u.jsx("div",{className:Pe.illustrationSearch,children:u.jsx(tc,{size:24})})]}),u.jsx("h3",{className:Pe.emptyTitle,children:"Henz Sonu Yok!"}),u.jsx("p",{className:Pe.emptySubtitle,children:"Henz sonulanm bir snav bulunmuyor."})]}):u.jsx("div",{className:Pe.recentList,children:q.map(z=>u.jsxs("div",{className:Pe.recentItem,onClick:()=>t(`${_e.TEACHER.QUIZZES}/${z.id}/results`),children:[u.jsx("div",{className:Pe.recentItemIcon,children:u.jsx(zi,{size:24})}),u.jsxs("div",{className:Pe.recentItemContent,children:[u.jsx("h3",{className:Pe.recentItemTitle,children:z.title}),u.jsxs("div",{className:Pe.recentItemMeta,children:[u.jsx("span",{children:z.classId||"Genel"}),u.jsx("span",{children:""}),u.jsxs("span",{children:[z.questions?.length||0," Soru"]}),u.jsx("span",{children:""}),u.jsx("span",{className:Pe.detailBadge,children:"Tamamland"})]})]}),u.jsx(Ll,{size:18,style:{color:"var(--color-text-tertiary)"}})]},z.id))})]}),u.jsx(nw,{isOpen:b,onClose:()=>S(!1),institutionName:"Enderun Koleji Merkez",existingClasses:s?.assignedClasses||[],onAddClass:N,onDeleteClass:D,onUpdateClass:P}),u.jsx(sw,{})]})},PP="_page_1f16f_3",VP="_header_1f16f_16",UP="_title_1f16f_23",BP="_teacherName_1f16f_30",qP="_headerTitle_1f16f_40",HP="_subtitle_1f16f_45",$P="_contextBar_1f16f_58",FP="_contextItem_1f16f_73",GP="_contextLabel_1f16f_81",QP="_sessionsList_1f16f_149",KP="_sessionItem_1f16f_155",YP="_quizItem_1f16f_168",WP="_sessionIcon_1f16f_199",XP="_quizIcon_1f16f_200",ZP="_sessionInfo_1f16f_212",JP="_sessionTitle_1f16f_219",eV="_sessionMeta_1f16f_226",tV="_badge_1f16f_235",nV="_badgeRecorded_1f16f_246",sV="_badgeTranscribed_1f16f_251",iV="_badgeDraft_1f16f_256",aV="_badgeApproved_1f16f_261",rV="_badgePublished_1f16f_266",oV="_menuBtn_1f16f_271",lV="_menuDropdown_1f16f_282",cV="_menuItem_1f16f_295",uV="_menuItemDanger_1f16f_314",dV="_statusWrapper_1f16f_318",hV="_sessionRight_1f16f_325",fV="_emptyState_1f16f_347",ze={page:PP,header:VP,title:UP,teacherName:BP,headerTitle:qP,subtitle:HP,contextBar:$P,contextItem:FP,contextLabel:GP,sessionsList:QP,sessionItem:KP,quizItem:YP,sessionIcon:WP,quizIcon:XP,sessionInfo:ZP,sessionTitle:JP,sessionMeta:eV,badge:tV,badgeRecorded:nV,badgeTranscribed:sV,badgeDraft:iV,badgeApproved:aV,badgePublished:rV,menuBtn:oV,menuDropdown:lV,menuItem:cV,menuItemDanger:uV,statusWrapper:dV,sessionRight:hV,emptyState:fV},mV={recorded:"Kaytl",transcribing:"Yazya Dklyor...",transcribed:"Analiz Edildi",processing:"leniyor...",draft:"Onay Bekliyor",approved:"Yayna Hazr",published:"Yaynland",assignment_generated:"dev Oluturuldu",completed:"Tamamland"},mT=s=>{if(!s)return"-";const e=s.toDate?s.toDate():new Date(s);return new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)},pV=s=>{switch(s){case"recorded":return ze.badgeRecorded;case"transcribed":return ze.badgeTranscribed;case"draft":return ze.badgeDraft;case"approved":return ze.badgeApproved;case"published":return ze.badgePublished;case"processing":case"transcribing":return ze.badgeProcessing;default:return ze.badgeDefault}},gV=s=>{switch(s){case"recorded":return ze.itemRecorded;case"transcribed":return ze.itemTranscribed;case"draft":return ze.itemDraft;case"approved":return ze.itemApproved;case"published":return ze.itemPublished;default:return""}},_V=()=>{const s=wn(),e=$t(A=>A.user),t=$t(A=>A.setUser),a=Mn(A=>A.addToast),[o,l]=w.useState([]),[d,m]=w.useState([]),[g,_]=w.useState(!0),[y]=w.useState(""),[b,S]=w.useState(null),N=Jn(),[D,P]=w.useState("all"),[j,$]=w.useState(!1),[q,H]=w.useState("all"),[z,ie]=w.useState(null);w.useEffect(()=>{const pe=new URLSearchParams(N.search).get("status");pe&&["recorded","transcribed","draft","approved"].includes(pe)?H(pe):H("all")},[N.search]),w.useEffect(()=>{e?.assignedClasses?.length>0&&P("all")},[e]);const he=A=>{if(e){const pe=[...e.assignedClasses||[],A];t({...e,assignedClasses:pe}),D||P(A)}},O=A=>{if(e){const pe=e.assignedClasses.filter(Ie=>Ie!==A);t({...e,assignedClasses:pe}),D===A&&P(pe[0]||"")}},I=(A,pe)=>{if(e){const Ie=e.assignedClasses.map(X=>X===A?pe:X);t({...e,assignedClasses:Ie}),D===A&&P(pe)}};w.useEffect(()=>{(async()=>{if(e)try{_(!0);const[pe,Ie]=await Promise.all([Wx(e.id),mm(e.id)]);l(pe),m(Ie)}catch(pe){console.error("Error loading data:",pe),a({type:"error",title:"Hata",message:"Veriler yklenemedi."})}finally{_(!1)}})()},[e,a]);const C=[...o.map(A=>({...A,type:"session"})),...d.map(A=>({...A,type:"quiz"}))].sort((A,pe)=>{const Ie=A.createdAt?.toDate?A.createdAt.toDate():new Date(A.createdAt||0);return(pe.createdAt?.toDate?pe.createdAt.toDate():new Date(pe.createdAt||0)).getTime()-Ie.getTime()}),L=C.filter(A=>{if(A.type==="quiz"&&A.status==="published"||A.type==="session"&&A.status==="transcribed"&&d.some(me=>me.sessionId===A.id))return!1;const pe=!D||D==="all"||A.classId===D;return!(A.title.toLowerCase().includes(y.toLowerCase())||A.type==="session"&&A.subject?.toLowerCase().includes(y.toLowerCase())||A.type==="quiz"&&A.subject?.toLowerCase().includes(y.toLowerCase()))||!pe?!1:q==="all"?!0:q==="recorded"?A.status==="recorded":q==="draft"?A.status==="draft"||A.status==="transcribed":q==="approved"?A.status==="approved":q==="published"?A.status==="published":!0}),k=(A,pe)=>{A.stopPropagation();const Ie=C.find(X=>X.id===pe);Ie&&(ie({id:Ie.id,type:Ie.type,title:Ie.title}),S(null))},U=async()=>{if(!z)return;const{id:A,type:pe}=z;try{pe==="session"?(await Xx(A),l(Ie=>Ie.filter(X=>X.id!==A))):(await Jx(A),m(Ie=>Ie.filter(X=>X.id!==A))),a({type:"success",title:"Baarl",message:"Silme ilemi tamamland."})}catch{a({type:"error",title:"Hata",message:"Silme ilemi baarsz oldu."})}finally{ie(null)}};return w.useEffect(()=>{const A=()=>S(null);return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[]),u.jsxs("div",{className:ze.page,children:[u.jsxs("div",{className:ze.header,children:[u.jsxs("div",{className:ze.headerTitle,children:[u.jsxs("h1",{className:ze.title,children:["Merhaba, ",u.jsx("span",{className:ze.teacherName,children:e?.displayName||"retmenim"})]}),u.jsx("p",{className:ze.subtitle,children:"te bugnk durumunuz ve son aktiviteleriniz."})]}),u.jsxs("div",{className:ze.contextBar,children:[u.jsxs("div",{className:ze.contextItem,children:[u.jsx("label",{className:ze.contextLabel,children:"KURUM SEN"}),u.jsx(Xs,{options:[{value:"enderun",label:"Enderun Koleji Merkez"}],value:"enderun",onChange:()=>{},icon:u.jsx(ec,{size:18})})]}),u.jsxs("div",{className:ze.contextItem,children:[u.jsx("label",{className:ze.contextLabel,children:"AKTF SINIF"}),u.jsx(Xs,{options:[{value:"all",label:"Tm Snflar"},...e?.assignedClasses?.map(A=>({value:A,label:A}))||[]],value:D,onChange:A=>P(A),placeholder:"Snf Sein"})]}),u.jsxs("div",{className:ze.contextItem,children:[u.jsx("label",{className:ze.contextLabel,children:"DURUM FLTRES"}),u.jsx(Xs,{options:[{value:"all",label:"Hepsi"},{value:"recorded",label:"Kaytl"},{value:"draft",label:"Onay Bekliyor"},{value:"approved",label:"Yayna Hazr"}],value:q,onChange:A=>H(A),placeholder:"Durum Sein"})]})]})]}),g?u.jsx("div",{className:ze.emptyState,children:u.jsx(_s,{size:"lg"})}):L.length===0?u.jsxs("div",{className:ze.emptyState,children:[u.jsx("div",{style:{color:"var(--color-text-tertiary)",marginBottom:"16px"},children:u.jsx(oo,{size:48,strokeWidth:1})}),u.jsx("h3",{children:"Henz bir aktivite yok"}),u.jsx("p",{children:"Yeni bir ders kayd balatarak veya snav oluturarak balayabilirsiniz."}),u.jsx("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px"},children:u.jsx(je,{variant:"ghost",onClick:()=>s(_e.TEACHER.NEW_SESSION),leftIcon:u.jsx(oo,{size:20}),children:"Yeni Kayt"})})]}):u.jsx("div",{className:ze.sessionsList,children:L.map(A=>u.jsxs("div",{className:`${A.type==="quiz"?ze.quizItem:ze.sessionItem} ${gV(A.status)}`,onClick:()=>s(A.type==="quiz"?`${_e.TEACHER.QUIZZES}/${A.id}`:`${_e.TEACHER.SESSIONS}/${A.id}`),children:[u.jsxs("div",{className:A.type==="quiz"?ze.quizIcon:ze.sessionIcon,"data-icon-wrapper":!0,children:[A.status==="recorded"&&u.jsx(oo,{size:20,className:ze.icon}),A.status==="transcribed"&&u.jsx(tc,{size:20,className:ze.icon}),A.status==="draft"&&u.jsx(dm,{size:20,className:ze.icon}),A.status==="approved"&&u.jsx(zi,{size:20,className:ze.icon}),A.status==="published"&&u.jsx(fm,{size:20,className:ze.icon}),!["recorded","transcribed","draft","approved","published"].includes(A.status)&&(A.type==="quiz"?u.jsx(cd,{size:20}):u.jsx(oo,{size:20,className:ze.icon}))]}),u.jsxs("div",{className:ze.sessionInfo,children:[u.jsx("div",{className:ze.sessionTitle,children:A.title.includes("-")?A.title.split("-").slice(1).join("-").trim():A.title}),u.jsx("div",{className:ze.sessionMeta,children:A.type==="session"?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:A.subject||(A.title.includes("-")?A.title.split("-")[0].trim():"Genel")}),u.jsx("span",{children:"  "}),u.jsx("span",{children:mT(A.createdAt)})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:A.subject||(A.title.includes("-")?A.title.split("-")[0].trim():"Genel")}),u.jsx("span",{children:"  "}),u.jsx("span",{children:mT(A.createdAt)}),u.jsx("span",{children:"  "}),u.jsxs("span",{children:[A.questions?.length||0," Soru"]})]})}),u.jsx("div",{className:ze.statusWrapper,children:u.jsx("span",{className:`${ze.badge} ${pV(A.status)}`,children:mV[A.status]})})]}),u.jsxs("div",{className:ze.sessionRight,children:[A.status==="transcribed"&&u.jsx(je,{variant:"ghost",size:"sm",className:ze.actionBtnTranscribed,onClick:pe=>{pe.stopPropagation(),s(`${_e.TEACHER.SESSIONS}/${A.id}`)},rightIcon:u.jsx(Ll,{size:16}),children:"ncele"}),A.status==="draft"&&u.jsx(je,{variant:"ghost",size:"sm",className:ze.actionBtnPrimary,onClick:pe=>{pe.stopPropagation(),s(`${_e.TEACHER.QUIZZES}/${A.id}`)},rightIcon:u.jsx(Ll,{size:16}),children:"Onayla"}),A.status==="approved"&&u.jsx(je,{variant:"ghost",size:"sm",className:ze.actionBtnSuccess,onClick:pe=>{pe.stopPropagation(),s(`${_e.TEACHER.QUIZZES}/${A.id}`)},rightIcon:u.jsx(Ll,{size:16}),children:"Yaynla"}),A.status==="published"&&u.jsx(je,{variant:"ghost",size:"sm",className:ze.actionBtnGhost,onClick:pe=>{pe.stopPropagation(),s(`${_e.TEACHER.QUIZZES}/${A.id}/results`)},children:"Sonular"}),u.jsxs("div",{style:{position:"relative"},onClick:pe=>pe.stopPropagation(),children:[u.jsx("button",{className:ze.menuBtn,onClick:()=>S(b===A.id?null:A.id),children:u.jsx(Vx,{size:20})}),b===A.id&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"fixed",inset:0,zIndex:99},onClick:()=>S(null)}),u.jsxs("div",{className:ze.menuDropdown,children:[u.jsx("button",{className:ze.menuItem,onClick:()=>s(A.type==="quiz"?`${_e.TEACHER.QUIZZES}/${A.id}`:`${_e.TEACHER.SESSIONS}/${A.id}`),children:A.type==="quiz"?"Dzenle":"Grntle"}),u.jsx("button",{className:`${ze.menuItem} ${ze.menuItemDanger}`,onClick:pe=>k(pe,A.id),children:"Sil"})]})]})]})]})]},A.id))}),u.jsx(nw,{isOpen:j,onClose:()=>$(!1),institutionName:"Enderun Koleji Merkez",existingClasses:e?.assignedClasses||[],onAddClass:he,onDeleteClass:O,onUpdateClass:I}),u.jsx(Ly,{isOpen:!!z,onClose:()=>ie(null),onConfirm:U,title:z?.type==="session"?"Analizi Sil":"Snav Sil",message:`${z?.title} ${z?.type==="session"?"analizini":"snavn"} ve tm verilerini silmek istediinize emin misiniz?`,confirmText:"Sil",isLoading:g})]})},yV="enderunlala_recordings",vV=1,gr="audio_chunks",_r="recording_meta",dd=()=>new Promise((s,e)=>{const t=indexedDB.open(yV,vV);t.onerror=()=>e(t.error),t.onsuccess=()=>s(t.result),t.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(gr)||o.createObjectStore(gr,{keyPath:"id",autoIncrement:!0}),o.objectStoreNames.contains(_r)||o.createObjectStore(_r,{keyPath:"key"})}}),bV=async s=>{if(s.length===0)return;const e=await dd(),t=e.transaction(gr,"readwrite"),a=t.objectStore(gr);for(const o of s)a.add({data:o,timestamp:Date.now()});return new Promise((o,l)=>{t.oncomplete=()=>{e.close(),o()},t.onerror=()=>{e.close(),l(t.error)}})},EV=async s=>{const e=await dd(),t=e.transaction(_r,"readwrite");return t.objectStore(_r).put({key:"current",...s}),new Promise((a,o)=>{t.oncomplete=()=>{e.close(),a()},t.onerror=()=>{e.close(),o(t.error)}})},T_=async()=>{const s=await dd(),a=s.transaction(gr,"readonly").objectStore(gr).getAll();return new Promise((o,l)=>{a.onsuccess=()=>{s.close();const d=a.result||[];o(d.map(m=>m.data))},a.onerror=()=>{s.close(),l(a.error)}})},iw=async()=>{const s=await dd(),a=s.transaction(_r,"readonly").objectStore(_r).get("current");return new Promise((o,l)=>{a.onsuccess=()=>{s.close(),o(a.result?{duration:a.result.duration,startedAt:a.result.startedAt}:null)},a.onerror=()=>{s.close(),l(a.error)}})},Vg=async()=>{const s=await dd(),e=s.transaction([gr,_r],"readwrite");return e.objectStore(gr).clear(),e.objectStore(_r).clear(),new Promise((t,a)=>{e.oncomplete=()=>{s.close(),t()},e.onerror=()=>{s.close(),a(e.error)}})},TV=async()=>{try{return await iw()?(await T_()).length>0:!1}catch{return!1}},SV=1e3,AV=3e4,xV=5e3,wV=()=>{const[s,e]=w.useState({isRecording:!1,isPaused:!1,duration:0,audioBlob:null,audioUrl:null,error:null,hasRecovery:!1,chunksSaved:0,isRecovering:!1}),t=w.useRef(null),a=w.useRef([]),o=w.useRef([]),l=w.useRef(null),d=w.useRef(null),m=w.useRef(null),g=w.useRef(null),_=w.useRef(null),y=w.useRef(null),b=w.useRef(0),S=w.useRef(0);w.useEffect(()=>{(async()=>{try{await TV()&&e(A=>({...A,hasRecovery:!0}))}catch{}})()},[]),w.useEffect(()=>{const k=U=>{if(s.isRecording||s.audioBlob)return U.preventDefault(),""};return window.addEventListener("beforeunload",k),()=>window.removeEventListener("beforeunload",k)},[s.isRecording,s.audioBlob]),w.useEffect(()=>()=>{d.current&&clearInterval(d.current),m.current&&clearInterval(m.current),g.current&&clearInterval(g.current),l.current&&l.current.getTracks().forEach(k=>k.stop()),_.current&&_.current.close().catch(()=>{})},[]);const N=w.useCallback(async()=>{if(o.current.length===0)return;const k=[...o.current];o.current=[];try{await bV(k),b.current+=k.length,e(U=>({...U,chunksSaved:b.current}))}catch(U){console.error("[AudioRecorder] IndexedDB flush error:",U),o.current=[...k,...o.current]}},[]),D=w.useCallback(async()=>{try{await EV({duration:S.current,startedAt:Date.now()-S.current*1e3})}catch(k){console.error("[AudioRecorder] Meta save error:",k)}},[]),P=w.useCallback(()=>{d.current=setInterval(()=>{S.current+=1,e(k=>({...k,duration:k.duration+1}))},1e3)},[]),j=w.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),$=w.useCallback(()=>{m.current=setInterval(()=>{N()},AV),g.current=setInterval(()=>{D()},xV)},[N,D]),q=w.useCallback(()=>{m.current&&(clearInterval(m.current),m.current=null),g.current&&(clearInterval(g.current),g.current=null)},[]),H=w.useCallback(async()=>{try{s.audioUrl&&URL.revokeObjectURL(s.audioUrl),a.current=[],o.current=[],b.current=0,S.current=0,await Vg().catch(()=>{});const k=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});l.current=k,_.current=new AudioContext,y.current=_.current.createAnalyser(),y.current.fftSize=256,_.current.createMediaStreamSource(k).connect(y.current);let A="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(A)||(A="audio/webm",MediaRecorder.isTypeSupported(A)||(A=""));const pe=new MediaRecorder(k,{...A?{mimeType:A}:{}});t.current=pe,pe.ondataavailable=Ie=>{Ie.data.size>0&&(a.current.push(Ie.data),o.current.push(Ie.data))},pe.onstop=async()=>{await N().catch(()=>{}),await D().catch(()=>{});let Ie;try{const Ae=await T_();Ie=Ae.length>0?Ae:a.current}catch{Ie=a.current}const X=new Blob(Ie,{type:pe.mimeType||"audio/webm"}),me=URL.createObjectURL(X);e(Ae=>({...Ae,isRecording:!1,isPaused:!1,audioBlob:X,audioUrl:me})),l.current&&l.current.getTracks().forEach(Ae=>Ae.stop()),a.current=[],o.current=[]},pe.start(SV),P(),$(),e(Ie=>({...Ie,isRecording:!0,isPaused:!1,duration:0,audioBlob:null,audioUrl:null,error:null,hasRecovery:!1,chunksSaved:0}))}catch(k){console.error("[AudioRecorder] Recording start error:",k);let U="Ses kayd balatlamad.";k.name==="NotAllowedError"?U="Mikrofon eriimi reddedildi. Ltfen tarayc ayarlarndan izin verin.":k.name==="NotFoundError"?U="Mikrofon bulunamad. Ltfen bir mikrofon balayn.":k.name==="NotReadableError"?U="Mikrofon baka bir uygulama tarafndan kullanlyor.":k.name==="OverconstrainedError"&&(U="Mikrofon istenen zellikleri desteklemiyor. Farkl bir mikrofon deneyin."),e(A=>({...A,error:`${U} (${k.name||k.message})`}))}},[s.audioUrl,P,$,N,D]),z=w.useCallback(()=>{t.current&&t.current.state!=="inactive"&&(t.current.stop(),j(),q())},[j,q]),ie=w.useCallback(()=>{t.current&&s.isRecording&&!s.isPaused&&(t.current.pause(),j(),N().catch(()=>{}),D().catch(()=>{}),e(k=>({...k,isPaused:!0})))},[s.isRecording,s.isPaused,j,N,D]),he=w.useCallback(()=>{t.current&&s.isRecording&&s.isPaused&&(t.current.resume(),P(),e(k=>({...k,isPaused:!1})))},[s.isRecording,s.isPaused,P]),O=w.useCallback(async()=>{s.audioUrl&&URL.revokeObjectURL(s.audioUrl),await Vg().catch(()=>{}),a.current=[],o.current=[],b.current=0,S.current=0,e({isRecording:!1,isPaused:!1,duration:0,audioBlob:null,audioUrl:null,error:null,hasRecovery:!1,chunksSaved:0,isRecovering:!1})},[s.audioUrl]),I=w.useCallback(async()=>{e(k=>({...k,isRecovering:!0,error:null}));try{const[k,U]=await Promise.all([T_(),iw()]);if(k.length===0){e(X=>({...X,isRecovering:!1,hasRecovery:!1,error:"Kurtarlacak kayt bulunamad."}));return}const A=new Blob(k,{type:"audio/webm"}),pe=URL.createObjectURL(A),Ie=U?.duration||Math.floor(k.length);e(X=>({...X,isRecovering:!1,hasRecovery:!1,audioBlob:A,audioUrl:pe,duration:Ie,isRecording:!1,isPaused:!1})),console.log(`[AudioRecorder] Recovered ${k.length} chunks, ~${Ie}s`)}catch(k){console.error("[AudioRecorder] Recovery error:",k),e(U=>({...U,isRecovering:!1,error:"Kayt kurtarlrken hata olutu."}))}},[]),C=w.useCallback(async()=>{await Vg().catch(()=>{}),e(k=>({...k,hasRecovery:!1}))},[]),L=w.useCallback(()=>y.current,[]);return{...s,startRecording:H,stopRecording:z,pauseRecording:ie,resumeRecording:he,resetRecording:O,recoverRecording:I,dismissRecovery:C,getAnalyserNode:L}},IV="_controls_dcy2o_3",RV="_recordBtn_dcy2o_9",NV="_recordingControls_dcy2o_20",CV="_postRecordingControls_dcy2o_46",Zh={controls:IV,recordBtn:RV,recordingControls:NV,postRecordingControls:CV},jV=({isRecording:s,isPaused:e,hasRecording:t,isUploading:a=!1,onStart:o,onStop:l,onPause:d,onResume:m,onReset:g,onSave:_})=>u.jsxs("div",{className:Zh.controls,children:[!s&&!t&&u.jsx(je,{variant:"primary",size:"lg",onClick:o,leftIcon:u.jsx(oo,{size:20}),className:Zh.recordBtn,children:"Kayda Bala"}),s&&u.jsxs("div",{className:Zh.recordingControls,children:[e?u.jsx(je,{variant:"primary",size:"lg",onClick:m,leftIcon:u.jsx(Hx,{size:20}),children:"Devam Et"}):u.jsx(je,{variant:"secondary",size:"lg",onClick:d,leftIcon:u.jsx(qx,{size:20}),children:"Duraklat"}),u.jsx(je,{variant:"danger",size:"lg",onClick:l,leftIcon:u.jsx(kz,{size:20}),children:"Durdur"})]}),t&&!s&&u.jsxs("div",{className:Zh.postRecordingControls,children:[u.jsx(je,{variant:"ghost",size:"lg",onClick:g,leftIcon:u.jsx(Fx,{size:20}),children:"Yeniden Kaydet"}),u.jsx(je,{variant:"primary",size:"lg",onClick:_,leftIcon:u.jsx(Gx,{size:20}),isLoading:a,children:"Kaydet"})]})]}),kV="_timer_1j709_1",DV="_recording_1j709_12",OV="_paused_1j709_17",MV="_indicator_1j709_22",zV="_dot_1j709_37",LV="_time_1j709_1",PV="_status_1j709_65",so={timer:kV,recording:DV,paused:OV,indicator:MV,dot:zV,time:LV,status:PV},VV=({duration:s,isRecording:e,isPaused:t})=>{const a=o=>{const l=Math.floor(o/3600),d=Math.floor(o%3600/60),m=o%60;return l>0?`${l.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`:`${d.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`};return u.jsxs("div",{className:`${so.timer} ${e?so.recording:""} ${t?so.paused:""}`,children:[u.jsxs("div",{className:so.indicator,children:[e&&!t&&u.jsx("span",{className:so.dot}),u.jsx(Jl,{size:20})]}),u.jsx("span",{className:so.time,children:a(s)}),e&&u.jsx("span",{className:so.status,children:t?"Duraklatld":"Kayt yaplyor..."})]})},UV="_page_1todg_1",BV="_topNav_1todg_13",qV="_backBtn_1todg_21",HV="_headerClassSelect_1todg_44",$V="_pageTitle_1todg_57",FV="_mainContainer_1todg_81",GV="_recorderCard_1todg_101",QV="_visualizerContainer_1todg_126",KV="_micCircle_1todg_136",YV="_recording_1todg_150",WV="_pulseCircles_1todg_156",XV="_pulse1_1todg_165",ZV="_pulse2_1todg_166",JV="_timerWrapper_1todg_198",eU="_timerDisplay_1todg_206",tU="_timerHint_1todg_214",nU="_actionsWrapper_1todg_222",sU="_mainRecordBtn_1todg_232",iU="_recordDot_1todg_245",aU="_orDivider_1todg_269",rU="_uploadZone_1todg_287",oU="_uploadIconBox_1todg_305",lU="_uploadText_1todg_317",cU="_guideSection_1todg_330",uU="_guideHeader_1todg_334",dU="_guideTitle_1todg_339",hU="_iconCircle_1todg_349",fU="_steps_1todg_353",mU="_step_1todg_353",pU="_stepNumber_1todg_374",gU="_stepTitle_1todg_388",_U="_stepDesc_1todg_395",yU="_featureGrid_1todg_401",vU="_featureItem_1todg_408",bU="_featureIcon_1todg_420",EU="_pageFooter_1todg_426",TU="_recoveryBanner_1todg_437",SU="_offlineBanner_1todg_438",AU="_errorBox_1todg_439",Me={page:UV,topNav:BV,backBtn:qV,headerClassSelect:HV,pageTitle:$V,mainContainer:FV,recorderCard:GV,visualizerContainer:QV,micCircle:KV,recording:YV,pulseCircles:WV,pulse1:XV,pulse2:ZV,timerWrapper:JV,timerDisplay:eU,timerHint:tU,actionsWrapper:nU,mainRecordBtn:sU,recordDot:iU,orDivider:aU,uploadZone:rU,uploadIconBox:oU,uploadText:lU,guideSection:cU,guideHeader:uU,guideTitle:dU,iconCircle:hU,steps:fU,step:mU,stepNumber:pU,stepTitle:gU,stepDesc:_U,featureGrid:yU,featureItem:vU,featureIcon:bU,pageFooter:EU,recoveryBanner:TU,offlineBanner:SU,errorBox:AU},xU=()=>{const s=wn(),e=$t(M=>M.user),t=Mn(M=>M.addToast),[a,o]=w.useState(!1),[l,d]=w.useState(null),[m,g]=w.useState(null),[_,y]=w.useState(navigator.onLine),b=w.useRef(null),S=w.useRef(null),N=w.useRef(null),[D,P]=w.useState("all");w.useEffect(()=>{e?.assignedClasses?.length>0&&P(e.assignedClasses[0])},[e]);const{isRecording:j,isPaused:$,duration:q,audioBlob:H,audioUrl:z,error:ie,hasRecovery:he,isRecovering:O,startRecording:I,stopRecording:C,pauseRecording:L,resumeRecording:k,resetRecording:U,recoverRecording:A,dismissRecovery:pe}=wV();w.useEffect(()=>{const M=()=>{y(!0),b.current&&l?.state==="paused"&&(b.current.resume(),t({type:"info",title:"Balant Geldi",message:"Ykleme devam ettiriliyor..."}))},G=()=>{y(!1),b.current&&l?.state==="running"&&(b.current.pause(),t({type:"warning",title:"Balant Kesildi",message:"Ykleme duraklatld. Balant gelince devam edecek."}))};return window.addEventListener("online",M),window.addEventListener("offline",G),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",G)}},[l?.state,t]);const Ie=async(M,G)=>{if(e){o(!0),g(null),d(null),S.current=M;try{let J=G;J||(J=await p9(e.id,{title:`Ders Kayd - ${new Date().toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,duration:q||0,classId:D}),N.current=J);const{controller:se}=await g9(J,M,de=>{d(de)});b.current=se,t({type:"success",title:"Kayt Yklendi!",message:"AI imdi ses kaydnz analiz edecek."}),S.current=null,N.current=null,b.current=null,s(`${_e.TEACHER.SESSIONS}/${J}`)}catch(J){console.error("[NewSession] Upload error:",J),g(J.message||"Ykleme baarsz. Ltfen tekrar deneyin.")}finally{o(!1)}}},X=async()=>{!H||!e||await Ie(H)},me=async M=>{const G=M.target.files?.[0];if(!(!G||!e)){if(!G.type.startsWith("audio/")){t({type:"warning",title:"Uyar",message:"Ltfen geerli bir ses dosyas sein."});return}await Ie(G)}},Ae=async()=>{const M=S.current||H;if(!M){t({type:"error",title:"Hata",message:"Yeniden yklenecek kayt bulunamad."});return}await Ie(M,N.current||void 0)},ue=()=>{b.current&&(b.current.cancel(),b.current=null),o(!1),d(null),g(null)},we=M=>{if(M===0)return"0 B";const G=1024,J=["B","KB","MB","GB"],se=Math.floor(Math.log(M)/Math.log(G));return parseFloat((M/Math.pow(G,se)).toFixed(1))+" "+J[se]};return u.jsxs("div",{className:Me.page,children:[u.jsxs("div",{className:Me.topNav,children:[u.jsxs("button",{onClick:()=>s(_e.TEACHER.SESSIONS),className:Me.backBtn,children:[u.jsx(Ws,{size:18})," Geri Dn"]}),u.jsx("h1",{className:Me.pageTitle,children:"Yeni Ders Kayd"}),u.jsxs("div",{className:Me.headerClassSelect,children:[u.jsx("label",{children:"SINIF:"}),u.jsx(Xs,{options:[{value:"all",label:"Tm Snflar"},...e?.assignedClasses?.map(M=>({value:M,label:M}))||[]],value:D,onChange:M=>P(M)})]})]}),u.jsxs("main",{className:Me.mainContainer,children:[u.jsxs("section",{className:Me.recorderCard,children:[he&&!j&&!H&&u.jsxs("div",{className:Me.recoveryBanner,children:[u.jsx(So,{size:20,color:"#2563eb"}),u.jsxs("div",{className:Me.recoveryText,children:[u.jsx("strong",{children:"Kaydedilmemi kayt bulundu!"}),u.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[u.jsx(je,{variant:"primary",size:"sm",onClick:A,isLoading:O,children:"Kurtar"}),u.jsx(je,{variant:"ghost",size:"sm",onClick:pe,children:"Sil"})]})]})]}),!_&&u.jsxs("div",{className:Me.offlineBanner,children:[u.jsx(Wz,{size:20,color:"#d97706"}),u.jsx("span",{children:"nternet balants yok. Kayt yerel olarak korunuyor."})]}),(ie||m)&&u.jsxs("div",{className:Me.errorBox,children:[u.jsx(So,{size:20,color:"#dc2626"}),u.jsx("span",{children:ie||m}),!a&&m&&u.jsx(je,{size:"sm",variant:"ghost",onClick:Ae,style:{marginLeft:"auto"},children:u.jsx($x,{size:14})})]}),u.jsxs("div",{className:`${Me.visualizerContainer} ${j?Me.recording:""}`,children:[u.jsxs("div",{className:Me.pulseCircles,children:[u.jsx("div",{className:Me.pulse1}),u.jsx("div",{className:Me.pulse2})]}),u.jsx("div",{className:`${Me.micCircle} ${j?Me.recording:""}`,children:u.jsx(oo,{size:44})})]}),u.jsxs("div",{className:Me.timerWrapper,children:[u.jsx("div",{className:Me.timerDisplay,children:u.jsx(VV,{duration:q,isRecording:j,isPaused:$})}),u.jsx("p",{className:Me.timerHint,children:j?"Kayt Devam Ediyor":$?"Kayt Durduruldu":"Balamak iin butona dokun"})]}),u.jsxs("div",{className:Me.actionsWrapper,children:[z&&!j&&u.jsxs("div",{style:{width:"100%",marginBottom:"4px"},children:[u.jsx("audio",{controls:!0,src:z,style:{width:"100%",height:"44px",borderRadius:"12px"}}),H&&u.jsxs("div",{style:{fontSize:"12px",color:"#94A3B8",textAlign:"center",marginTop:"4px",fontWeight:600},children:["Boyut: ",we(H.size)]})]}),!a&&u.jsx("div",{style:{width:"100%"},children:!j&&!H?u.jsxs(je,{variant:"primary",size:"lg",className:Me.mainRecordBtn,onClick:I,children:[u.jsx("span",{className:Me.recordDot}),"Kayda Bala"]}):u.jsx(jV,{isRecording:j,isPaused:$,hasRecording:!!H,isUploading:a,onStart:I,onStop:C,onPause:L,onResume:k,onReset:U,onSave:X})}),a&&l&&u.jsxs("div",{className:Me.uploadBox,style:{width:"100%"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",fontSize:"15px",fontWeight:800},children:[u.jsx("span",{style:{color:"var(--color-primary)"},children:l.percent<100?"Buluta Aktarlyor...":"Analiz Hazrlanyor..."}),u.jsxs("span",{children:["%",l.percent]})]}),u.jsx("div",{style:{height:"10px",background:"var(--color-bg-light)",borderRadius:"10px",overflow:"hidden",border:"1px solid var(--color-border)"},children:u.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, var(--color-primary) 0%, #ec4899 100%)",width:`${l.percent}%`,transition:"width 0.4s cubic-bezier(0.1, 0.7, 0.1, 1)"}})}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"12px",fontSize:"13px",color:"var(--color-text-tertiary)",fontWeight:700},children:[u.jsxs("span",{children:[we(l.bytesTransferred)," / ",we(l.totalBytes)]}),u.jsx("button",{onClick:ue,style:{border:"none",background:"none",color:"#EF4444",fontWeight:800,cursor:"pointer",fontSize:"13px"},children:"ptali Durdur"})]})]}),!j&&!H&&!a&&!he&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:Me.orDivider,children:"VEYA"}),u.jsxs("div",{className:Me.uploadZone,onClick:()=>document.getElementById("audio-upload")?.click(),children:[u.jsx("input",{type:"file",id:"audio-upload",accept:"audio/*",hidden:!0,onChange:me}),u.jsx("div",{className:Me.uploadIconBox,children:u.jsx(Hz,{size:22})}),u.jsxs("div",{className:Me.uploadText,children:[u.jsx("strong",{children:"Dosya Ykle"}),u.jsx("p",{children:"Cihaznzdaki bir kayd sein"})]})]})]})]})]}),u.jsxs("section",{className:Me.guideSection,children:[u.jsx("div",{className:Me.guideHeader,children:u.jsxs("h2",{className:Me.guideTitle,children:[u.jsx(uT,{size:20,className:Me.iconCircle})," retim Sreci Nasl alr?"]})}),u.jsxs("div",{className:Me.steps,children:[u.jsxs("div",{className:Me.step,children:[u.jsx("div",{className:Me.stepNumber,children:"01"}),u.jsxs("div",{className:Me.stepContent,children:[u.jsx("h3",{className:Me.stepTitle,children:"Dersinizi Kaydedin"}),u.jsx("p",{className:Me.stepDesc,children:"Mikrofonunuzu an ve dersi normal aknda anlatn. Biz arka planda her eyi yksek kalitede kaydedelim."})]})]}),u.jsxs("div",{className:Me.step,children:[u.jsx("div",{className:Me.stepNumber,children:"02"}),u.jsxs("div",{className:Me.stepContent,children:[u.jsx("h3",{className:Me.stepTitle,children:"Yapay Zeka Dntrsn"}),u.jsx("p",{className:Me.stepDesc,children:"Kayt bittikten saniyeler sonra yapay zekamz u ilemleri gerekletirir:"}),u.jsxs("div",{className:Me.featureGrid,children:[u.jsxs("div",{className:Me.featureItem,children:[u.jsx(cd,{size:14,className:Me.featureIcon}),u.jsx("span",{children:"Yazya Dkme"})]}),u.jsxs("div",{className:Me.featureItem,children:[u.jsx(tc,{size:14,className:Me.featureIcon}),u.jsx("span",{children:"Ders zeti"})]}),u.jsxs("div",{className:Me.featureItem,children:[u.jsx(uT,{size:14,className:Me.featureIcon}),u.jsx("span",{children:"Ana Balklar"})]}),u.jsxs("div",{className:Me.featureItem,children:[u.jsx(Pl,{size:14,className:Me.featureIcon}),u.jsx("span",{children:"Snav Oluturma"})]})]})]})]})]})]})]}),u.jsx("footer",{className:Me.pageFooter,children:"Enderunlala AI  Akll renme Platformu"})]})},hd="AIzaSyC4uLXTp0j-C25n1ZkoSV7K-QWhs2_BVDw",fd="https://generativelanguage.googleapis.com/v1beta/models",wU=async s=>new Promise((e,t)=>{const a=new FileReader;a.onloadend=()=>{const o=a.result.split(",")[1];e(o)},a.onerror=t,a.readAsDataURL(s)}),IU=async s=>{const t=await(await fetch(s)).blob(),a=await wU(t),o=t.type||"audio/webm",l=await fetch(`${fd}/gemini-flash-latest:generateContent?key=${hd}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{inline_data:{mime_type:o,data:a}},{text:`Bu bir snf ortamnda yaplm ders kayddr. Ltfen bu ses kaydn Trke olarak yazya dk.

Kurallar:
1. retmenin anlattklarn ana metin olarak yaz
2. renci sorular veya yorumlar varsa [renci: ...] eklinde belirt
3. Anlalmayan ksmlar [anlalmyor] olarak iaretle
4. Grlt veya alakasz sesler iin [grlt] yaz
5. Konumac deiikliklerini paragraflarla ayr

Sadece transkripti yaz, yorum ekleme.`}]}],generationConfig:{temperature:.1,topP:.8,maxOutputTokens:8192}})}),d=await l.json();if(!l.ok)throw new Error(d.error?.message||`Transkripsiyon baarsz (Kod: ${l.status})`);const m=d.candidates?.[0]?.content?.parts?.[0]?.text||"";return{text:m,segments:RU(m),language:"tr",confidence:.85}},RU=s=>s.split(`

`).filter(t=>t.trim()).map((t,a)=>{const o=t.includes("[renci:");return{startTime:a*30,endTime:(a+1)*30,text:t.trim(),speaker:o?"student":"teacher"}}),NU=async s=>{const e=await fetch(`${fd}/gemini-flash-latest:generateContent?key=${hd}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Aadaki ders transkriptini analiz et ve JSON formatnda yant ver.

TRANSKRIPT:
${s}

u bilgileri kar:
1. title: Dersin ksa ve aklayc bal (max 60 karakter)
2. subject: Ders ad (Matematik, Fizik, Tarih, vb.)
3. summary: Derste anlatlanlarn 2-3 cmlelik zeti
4. keyTopics: Derste ilenen ana konular listesi (max 5 madde)
5. keyConcepts: rencilerin renmesi gereken kavramlar (her biri iin term, definition, importance)
6. gradeLevel: Tahmini snf seviyesi (rn: "9. snf", "Lise")

SADECE JSON dndr, baka aklama ekleme. Format:
{
  "title": "...",
  "subject": "...",
  "summary": "...",
  "keyTopics": ["...", "..."],
  "keyConcepts": [
    {"term": "...", "definition": "...", "importance": "high|medium|low"}
  ],
  "gradeLevel": "..."
}`}]}],generationConfig:{temperature:.3,topP:.9,maxOutputTokens:2048}})}),t=await e.json();if(!e.ok)throw new Error(t.error?.message||`Analiz baarsz (Kod: ${e.status})`);const o=(t.candidates?.[0]?.content?.parts?.[0]?.text||"{}").match(/\{[\s\S]*\}/),l=JSON.parse(o?o[0]:"{}");return{title:l.title||"simsiz Ders",subject:l.subject||"Genel",summary:l.summary||"",keyTopics:l.keyTopics||[],keyConcepts:l.keyConcepts||[],duration:0,gradeLevel:l.gradeLevel}},CU=async(s,e,t={})=>{const{questionCount:a=10,difficulty:o="medium",questionTypes:l=["multiple_choice","true_false"]}=t,d=await fetch(`${fd}/gemini-flash-latest:generateContent?key=${hd}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Aadaki ders ieriine dayal, RENCNN KONUYU KAVRAMASINI SALAYACAK pedagojik bir snav olutur.

DERS BLGS:
Konu: ${e.subject}
Balk: ${e.title}
zet: ${e.summary}
Anahtar Kavramlar: ${e.keyConcepts.map(S=>S.term).join(", ")}

TRANSKRIPT:
${s.substring(0,4e3)}...

NEML KURALLAR:
1. Sen bir retmensin ve amacn rencinin konuyu renip renmediini lmek.
2. ASLA "Bu derste ne anlatld?", "retmenin amac nedir?", "Derste hangi rnek verildi?" gibi derse dardan bakan meta-sorular sorma.
3. Sorular dorudan konunun kendisine, kavramlara ve uygulama alanlarna odaklanmal (rn: "Mitoz blnmenin evreleri nelerdir?", "Verilen denklemde X katr?").
4. Sorular 'Sen' diliyle veya dorudan bilgi sorusu olarak sor.
5. Bloom taksonomisine gre "Bilgi", "Kavrama" ve "Uygulama" dzeyinde sorular ret.

SINAV GEREKSNMLER:
- Soru says: ${a}
- Zorluk: ${o} (easy=kolay, medium=orta, hard=zor)
- Soru tipleri: ${l.join(", ")}

Her soru iin format kurallar:
1. multiple_choice: 4 k, 1 doru cevap. klar eldirici ve mantkl olmal.
2. true_false: Kesin yarg bildiren cmleler kullan.

JSON formatnda dndr:
{
  "questions": [
    {
      "id": "q1",
      "type": "multiple_choice", (veya true_false)
      "question": "Soru metni...",
      "options": [{"id": "opt1", "text": "...", "isCorrect": true}], (Sadece oktan semeli iin)
      "correctAnswer": true, (Sadece doru/yanl iin)
      "explanation": "renci yanl yaparsa konuyu retecek aklayc geri bildirim.",
      "points": 10,
      "relatedConcept": "lgili anahtar kavram"
    }
  ],
  "difficulty": "${o}",
  "estimatedTime": 15
}

SADECE JSON dndr.`}]}],generationConfig:{temperature:.7,topP:.9,maxOutputTokens:4096}})}),m=await d.json();if(!d.ok)throw new Error(m.error?.message||`Quiz oluturulamad (Kod: ${d.status})`);const _=(m.candidates?.[0]?.content?.parts?.[0]?.text||"{}").match(/\{[\s\S]*\}/),y=JSON.parse(_?_[0]:'{"questions":[]}');return{questions:(y.questions||[]).map(S=>{const N=sc(),D={...S,id:N,createdAt:new Date,updatedAt:new Date,points:S.points||10,difficulty:S.difficulty||o};return S.type==="multiple_choice"&&(D.options=Array.isArray(S.options)?S.options.map((P,j)=>typeof P=="string"?{id:`opt_${j}`,text:P,isCorrect:j===Number(S.correctAnswer)}:{...P,id:P.id||`opt_${j}`}):[]),D}),difficulty:y.difficulty||o,estimatedTime:y.estimatedTime||15}},jU=async(s,e)=>{e?.("Ses kayd yazya dklyor...",10);const t=await IU(s);e?.("Transkript tamamland",40),e?.("Ders ierii analiz ediliyor...",50);const a=await NU(t.text);e?.("Analiz tamamland",70),e?.("Quiz sorular oluturuluyor...",80);const o=await CU(t.text,a);return e?.("lem tamamland!",100),{transcript:t,analysis:a,quiz:o}},kU=async s=>{const{topic:e,questionCount:t,difficulty:a,questionTypes:o,additionalInstructions:l}=s,d=`
    Aadaki konu ve kriterlere gre, RENCNN KONUYU KAVRAMASINI SALAYACAK pedagojik bir snav olutur.
    
    KONU:
    ${e}
    
    KRTERLER:
    - Soru Says: ${t}
    - Zorluk Seviyesi: ${a} (easy=kolay, medium=orta, hard=zor)
    - Soru Tipleri: ${o.join(", ")}
    ${l?`- Ek Talimatlar: ${l}`:""}

    NEML KURALLAR:
    1. Sen bir snav hazrlayan retmensin. Meta-sorular (rn: "Bu konuda ne anlatlr?") sorma.
    2. Dorudan konuyu, formlleri, tarihleri veya neden-sonu ilikilerini sor.
    3. Sorular net, anlalr ve eitim mfredatna uygun olmal.
    4. "multiple_choice" sorularnda yanl klar (eldiriciler) mantkl olmal, bariz hatal olmamal.
    5. Sadece multiple_choice ve true_false tiplerini kullan.
    
    IKTI FORMATI (JSON Array):
    Her soru aadaki TypeScript arayzne uygun olmaldr. "id" alann bo brakabilirsin, ben dolduracam.
    
    TPLER:
    1. multiple_choice:
       {
         type: "multiple_choice",
         question: "Soru metni",
         points: 10,
         difficulty: "${a}",
         explanation: "Aklama",
         options: [
           { id: "opt1", text: "Seenek 1", isCorrect: false },
           { id: "opt2", text: "Seenek 2", isCorrect: true },
           ...
         ]
       }
       
    2. true_false:
       {
         type: "true_false",
         question: "Soru metni",
         points: 10,
         difficulty: "${a}",
         explanation: "Aklama",
         correctAnswer: true // veya false
       }

    SADECE JSON ARRAY DNDR. Baka metin ekleme.
    `;try{const m=await fetch(`${fd}/gemini-flash-latest:generateContent?key=${hd}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:d}]}],generationConfig:{temperature:.7,topP:.9,maxOutputTokens:8192}})}),g=await m.json().catch(()=>({}));if(!m.ok)throw new Error(g.error?.message||`AI servisi hata dndrd (Kod: ${m.status})`);const y=(g.candidates?.[0]?.content?.parts?.[0]?.text||"[]").match(/\[[\s\S]*\]/);return JSON.parse(y?y[0]:"[]").map(S=>{const N={...S,id:sc(),createdAt:new Date,updatedAt:new Date,points:S.points||10};return S.type==="multiple_choice"&&S.options&&(N.options=S.options.map((D,P)=>({...D,id:D.id||`opt_${P}`}))),N})}catch(m){throw console.error("AI Generation Error:",m),m}},DU=async s=>{const{question:e,errorMessage:t,instructions:a}=s,o=`
    Aadaki soru verisini incele ve belirtilen ynergelere gre DZELT veya YLETR.

    GRD SORUSU (JSON):
    ${JSON.stringify(e,null,2)}

    ${t?`HATA MESAJI (Bunu dzelt): ${t}`:""}
    ${a?`YNERGE (Buna gre iyiletir): ${a}`:"Bu soruyu daha net, anlalr ve pedagojik olarak daha kaliteli hale getir. klar glendir, aklamay detaylandr."}

    GREVLER:
    1. Eer JSON yaps bozuksa veya hatalysa (rn: options string gelmise), dzelt.
    2. Eer "multiple_choice" ise ve "options" string dizisi ise, nesne dizisine ({id, text, isCorrect}) evir.
    3. Eer veriler eksikse (rn: puan, zorluk), mantkl varsaylanlarla doldur.
    4. Soru metnini ve klar dilbilgisi asndan dzelt.
    5. "explanation" (aklama) alann eitici ve detayl hale getir.

    IKTI FORMATI (JSON):
    SADECE dzeltilmi/iyiletirilmi soru objesini (JSON) dndr. Baka hibir metin ekleme.
    {
      "id": "...",
      "type": "...",
      "question": "...",
      ...
    }
    `;try{const l=await fetch(`${fd}/gemini-flash-latest:generateContent?key=${hd}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}],generationConfig:{temperature:.3,topP:.8,maxOutputTokens:2048}})}),d=await l.json().catch(()=>({}));if(!l.ok)throw new Error(d.error?.message||`AI iyiletirme baarsz (Kod: ${l.status})`);const g=(d.candidates?.[0]?.content?.parts?.[0]?.text||"{}").match(/\{[\s\S]*\}/),_=JSON.parse(g?g[0]:"{}");return{..._,id:e.id||_.id||sc(),points:Number(_.points)||10}}catch(l){throw console.error("AI Improvement Error:",l),l}},OU="_page_1ssdo_5",MU="_navRow_1ssdo_71",zU="_backLink_1ssdo_79",LU="_titleRow_1ssdo_117",PU="_title_1ssdo_117",VU="_deleteBtn_1ssdo_175",UU="_metaRow_1ssdo_217",BU="_subjectBadge_1ssdo_233",qU="_badgeRecorded_1ssdo_257",HU="_badgeTranscribed_1ssdo_269",$U="_badgeCompleted_1ssdo_293",FU="_badgeDefault_1ssdo_329",GU="_dateMeta_1ssdo_339",QU="_playerCard_1ssdo_359",KU="_playButton_1ssdo_403",YU="_playerContent_1ssdo_451",WU="_playerLabel_1ssdo_465",XU="_waveformContainer_1ssdo_483",ZU="_waveformBar_1ssdo_499",JU="_active_1ssdo_513",eB="_paused_1ssdo_521",tB="_playerRight_1ssdo_549",nB="_unifiedCard_1ssdo_589",sB="_unifiedHeader_1ssdo_607",iB="_headerIcon_1ssdo_625",aB="_headerText_1ssdo_645",rB="_unifiedBody_1ssdo_671",oB="_analysisSection_1ssdo_695",lB="_sectionTag_1ssdo_705",cB="_lessonTitle_1ssdo_725",uB="_tagsValues_1ssdo_741",dB="_tagItem_1ssdo_753",hB="_tagLabel_1ssdo_765",fB="_tagValue_1ssdo_779",mB="_summaryBlock_1ssdo_797",pB="_label_1ssdo_809",gB="_verticalDivider_1ssdo_843",_B="_quizSection_1ssdo_873",yB="_quizStatsGrid_1ssdo_889",vB="_quizStat_1ssdo_889",bB="_qValue_1ssdo_927",EB="_qLabel_1ssdo_941",TB="_actionArea_1ssdo_955",SB="_primaryActionBtn_1ssdo_963",AB="_startCard_1ssdo_1125",xB="_processingCard_1ssdo_1127",wB="_errorCard_1ssdo_1129",IB="_startIcon_1ssdo_1167",ve={page:OU,navRow:MU,backLink:zU,titleRow:LU,title:PU,deleteBtn:VU,metaRow:UU,subjectBadge:BU,badgeRecorded:qU,badgeTranscribed:HU,badgeCompleted:$U,badgeDefault:FU,dateMeta:GU,playerCard:QU,playButton:KU,playerContent:YU,playerLabel:WU,waveformContainer:XU,waveformBar:ZU,active:JU,paused:eB,playerRight:tB,unifiedCard:nB,unifiedHeader:sB,headerIcon:iB,headerText:aB,unifiedBody:rB,analysisSection:oB,sectionTag:lB,lessonTitle:cB,tagsValues:uB,tagItem:dB,tagLabel:hB,tagValue:fB,summaryBlock:mB,label:pB,verticalDivider:gB,quizSection:_B,quizStatsGrid:yB,quizStat:vB,qValue:bB,qLabel:EB,actionArea:TB,primaryActionBtn:SB,startCard:AB,processingCard:xB,errorCard:wB,startIcon:IB},RB=()=>{const{id:s}=Qu(),e=wn(),t=Mn(J=>J.addToast),a=$t(J=>J.user),[o,l]=w.useState(!1),[d,m]=w.useState(null),[g,_]=w.useState(!0),[y,b]=w.useState("idle"),[S,N]=w.useState(0),[D,P]=w.useState(""),[j,$]=w.useState(!1),[q,H]=w.useState(null),[z,ie]=w.useState(null),[he,O]=w.useState(!1),I=w.useRef(null),[C,L]=w.useState(0),[k,U]=w.useState(0),A=()=>{I.current&&L(I.current.currentTime)},pe=()=>{I.current&&U(I.current.duration)},Ie=()=>{I.current&&(he?I.current.pause():I.current.play(),O(!he))},X=J=>{if(isNaN(J))return"00:00";const se=Math.floor(J/60),de=Math.floor(J%60);return`${se.toString().padStart(2,"0")}:${de.toString().padStart(2,"0")}`};w.useEffect(()=>{(async()=>{if(s)try{const se=await zf(s);m(se),se?.analysisResults?(H(se.analysisResults.analysis),ie(se.analysisResults.quiz),b("completed")):(se?.status==="transcribed"||se?.status==="completed")&&b("completed")}catch(se){console.error("Error loading session:",se),t({type:"error",title:"Hata",message:"Analiz yklenemedi."})}finally{_(!1)}})()},[s,t]);const me=w.useCallback(async()=>{if(!d?.audioUrl){t({type:"error",title:"Hata",message:"Ses kayd bulunamad."});return}b("transcribing");try{const J=await jU(d.audioUrl,(de,ye)=>{P(de),N(ye),ye<40?b("transcribing"):ye<70?b("analyzing"):ye<100&&b("generating")});H(J.analysis),ie(J.quiz),b("completed"),await _9(d.id,{title:J.analysis.title,subject:J.analysis.subject,status:"transcribed",analysisResults:{transcript:J.transcript,analysis:J.analysis,quiz:J.quiz}});const se=await zf(d.id);m(se),t({type:"success",title:"lem Tamamland!",message:"Ders kaydnz analiz edildi ve quiz tasla oluturuldu."})}catch(J){console.error("Processing error:",J),b("error"),t({type:"error",title:"lem Baarsz",message:J.message||"AI analizi srasnda bir hata olutu."})}},[d,t]),Ae=async()=>{if(!(!z||!a||!q))try{l(!0);const J=z.questions.map(ye=>{const ke={id:sc(),question:ye.question,points:ye.points,explanation:ye.explanation,difficulty:"medium",createdAt:new Date,updatedAt:new Date};return ye.type==="multiple_choice"?{...ke,type:fs.MULTIPLE_CHOICE,options:ye.options?.map((oe,fe)=>({id:oe.id||`opt_${fe}`,text:typeof oe=="string"?oe:oe.text||"",isCorrect:typeof oe=="object"?oe.isCorrect:fe===Number(ye.correctAnswer)}))||[]}:ye.type==="true_false"?{...ke,type:fs.TRUE_FALSE,correctAnswer:ye.correctAnswer}:ke}),se={title:`${q.subject} - ${q.title} Snav`,description:q.summary,questions:J,settings:Py,totalPoints:sr(J),estimatedDuration:lo(J),difficulty:z.difficulty,subject:q.subject,sessionId:d?.id,status:"draft",isPublic:!1},de=await Zx(a.id,se);t({type:"success",title:"Baarl",message:"Quiz tasla dzenleme iin oluturuldu."}),e(T6(_e.TEACHER.QUIZ_EDIT,{id:de.id}))}catch(J){console.error("Error creating quiz:",J),t({type:"error",title:"Hata",message:"Quiz oluturulamad."})}finally{l(!1)}},ue=()=>{const J=[{key:"transcribing",label:"Yazya Dkme",icon:cd},{key:"analyzing",label:"Analiz",icon:cT},{key:"generating",label:"Quiz Oluturma",icon:qu}],se=J.findIndex(de=>de.key===y);return u.jsxs("div",{className:ve.processingStatus,children:[u.jsxs("div",{className:ve.processingHeader,children:[u.jsx("div",{className:ve.processingIconWrapper,children:u.jsx(Pl,{size:32,color:"#9333EA"})}),u.jsx("h3",{className:ve.processingTitle,children:"AI Analiz Ediliyor"})]}),u.jsxs("div",{className:ve.progressContainer,children:[u.jsxs("div",{className:ve.progressLabel,children:[u.jsx("span",{children:D}),u.jsxs("span",{children:["%",S]})]}),u.jsx("div",{className:ve.progressBar,children:u.jsx("div",{className:ve.progressFill,style:{width:`${S}%`}})})]}),u.jsx("div",{className:ve.stepTimeline,children:J.map((de,ye)=>{const ke=de.icon,oe=de.key===y,fe=ye<se||y==="completed";return u.jsxs("div",{className:`${ve.stepItem} ${oe?ve.active:""} ${fe?ve.completed:""}`,children:[u.jsx("div",{className:ve.stepIcon,children:fe?u.jsx(zi,{size:24}):u.jsx(ke,{size:24})}),u.jsx("span",{className:ve.stepLabel,children:de.label})]},de.key)})})]})},we=()=>!q||!z?null:u.jsx("div",{className:ve.results,children:u.jsxs("div",{className:ve.unifiedCard,children:[u.jsxs("div",{className:ve.unifiedHeader,children:[u.jsx("div",{className:ve.headerIcon,children:u.jsx(Pl,{size:24,color:"#7C3AED"})}),u.jsxs("div",{className:ve.headerText,children:[u.jsx("h2",{children:"Ders Analizi ve Snav Plan"}),u.jsx("p",{children:"Yapay zeka tarafndan oluturulan ders zeti ve snav tasla."})]})]}),u.jsxs("div",{className:ve.unifiedBody,children:[u.jsxs("div",{className:ve.analysisSection,children:[u.jsx("span",{className:ve.sectionTag,children:"DERS BLGLER"}),u.jsx("h3",{className:ve.lessonTitle,children:q.title}),u.jsxs("div",{className:ve.tagsValues,children:[u.jsxs("div",{className:ve.tagItem,children:[u.jsx("span",{className:ve.tagLabel,children:"DERS"}),u.jsx("span",{className:ve.tagValue,children:q.subject})]}),q.gradeLevel&&u.jsxs("div",{className:ve.tagItem,children:[u.jsx("span",{className:ve.tagLabel,children:"SEVYE"}),u.jsx("span",{className:ve.tagValue,children:q.gradeLevel})]})]}),u.jsxs("div",{className:ve.summaryBlock,children:[u.jsx("span",{className:ve.label,children:"ZET"}),u.jsx("p",{children:q.summary})]})]}),u.jsx("div",{className:ve.verticalDivider}),u.jsxs("div",{className:ve.quizSection,children:[u.jsx("span",{className:ve.sectionTag,children:"SINAV TASLAI"}),u.jsxs("div",{className:ve.quizStatsGrid,children:[u.jsxs("div",{className:ve.quizStat,children:[u.jsx("span",{className:ve.qValue,children:z.questions.length}),u.jsx("span",{className:ve.qLabel,children:"SORU"})]}),u.jsxs("div",{className:ve.quizStat,children:[u.jsx("span",{className:ve.qValue,children:z.estimatedTime}),u.jsx("span",{className:ve.qLabel,children:"DAKKA"})]}),u.jsxs("div",{className:ve.quizStat,children:[u.jsx("span",{className:ve.qValue,children:z.difficulty==="easy"?"Kolay":z.difficulty==="medium"?"Orta":"Zor"}),u.jsx("span",{className:ve.qLabel,children:"ZORLUK"})]})]}),u.jsx("div",{className:ve.actionArea,children:u.jsx(je,{className:ve.primaryActionBtn,leftIcon:u.jsx(pz,{size:18}),onClick:Ae,disabled:o,isLoading:o,children:"Sorular Dzenle ve Snav Olutur"})})]})]})]})}),M=async()=>{d&&$(!0)},G=async()=>{if(d)try{await Xx(d.id),t({type:"success",title:"Baarl",message:"Analiz silindi."}),e(_e.TEACHER.SESSIONS)}catch(J){console.error("Error deleting session:",J),t({type:"error",title:"Hata",message:"Analiz silinemedi."})}finally{$(!1)}};return g?u.jsx("div",{className:ve.loadingState,children:u.jsx(_s,{size:"lg"})}):d?u.jsxs("div",{className:ve.page,children:[u.jsx("div",{className:ve.navRow,children:u.jsxs("button",{onClick:()=>e(_e.TEACHER.SESSIONS),className:ve.backLink,children:[u.jsx(Ws,{size:20})," Geri Dn"]})}),u.jsxs("div",{className:ve.titleRow,children:[u.jsx("h1",{className:ve.title,children:q?.title||d.title||"Ders Kayd"}),u.jsx("button",{className:ve.deleteBtn,onClick:M,children:u.jsx(ud,{size:20})})]}),u.jsxs("div",{className:ve.metaRow,children:[u.jsx("span",{className:`${ve.subjectBadge} ${d.status==="recorded"?ve.badgeRecorded:d.status==="transcribed"?ve.badgeTranscribed:d.status==="completed"?ve.badgeCompleted:ve.badgeDefault}`,style:{marginRight:"8px"},children:d.status==="recorded"?"KAYITLI":d.status==="transcribed"?"ANALZ EDLD":d.status==="completed"?"TAMAMLANDI":d.status.toUpperCase()}),u.jsx("span",{className:ve.subjectBadge,children:q?.subject||d.subject||"GENEL"}),u.jsxs("span",{className:ve.dateMeta,children:[u.jsx(ld,{size:16}),d.createdAt&&new Date(d.createdAt.toDate?d.createdAt.toDate():d.createdAt).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),d.audioUrl&&u.jsxs("div",{className:ve.playerCard,children:[u.jsx("button",{className:ve.playButton,onClick:Ie,children:he?u.jsx(qx,{size:32,fill:"white"}):u.jsx(Hx,{size:32,fill:"white"})}),u.jsxs("div",{className:ve.playerContent,children:[u.jsx("span",{className:ve.playerLabel,children:"DERS KAYDI"}),u.jsx("div",{className:ve.waveformContainer,children:Array.from({length:40}).map((J,se)=>u.jsx("div",{className:`${ve.waveformBar} ${he?ve.active:""} ${he?"":ve.paused}`,style:{height:`${Math.max(30,Math.random()*100)}%`,animationDelay:`${se*.05}s`}},se))})]}),u.jsx("div",{className:ve.playerRight,children:u.jsxs("span",{style:{minWidth:"100px",textAlign:"right"},children:[X(C)," / ",X(k)]})}),u.jsx("audio",{ref:I,src:d.audioUrl,onTimeUpdate:A,onLoadedMetadata:pe,onEnded:()=>O(!1),style:{display:"none"}})]}),y==="idle"&&d.status==="recorded"&&!q&&u.jsx("div",{className:`${ve.startCard} ios-card`,children:u.jsxs("div",{className:ve.startContent,children:[u.jsx("div",{className:ve.startIcon,children:u.jsx(Pl,{size:40})}),u.jsx("h2",{children:"AI Analiz"}),u.jsx("p",{children:"Ses kaydnz yklendi. imdi AI ile analiz ederek ders ieriini, anahtar kavramlar ve quiz sorularn otomatik oluturun."}),u.jsx(je,{variant:"primary",size:"lg",onClick:me,leftIcon:u.jsx(cT,{size:20}),style:{width:"100%"},children:"AI Analizi Balat"})]})}),y!=="idle"&&y!=="completed"&&y!=="error"&&u.jsx("div",{className:`${ve.processingCard} ios-card`,children:ue()}),y==="error"&&u.jsxs("div",{className:`${ve.errorCard} ios-card`,children:[u.jsx(So,{size:48,className:ve.errorIcon}),u.jsx("h2",{children:"lem Baarsz"}),u.jsx("p",{children:"AI analizi srasnda bir hata olutu. Ltfen tekrar deneyin."}),u.jsx(je,{variant:"primary",onClick:me,leftIcon:u.jsx($x,{size:18}),children:"Tekrar Dene"})]}),(y==="completed"||q)&&we(),u.jsx(Ly,{isOpen:j,onClose:()=>$(!1),onConfirm:G,title:"Analizi Sil",message:"Bu analizi ve ilikili tm verileri silmek istediinize emin misiniz? Bu ilem geri alnamaz.",confirmText:"Sil",isLoading:g})]}):u.jsxs("div",{className:ve.errorState,children:[u.jsx(So,{size:48}),u.jsx("h2",{children:"Analiz Bulunamad"}),u.jsx(je,{variant:"primary",onClick:()=>e(_e.TEACHER.SESSIONS),children:"AI Analizlere Dn"})]})},NB="_editorActions_1adg5_25",CB="_removeButton_1adg5_53",jB="_mcEditor_1adg5_108",kB="_optionsList_1adg5_114",DB="_optionItem_1adg5_120",OB="_optionLabel_1adg5_126",MB="_selected_1adg5_148",zB="_optionInput_1adg5_155",LB="_correct_1adg5_180",PB="_addOptionBtn_1adg5_185",VB="_tfEditor_1adg5_195",UB="_tfLabel_1adg5_201",BB="_tfOptions_1adg5_208",qB="_tfButton_1adg5_213",HB="_tfIcon_1adg5_244",ln={editorActions:NB,removeButton:CB,mcEditor:jB,optionsList:kB,optionItem:DB,optionLabel:OB,selected:MB,optionInput:zB,correct:LB,addOptionBtn:PB,tfEditor:VB,tfLabel:UB,tfOptions:BB,tfButton:qB,tfIcon:HB},$B=({question:s,onChange:e,readOnly:t=!1})=>{const a=w.useRef({}),o=y=>{y&&(y.style.height="auto",y.style.height=y.scrollHeight+"px")};w.useLayoutEffect(()=>{s.options.forEach(y=>{o(a.current[y.id])})},[s.options]);const l=(y,b)=>{if(t)return;const S=s.options.map(N=>N.id===y?{...N,...b}:N);e({options:S})},d=y=>{if(!t)if(s.allowMultiple){const b=s.options.map(S=>S.id===y?{...S,isCorrect:!S.isCorrect}:S);e({options:b})}else{const b=s.options.map(S=>({...S,isCorrect:S.id===y}));e({options:b})}},m=()=>{if(t)return;const y={id:`opt_${Date.now()}`,text:"",isCorrect:!1};e({options:[...s.options,y]})},g=y=>{if(t||s.options.length<=2)return;const b=s.options.filter(S=>S.id!==y);e({options:b})},_=["A","B","C","D","E","F","G","H"];return u.jsxs("div",{className:ln.mcEditor,children:[u.jsx("div",{className:ln.optionsList,children:s.options.map((y,b)=>u.jsxs("div",{className:`${ln.optionItem} ${y.isCorrect?ln.correct:""}`,children:[u.jsx("button",{type:"button",className:`${ln.optionLabel} ${y.isCorrect?ln.selected:""}`,onClick:()=>d(y.id),disabled:t,title:y.isCorrect?"Doru cevap":"Doru cevap olarak iaretle",children:y.isCorrect?u.jsx(To,{size:18}):_[b]}),u.jsx("textarea",{ref:S=>{a.current[y.id]=S},value:y.text,onChange:S=>l(y.id,{text:S.target.value}),placeholder:`${_[b]} kk...`,className:ln.optionInput,readOnly:t,rows:1}),!t&&u.jsx("button",{type:"button",onClick:()=>g(y.id),className:ln.removeButton,disabled:s.options.length<=2,title:"kk sil",children:u.jsx(ud,{size:18})})]},y.id))}),!t&&u.jsx("div",{className:ln.editorActions,children:u.jsx(je,{variant:"ghost",size:"sm",leftIcon:u.jsx(hm,{size:18}),onClick:m,disabled:s.options.length>=8,className:ln.addOptionBtn,children:"k Ekle"})})]})},FB=({question:s,onChange:e,readOnly:t=!1})=>{const a=o=>{t||e({correctAnswer:o})};return u.jsxs("div",{className:ln.tfEditor,children:[!t&&u.jsx("p",{className:ln.tfLabel,children:"Doru cevab sein:"}),u.jsxs("div",{className:ln.tfOptions,children:[u.jsxs("button",{type:"button",className:`${ln.tfButton} ${s.correctAnswer===!0?ln.selected:""}`,onClick:()=>a(!0),disabled:t,children:[u.jsx("span",{className:ln.tfIcon,children:""}),"DORU"]}),u.jsxs("button",{type:"button",className:`${ln.tfButton} ${s.correctAnswer===!1?ln.selected:""}`,onClick:()=>a(!1),disabled:t,children:[u.jsx("span",{className:ln.tfIcon,children:""}),"YANLI"]})]})]})},GB="_editor_1je92_3",QB="_field_1je92_10",KB="_fieldHeader_1je92_16",YB="_label_1je92_22",WB="_questionInput_1je92_56",XB="_readOnly_1je92_78",ZB="_noteBox_1je92_85",JB="_purple_1je92_95",e8="_noteTextarea_1je92_100",us={editor:GB,field:QB,fieldHeader:KB,label:YB,questionInput:WB,readOnly:XB,noteBox:ZB,purple:JB,noteTextarea:e8},t8=({question:s,onChange:e,readOnly:t=!1})=>{const a=w.useRef(null),o=w.useRef(null),l=m=>{m&&(m.style.height="auto",m.style.height=m.scrollHeight+"px")};w.useLayoutEffect(()=>{l(a.current),l(o.current)},[s.question,s.explanation]);const d=()=>{switch(s.type){case fs.MULTIPLE_CHOICE:return u.jsx($B,{question:s,onChange:e,readOnly:t});case fs.TRUE_FALSE:return u.jsx(FB,{question:s,onChange:e,readOnly:t});default:return u.jsx("div",{children:"Bilinmeyen soru tipi"})}};return u.jsxs("div",{className:`${us.editor} ${t?us.readOnly:""}`,children:[u.jsxs("div",{className:us.field,children:[u.jsx("div",{className:us.fieldHeader,children:u.jsx("label",{className:us.label,children:"SORU METN *"})}),t?u.jsx("div",{className:us.questionInput,style:{whiteSpace:"pre-wrap",border:"none",padding:0},children:s.question||"Soru metni belirtilmemi."}):u.jsx("textarea",{ref:a,value:s.question,onChange:m=>e({question:m.target.value}),placeholder:"Sorunuzu buraya yazn...",className:us.questionInput,rows:1})]}),u.jsx("div",{className:us.typeEditor,children:d()}),u.jsxs("div",{className:`${us.noteBox} ${us.purple}`,children:[u.jsx("label",{className:us.label,children:"AIKLAMA (CEVAP SONRASI GSTERLR)"}),t?u.jsx("div",{className:us.noteTextarea,style:{whiteSpace:"pre-wrap",border:"none",padding:0},children:s.explanation||"Aklama belirtilmemi."}):u.jsx("textarea",{ref:o,value:s.explanation||"",onChange:m=>e({explanation:m.target.value}),placeholder:"Bu sorunun cevabn aklayn...",className:us.noteTextarea,rows:1})]})]})},n8="_editor_100vb_3",s8="_stickyHeader_100vb_15",i8="_headerTop_100vb_31",a8="_headerActions_100vb_46",r8="_titleArea_100vb_52",o8="_titleTextarea_100vb_56",l8="_metaInfo_100vb_81",c8="_statusBadge_100vb_90",u8="_draft_100vb_98",d8="_approved_100vb_103",h8="_published_100vb_108",f8="_dot_100vb_113",m8="_metaStat_100vb_117",p8="_previewBtn_100vb_129",g8="_saveActionBtn_100vb_147",_8="_workflowBtn_100vb_170",y8="_workflowBtnPrimary_100vb_171",v8="_descriptionRow_100vb_201",b8="_descTextarea_100vb_206",E8="_questionsList_100vb_219",T8="_questionCard_100vb_226",S8="_expanded_100vb_235",A8="_questionHeader_100vb_240",x8="_questionLeft_100vb_249",w8="_dragHandle_100vb_258",I8="_qIdentifier_100vb_270",R8="_qMainContent_100vb_276",N8="_qNumber_100vb_284",C8="_qType_100vb_297",j8="_multiple_choice_100vb_306",k8="_true_false_100vb_311",D8="_fill_blank_100vb_316",O8="_open_ended_100vb_321",M8="_matching_100vb_326",z8="_qTextPreview_100vb_331",L8="_questionRight_100vb_348",P8="_qActions_100vb_363",V8="_qActionBtn_100vb_374",U8="_expandCircle_100vb_398",B8="_active_100vb_410",q8="_questionContent_100vb_416",H8="_slideDown_100vb_1",$8="_addSection_100vb_436",F8="_addBtnContainer_100vb_443",G8="_mainAddBtn_100vb_449",Q8="_typeMenu_100vb_470",K8="_springMenu_100vb_1",Y8="_decisionMenu_100vb_497",W8="_decisionItem_100vb_503",X8="_decisionIcon_100vb_522",Z8="_aiIcon_100vb_535",J8="_decisionText_100vb_540",e7="_menuHeader_100vb_558",t7="_backBtn_100vb_573",n7="_manualMenu_100vb_591",s7="_typeMenuItem_100vb_596",i7="_typeDot_100vb_618",a7="_aiMenu_100vb_633",r7="_aiInputWrapper_100vb_637",o7="_aiTopicInput_100vb_644",l7="_aiGenerateBtn_100vb_663",c7="_aiTypeSelector_100vb_670",u7="_aiLabel_100vb_677",d7="_aiTypeList_100vb_686",h7="_typeMenuItemActive_100vb_691",be={editor:n8,stickyHeader:s8,headerTop:i8,headerActions:a8,titleArea:r8,titleTextarea:o8,metaInfo:l8,statusBadge:c8,draft:u8,approved:d8,published:h8,dot:f8,metaStat:m8,previewBtn:p8,saveActionBtn:g8,workflowBtn:_8,workflowBtnPrimary:y8,descriptionRow:v8,descTextarea:b8,questionsList:E8,questionCard:T8,expanded:S8,questionHeader:A8,questionLeft:x8,dragHandle:w8,qIdentifier:I8,qMainContent:R8,qNumber:N8,qType:C8,multiple_choice:j8,true_false:k8,fill_blank:D8,open_ended:O8,matching:M8,qTextPreview:z8,questionRight:L8,qActions:P8,qActionBtn:V8,delete:"_delete_100vb_393",expandCircle:U8,active:B8,questionContent:q8,slideDown:H8,addSection:$8,addBtnContainer:F8,mainAddBtn:G8,typeMenu:Q8,springMenu:K8,decisionMenu:Y8,decisionItem:W8,decisionIcon:X8,aiIcon:Z8,decisionText:J8,menuHeader:e7,backBtn:t7,manualMenu:n7,typeMenuItem:s7,typeDot:i7,aiMenu:a7,aiInputWrapper:r7,aiTopicInput:o7,aiGenerateBtn:l7,aiTypeSelector:c7,aiLabel:u7,aiTypeList:d7,typeMenuItemActive:h7},f7=({quiz:s,onSave:e,onPreview:t,onPublish:a,onApprove:o,isLoading:l=!1,hideHeader:d=!1})=>{const[m,g]=w.useState(()=>{const oe=Object.values(fs);return{...s,questions:s.questions.filter(fe=>oe.includes(fe.type))}}),[_,y]=w.useState(m.questions[0]?.id||null),[b,S]=w.useState(!1),[N,D]=w.useState("decision"),[P,j]=w.useState(""),[$,q]=w.useState(fs.MULTIPLE_CHOICE),[H,z]=w.useState(!1),[ie,he]=w.useState(!1),[O,I]=w.useState(null),[C,L]=w.useState(null),[k,U]=w.useState(!1),A=Mn(oe=>oe.addToast),pe=w.useRef(null);w.useEffect(()=>{const oe=fe=>{pe.current&&!pe.current.contains(fe.target)&&(S(!1),D("decision"))};return b&&document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}},[b]),ao.useEffect(()=>{const oe=Object.values(fs);g({...s,questions:s.questions.filter(fe=>oe.includes(fe.type))}),he(!1)},[s]);const Ie=w.useCallback(oe=>{g(fe=>({...fe,...oe,updatedAt:new Date})),he(!0)},[]),X=w.useCallback(oe=>{const fe=E9(oe,m.questions.length);g(Ce=>({...Ce,questions:[...Ce.questions,fe],totalPoints:sr([...Ce.questions,fe]),estimatedDuration:lo([...Ce.questions,fe]),updatedAt:new Date})),y(fe.id),S(!1),he(!0)},[m.questions]),me=w.useCallback((oe,fe)=>{g(Ce=>{const ft=Ce.questions.map(an=>an.id===oe?{...an,...fe,updatedAt:new Date}:an);return{...Ce,questions:ft,totalPoints:sr(ft),estimatedDuration:lo(ft),updatedAt:new Date}}),he(!0)},[]),Ae=w.useCallback(oe=>{g(fe=>{const Ce=fe.questions.filter(ft=>ft.id!==oe).map((ft,an)=>({...ft,order:an}));return{...fe,questions:Ce,totalPoints:sr(Ce),estimatedDuration:lo(Ce),updatedAt:new Date}}),he(!0)},[]),ue=(oe,fe)=>{if(!k){oe.preventDefault();return}I(fe),oe.dataTransfer.effectAllowed="move",oe.dataTransfer.setData("text/plain",fe.toString());const Ce=oe.currentTarget;setTimeout(()=>{Ce.classList.add(be.dragging)},0)},we=(oe,fe)=>{oe.preventDefault(),oe.dataTransfer.dropEffect="move",C!==fe&&L(fe)},M=oe=>{oe.currentTarget.classList.remove(be.dragging),I(null),L(null),U(!1)},G=(oe,fe)=>{oe.preventDefault(),!(O===null||O===fe)&&(g(Ce=>{const ft=[...Ce.questions],[an]=ft.splice(O,1);return ft.splice(fe,0,an),{...Ce,questions:ft.map((qn,In)=>({...qn,order:In})),updatedAt:new Date}}),he(!0),I(null),L(null))},J=w.useCallback((oe,fe)=>{g(Ce=>{const ft=Ce.questions.findIndex(In=>In.id===oe);if(ft===-1)return Ce;const an=fe==="up"?ft-1:ft+1;if(an<0||an>=Ce.questions.length)return Ce;const qn=[...Ce.questions];return[qn[ft],qn[an]]=[qn[an],qn[ft]],{...Ce,questions:qn.map((In,wr)=>({...In,order:wr})),updatedAt:new Date}}),he(!0)},[]),se=w.useCallback(()=>{e(m),he(!1)},[m,e]),de=w.useCallback(()=>{t&&t(m)},[m,t]),ye=async()=>{if(!P.trim()){A({type:"warning",title:"Uyar",message:"Ltfen bir konu veya metin girin."});return}z(!0);try{const oe=await kU({topic:P,questionCount:1,difficulty:"medium",questionTypes:[$]});if(oe.length>0){const fe=oe[0];fe.order=m.questions.length,g(Ce=>({...Ce,questions:[...Ce.questions,fe],totalPoints:sr([...Ce.questions,fe]),estimatedDuration:lo([...Ce.questions,fe]),updatedAt:new Date})),y(fe.id),j(""),S(!1),D("decision"),he(!0),A({type:"success",title:"Baarl",message:"Soru AI tarafndan retildi."})}}catch(oe){console.error("AI error:",oe),A({type:"error",title:"Hata",message:oe.message||"Soru retilirken bir hata olutu."})}finally{z(!1)}},ke=()=>{S(!b),D("decision")};return u.jsxs("div",{className:be.editor,children:[!d&&u.jsxs("div",{className:be.stickyHeader,children:[u.jsxs("div",{className:be.headerTop,children:[u.jsxs("div",{className:be.titleArea,children:[u.jsx("textarea",{value:m.title,onChange:oe=>Ie({title:oe.target.value}),placeholder:"Quiz Bal",className:be.titleTextarea,readOnly:m.status==="published"||m.status==="closed",rows:2}),u.jsxs("div",{className:be.metaInfo,children:[u.jsx("span",{className:`${be.statusBadge} ${be[m.status]}`,children:m.status==="draft"?"ONAY BEKLYOR":m.status==="approved"?"YAYINA HAZIR":m.status==="published"?"YAYINLANDI":m.status==="closed"?"KAPALI":"ARV"}),u.jsx("span",{className:be.dot,children:""}),u.jsxs("span",{className:be.metaStat,children:[u.jsx(Hu,{size:14})," ",m.totalPoints," Puan"]}),u.jsx("span",{className:be.dot,children:""}),u.jsxs("span",{className:be.metaStat,children:[u.jsx(Jl,{size:14})," ~",m.estimatedDuration," dk"]})]})]}),u.jsxs("div",{className:be.headerActions,children:[u.jsx(je,{variant:"outline",size:"md",leftIcon:u.jsx(My,{size:18}),onClick:de,className:be.previewBtn,children:"nizle"}),m.status!=="published"&&m.status!=="closed"&&u.jsx(je,{variant:"primary",size:"md",leftIcon:u.jsx(Gx,{size:18}),onClick:se,disabled:l||!ie,className:be.saveActionBtn,children:"Kaydet"}),m.status==="draft"&&o&&u.jsx(je,{variant:"primary",size:"md",leftIcon:u.jsx(Hu,{size:18}),onClick:o,disabled:l||ie,className:be.workflowBtn,children:"Onayla"}),m.status==="approved"&&a&&u.jsx(je,{variant:"primary",size:"md",leftIcon:u.jsx(Qx,{size:18}),onClick:a,disabled:l||ie,className:be.workflowBtnPrimary,children:"Yaynla"})]})]}),u.jsx("div",{className:be.descriptionRow,children:u.jsx("textarea",{value:m.description||"",onChange:oe=>Ie({description:oe.target.value}),placeholder:"rencileriniz iin ksa bir aklama veya ynerge girin...",className:be.descTextarea,rows:1})})]}),u.jsx("div",{className:be.questionsList,children:m.questions.map((oe,fe)=>u.jsxs("div",{draggable:!l,onDragStart:Ce=>ue(Ce,fe),onDragOver:Ce=>we(Ce,fe),onDragEnd:M,onDrop:Ce=>G(Ce,fe),className:`
                            ${be.questionCard} 
                            ${_===oe.id?be.expanded:""}
                            ${C===fe&&O!==fe?be.dragOver:""}
                        `,children:[u.jsxs("div",{className:be.questionHeader,onClick:()=>y(_===oe.id?null:oe.id),children:[u.jsxs("div",{className:be.questionLeft,children:[m.status!=="published"&&m.status!=="closed"&&u.jsx("span",{className:be.dragHandle,onMouseDown:()=>U(!0),onMouseUp:()=>U(!1),children:u.jsx(WM,{size:16})}),u.jsxs("div",{className:be.qIdentifier,children:[u.jsx("span",{className:be.qNumber,children:fe+1}),u.jsx("span",{className:`${be.qType} ${be[oe.type]}`,children:Lg[oe.type]})]}),u.jsx("div",{className:be.qMainContent,children:u.jsx("span",{className:be.qTextPreview,children:oe.question||"Soru metni girilmedi..."})})]}),u.jsxs("div",{className:be.questionRight,children:[m.status!=="published"&&m.status!=="closed"&&u.jsxs("div",{className:be.qActions,children:[u.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),J(oe.id,"up")},disabled:fe===0,className:be.qActionBtn,children:u.jsx(mM,{size:14})}),u.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),J(oe.id,"down")},disabled:fe===m.questions.length-1,className:be.qActionBtn,children:u.jsx(uM,{size:14})}),u.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),Ae(oe.id)},className:`${be.qActionBtn} ${be.delete}`,children:u.jsx(ud,{size:14})})]}),u.jsx("div",{className:`${be.expandCircle} ${_===oe.id?be.active:""}`,children:u.jsx(Lx,{size:18})})]})]}),_===oe.id&&u.jsx("div",{className:be.questionContent,children:u.jsx(t8,{question:oe,onChange:Ce=>me(oe.id,Ce),readOnly:m.status==="published"||m.status==="closed"})})]},oe.id))}),m.status!=="published"&&m.status!=="closed"&&u.jsx("div",{className:be.addSection,children:u.jsxs("div",{className:be.addBtnContainer,ref:pe,children:[u.jsx(je,{variant:"outline",leftIcon:u.jsx(hm,{size:20}),onClick:ke,className:be.mainAddBtn,children:"Yeni Soru Ekle"}),b&&u.jsxs("div",{className:be.typeMenu,children:[N==="decision"&&u.jsxs("div",{className:be.decisionMenu,children:[u.jsxs("button",{className:be.decisionItem,onClick:()=>D("manual"),children:[u.jsx("div",{className:be.decisionIcon,children:u.jsx(Bz,{size:20})}),u.jsxs("div",{className:be.decisionText,children:[u.jsx("strong",{children:"Manuel Soru"}),u.jsx("span",{children:"Kendiniz yazn ve zelletirin"})]})]}),u.jsxs("button",{className:be.decisionItem,onClick:()=>D("ai"),children:[u.jsx("div",{className:`${be.decisionIcon} ${be.aiIcon}`,children:u.jsx(Pl,{size:20})}),u.jsxs("div",{className:be.decisionText,children:[u.jsx("strong",{children:"AI ile ret"}),u.jsx("span",{children:"Konu verin, GPT soruyu hazrlasn"})]})]})]}),N==="manual"&&u.jsxs("div",{className:be.manualMenu,children:[u.jsxs("div",{className:be.menuHeader,children:[u.jsx("button",{onClick:()=>D("decision"),className:be.backBtn,children:" Geri"}),u.jsx("span",{children:"Soru Tipi Sein"})]}),Object.entries(Lg).map(([oe,fe])=>u.jsxs("button",{className:be.typeMenuItem,onClick:()=>X(oe),children:[u.jsx("span",{className:`${be.typeDot} ${be[oe]}`}),fe]},oe))]}),N==="ai"&&u.jsxs("div",{className:be.aiMenu,children:[u.jsxs("div",{className:be.menuHeader,children:[u.jsx("button",{onClick:()=>D("decision"),className:be.backBtn,children:" Geri"}),u.jsx("span",{children:"AI Soru retici"})]}),u.jsxs("div",{className:be.aiInputWrapper,children:[u.jsxs("div",{className:be.aiTypeSelector,children:[u.jsx("label",{className:be.aiLabel,children:"Soru Tipi Sein:"}),u.jsx("div",{className:be.aiTypeList,children:Object.entries(Lg).map(([oe,fe])=>u.jsxs("button",{type:"button",className:`${be.typeMenuItem} ${$===oe?be.typeMenuItemActive:""}`,onClick:()=>q(oe),children:[u.jsx("span",{className:`${be.typeDot} ${be[oe]}`}),u.jsx("span",{style:{flex:1},children:fe}),$===oe&&u.jsx(To,{size:16,style:{color:"var(--color-primary)"}})]},oe))})]}),u.jsx("textarea",{value:P,onChange:oe=>j(oe.target.value),placeholder:"Soru ne hakknda olsun? (rn: 'Fotosentez evreleri blou')",className:be.aiTopicInput,rows:3}),u.jsx(je,{variant:"primary",size:"sm",fullWidth:!0,leftIcon:u.jsx(Pl,{size:16}),onClick:ye,isLoading:H,disabled:H,className:be.aiGenerateBtn,children:"Soruyu ret"})]})]})]})]})})]})},m7="_card_1fkds_3",p7="_questionText_1fkds_31",g7="_optionsList_1fkds_46",_7="_optionButton_1fkds_58",y7="_selected_1fkds_86",v7="_radioCircle_1fkds_97",b7="_correct_1fkds_120",E7="_incorrect_1fkds_125",T7="_textArea_1fkds_183",S7="_errorFallback_1fkds_407",A7="_errorHeader_1fkds_428",x7="_errorIcon_1fkds_436",w7="_errorBody_1fkds_440",Bt={card:m7,questionText:p7,optionsList:g7,optionButton:_7,selected:y7,radioCircle:v7,correct:b7,incorrect:E7,textArea:T7,errorFallback:S7,errorHeader:A7,errorIcon:x7,errorBody:w7},I7=({children:s,onFix:e,isUpdating:t,questionId:a})=>{const[o,l]=w.useState(!1),[d,m]=w.useState(!1),[g,_]=w.useState("");return w.useEffect(()=>{l(!1),m(!1),_("")},[a]),o?u.jsxs("div",{className:Bt.errorFallback,children:[u.jsxs("div",{className:Bt.errorHeader,children:[u.jsx(Kx,{className:Bt.errorIcon,size:32}),u.jsx("h3",{children:"Ooopps! Bu Soru Hatal retilmi"})]}),u.jsx("div",{className:Bt.errorBody,children:u.jsx("p",{children:"Bu soru AI tarafndan hatal bir formatta retildii iin grntlenemiyor."})}),e&&u.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column"},children:[d&&u.jsx("textarea",{value:g,onChange:y=>_(y.target.value),placeholder:"AI'ya zel bir talimatnz var m?...",className:Bt.textArea}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d&&u.jsx(je,{variant:"outline",onClick:()=>m(!1),children:"ptal"}),u.jsx(je,{variant:"primary",leftIcon:u.jsx(tc,{size:18}),onClick:()=>d?e(g):m(!0),isLoading:t,children:"AI ile yiletir"})]})]})]}):u.jsx(u.Fragment,{children:s})},By=s=>{const[e,t]=w.useState(!1),a=Mn(l=>l.addToast),o=async l=>{if(s.onQuestionUpdate){t(!0);try{const d=await DU({question:s.question,instructions:l||"Soru format bozuk. Ltfen geerli ve kaliteli bir soru formatna dntr."});s.onQuestionUpdate(d),a({type:"success",title:"Baarl",message:"Soru onarld ve gncellendi."})}catch(d){console.error("Fix error:",d),a({type:"error",title:"Hata",message:"Soru onarlamad."})}finally{t(!1)}}};return u.jsx(I7,{questionId:s.question.id,onFix:s.onQuestionUpdate?o:void 0,isUpdating:e,children:u.jsx(R7,{...s})})},R7=({question:s,answer:e,onAnswerChange:t,readOnly:a=!1,showFeedback:o=!1})=>{const l=()=>{const m=s;return m.options?u.jsx("div",{className:Bt.optionsList,children:m.options.map(g=>{const _=e===g.id,y=g.isCorrect;let b=`${Bt.optionButton} ${_?Bt.selected:""}`;return o&&(y?b+=` ${Bt.correct}`:_&&!y&&(b+=` ${Bt.incorrect}`)),u.jsxs("button",{className:b,onClick:()=>!a&&t(g.id),disabled:a,children:[u.jsxs("div",{className:Bt.radioCircle,children:[o&&y&&u.jsx(To,{size:14,strokeWidth:3,color:"#22c55e"}),o&&_&&!y&&u.jsx(Ao,{size:14,strokeWidth:3,color:"#ef4444"})]}),u.jsx("span",{children:g.text})]},g.id)})}):null},d=()=>{const m=s,g=[{id:"true",text:"Doru",value:!0},{id:"false",text:"Yanl",value:!1}];return u.jsx("div",{className:Bt.optionsList,children:g.map(_=>{const y=e===_.value,b=m.correctAnswer===_.value;let S=`${Bt.optionButton} ${y?Bt.selected:""}`;return o&&(b?S+=` ${Bt.correct}`:y&&!b&&(S+=` ${Bt.incorrect}`)),u.jsxs("button",{className:S,onClick:()=>!a&&t(_.value),disabled:a,children:[u.jsxs("div",{className:Bt.radioCircle,children:[o&&b&&u.jsx(To,{size:14,strokeWidth:3,color:"#22c55e"}),o&&y&&!b&&u.jsx(Ao,{size:14,strokeWidth:3,color:"#ef4444"})]}),u.jsx("span",{children:_.text})]},_.id)})})};return u.jsxs("div",{className:Bt.card,children:[u.jsx("div",{className:Bt.questionText,children:s.question}),u.jsxs("div",{className:Bt.answerArea,children:[s.type===fs.MULTIPLE_CHOICE&&l(),s.type===fs.TRUE_FALSE&&d()]}),o&&s.explanation&&u.jsxs("div",{className:Bt.explanation,children:[u.jsx("strong",{children:"Aklama:"})," ",s.explanation]})]})},N7="_overlay_17gay_3",C7="_modal_17gay_23",j7="_header_17gay_41",k7="_headerTitle_17gay_55",D7="_closeButton_17gay_67",O7="_content_17gay_82",M7="_questionCounter_17gay_95",z7="_footer_17gay_109",L7="_navButtons_17gay_123",sa={overlay:N7,modal:C7,header:j7,headerTitle:k7,closeButton:D7,content:O7,questionCounter:M7,footer:z7,navButtons:L7},P7=({quiz:s,onClose:e,onQuestionUpdate:t})=>{const[a,o]=w.useState(0),[l,d]=w.useState({}),[m,g]=w.useState(!1),_=s.questions[a];if(!_)return null;const y=N=>{d(D=>({...D,[_.id]:N}))},b=()=>{a<s.questions.length-1&&o(N=>N+1)},S=()=>{a>0&&o(N=>N-1)};return u.jsx("div",{className:sa.overlay,onClick:e,children:u.jsxs("div",{className:sa.modal,onClick:N=>N.stopPropagation(),children:[u.jsxs("div",{className:sa.header,children:[u.jsxs("div",{className:sa.headerTitle,children:[s.title," ",u.jsx("span",{style:{fontSize:"14px",fontWeight:"normal",color:"#718096"},children:"(nizleme)"})]}),u.jsx("button",{className:sa.closeButton,onClick:e,children:u.jsx(Ao,{size:24})})]}),u.jsxs("div",{className:sa.content,children:[u.jsxs("div",{className:sa.questionCounter,children:["Soru ",a+1," / ",s.questions.length]}),u.jsx(By,{question:_,answer:l[_.id],onAnswerChange:y,onQuestionUpdate:N=>t?.(_.id,N),showFeedback:m})]}),u.jsxs("div",{className:sa.footer,children:[u.jsx(je,{variant:"ghost",onClick:()=>g(!m),leftIcon:u.jsx(My,{size:16}),children:m?"Cevaplar Gizle":"Cevaplar Gster"}),u.jsxs("div",{className:sa.navButtons,children:[u.jsx(je,{variant:"outline",onClick:S,disabled:a===0,leftIcon:u.jsx(IM,{size:16}),children:"nceki"}),u.jsx(je,{variant:"primary",onClick:b,disabled:a===s.questions.length-1,rightIcon:u.jsx(Ks,{size:16}),children:"Sonraki"})]})]})]})})},V7="_modalContent_1nen0_1",U7="_infoBox_1nen0_13",B7="_infoIcon_1nen0_33",q7="_infoText_1nen0_43",H7="_sectionHeader_1nen0_53",$7="_sectionTitle_1nen0_65",F7="_selectAllBtn_1nen0_83",G7="_classList_1nen0_115",Q7="_classItem_1nen0_133",K7="_selected_1nen0_169",Y7="_checkbox_1nen0_181",W7="_className_1nen0_217",X7="_modalFooter_1nen0_237",Z7="_submitBtn_1nen0_251",J7="_emptyState_1nen0_271",eq="_warningIcon_1nen0_291",tq="_closeBtn_1nen0_327",Tn={modalContent:V7,infoBox:U7,infoIcon:B7,infoText:q7,sectionHeader:H7,sectionTitle:$7,selectAllBtn:F7,classList:G7,classItem:Q7,selected:K7,checkbox:Y7,className:W7,modalFooter:X7,submitBtn:Z7,emptyState:J7,warningIcon:eq,closeBtn:tq},nq=({isOpen:s,onClose:e,onPublish:t,assignedClasses:a,quizTitle:o,isLoading:l=!1})=>{const[d,m]=w.useState([]),g=b=>{m(S=>S.includes(b)?S.filter(N=>N!==b):[...S,b])},_=()=>{d.length===a.length?m([]):m(a)},y=()=>{d.length>0&&t(d)};return!a||a.length===0?u.jsx(Mf,{isOpen:s,onClose:e,title:"Snav Yaynla",size:"md",children:u.jsxs("div",{className:Tn.emptyState,children:[u.jsx(So,{size:48,className:Tn.warningIcon}),u.jsx("h3",{children:"Snf Bulunamad"}),u.jsx("p",{children:"Snav yaynlamak iin nce dashboard zerinden snf eklemelisiniz."}),u.jsx(je,{variant:"outline",onClick:e,className:Tn.closeBtn,children:"Kapat"})]})}):u.jsx(Mf,{isOpen:s,onClose:e,title:"Snav Yaynla",size:"md",footer:u.jsxs("div",{className:Tn.modalFooter,children:[u.jsx(je,{variant:"outline",onClick:e,disabled:l,children:"Vazge"}),u.jsx(je,{variant:"primary",onClick:y,disabled:d.length===0||l,leftIcon:u.jsx(Qx,{size:18}),className:Tn.submitBtn,children:l?"Gnderiliyor...":"rencilere Gnder"})]}),children:u.jsxs("div",{className:Tn.modalContent,children:[u.jsxs("div",{className:Tn.infoBox,children:[u.jsx(zi,{size:20,className:Tn.infoIcon}),u.jsxs("div",{className:Tn.infoText,children:[u.jsx("strong",{children:o})," adl snav artk yayna hazr. rencilerin eriebilmesi iin ltfen hedef snflar sein."]})]}),u.jsxs("div",{className:Tn.sectionHeader,children:[u.jsxs("div",{className:Tn.sectionTitle,children:[u.jsx($u,{size:18}),u.jsx("span",{children:"Hedef Snflar Sein"})]}),u.jsx("button",{className:Tn.selectAllBtn,onClick:_,children:d.length===a.length?"Seimi Kaldr":"Tmn Se"})]}),u.jsx("div",{className:Tn.classList,children:a.map(b=>u.jsxs("div",{className:`${Tn.classItem} ${d.includes(b)?Tn.selected:""}`,onClick:()=>g(b),children:[u.jsx("div",{className:Tn.checkbox,children:d.includes(b)&&u.jsx(zi,{size:16})}),u.jsx("span",{className:Tn.className,children:b})]},b))})]})})},sq="_page_1m8jj_1",iq="_navRow_1m8jj_26",aq="_backLink_1m8jj_33",rq="_content_1m8jj_56",oq="_loading_1m8jj_62",lq="_error_1m8jj_63",Al={page:sq,navRow:iq,backLink:aq,content:rq,loading:oq,error:lq},pT=()=>{const{id:s}=Qu(),[e]=bR(),t=Jn(),a=e.get("sessionId"),o=wn(),l=$t(I=>I.user),d=$t(I=>I.isInitialized),{addToast:m}=Mn(),[g,_]=w.useState(null),[y,b]=w.useState(!0),[S,N]=w.useState(!1),[D,P]=w.useState(null),[j,$]=w.useState(!1),[q,H]=w.useState(!1),z=t.pathname.endsWith("/new")||!s;w.useEffect(()=>{if(!d||!l)return;(async()=>{b(!0);try{if(z){let C="Yeni Quiz";if(a)try{const k=await zf(a);k?.title&&(C=`${k.title} - Quiz`)}catch{}const L={id:"",title:C,description:"",sessionId:a||void 0,teacherId:l.id,questions:[],settings:Py,status:"draft",totalPoints:0,estimatedDuration:0,createdAt:new Date,updatedAt:new Date};_(L),b(!1)}else if(s){const C=await xr(s);if(!C){m({type:"error",title:"Hata",message:"Quiz bulunamad."}),o(_e.TEACHER.SESSIONS);return}_(C),b(!1)}}catch(C){console.error("Error loading quiz:",C),m({type:"error",title:"Hata",message:"Quiz yklenirken bir hata olutu."}),b(!1)}})()},[s,a,l,z,d,m,o]);const ie=w.useCallback(async I=>{if(l)try{if(z){const C=await Zx(l.id,{title:I.title,description:I.description,sessionId:a||void 0,questions:I.questions,settings:I.settings,classIds:I.classIds});_(C),m({type:"success",title:"Baarl",message:"Quiz oluturuldu."}),o(`/teacher/quizzes/${C.id}`,{replace:!0})}else s&&(await Pg(s,{title:I.title,description:I.description,questions:I.questions,settings:I.settings,classIds:I.classIds}),_(I),m({type:"success",title:"Baarl",message:"Quiz kaydedildi."}))}catch(C){console.error("Error saving quiz:",C),m({type:"error",title:"Hata",message:"Quiz kaydedilemedi."})}},[l,z,s,a,m,o]),he=w.useCallback(async I=>{if(!g||z||!s){m({type:"warning",title:"Uyar",message:"nce quiz'i kaydedin."});return}try{H(!0),await Pg(s,{classIds:I}),await T9(s),_(C=>C?{...C,status:"published",publishedAt:new Date,classIds:I}:null),m({type:"success",title:"Yaynland!",message:"Quiz seilen snflara gnderildi."}),$(!1)}catch(C){console.error("Error publishing quiz:",C),m({type:"error",title:"Hata",message:"Quiz yaynlanamad."})}finally{H(!1)}},[g,z,s,m]),O=w.useCallback(async()=>{if(!g||!s){m({type:"warning",title:"Uyar",message:"nce quiz'i kaydedin."});return}if(g.questions.length===0){m({type:"warning",title:"Uyar",message:"Quiz'e en az bir soru ekleyin."});return}try{await Pg(s,{status:"approved"}),_(I=>I?{...I,status:"approved"}:null),m({type:"success",title:"Onayland",message:"Quiz onayland, yaynlamaya hazr."})}catch(I){console.error("Error approving quiz:",I),m({type:"error",title:"Hata",message:"Quiz onaylanamad."})}},[g,s,m]);return!d||!l||y&&!g?u.jsx("div",{className:Al.loading,children:u.jsx(_s,{size:"lg"})}):g?u.jsxs("div",{className:Al.page,children:[u.jsx("div",{className:Al.navRow,children:u.jsxs("button",{className:Al.backLink,onClick:()=>o(-1),children:[u.jsx(Ws,{size:18})," Geri Dn"]})}),u.jsx("div",{className:Al.content,children:u.jsx(f7,{quiz:g,onSave:ie,onPublish:()=>$(!0),onApprove:O,onGenerateWithAI:()=>{},isLoading:y,onPreview:I=>{P(I),N(!0)}})}),S&&D&&u.jsx(P7,{quiz:D,onClose:()=>{N(!1),P(null)},onQuestionUpdate:(I,C)=>{_(L=>{if(!L)return null;const k=L.questions.map(U=>U.id===I?C:U);return{...L,questions:k}}),P(L=>{if(!L)return null;const k=L.questions.map(U=>U.id===I?C:U);return{...L,questions:k}})}}),j&&g&&u.jsx(nq,{isOpen:j,onClose:()=>$(!1),onPublish:he,quizTitle:g.title,assignedClasses:l?.assignedClasses||[],isLoading:q})]}):u.jsxs("div",{className:Al.error,children:[u.jsx("p",{children:"Quiz yklenemedi."}),u.jsx(je,{variant:"primary",onClick:()=>o(-1),children:"Geri Dn"})]})},cq="_page_1vt5r_3",uq="_header_1vt5r_16",dq="_title_1vt5r_23",hq="_teacherName_1vt5r_30",fq="_subtitle_1vt5r_40",mq="_contextBar_1vt5r_46",pq="_contextItem_1vt5r_61",gq="_contextLabel_1vt5r_69",_q="_quizList_1vt5r_76",yq="_quizItem_1vt5r_82",vq="_quizIcon_1vt5r_100",bq="_quizInfo_1vt5r_111",Eq="_quizTitle_1vt5r_115",Tq="_quizMeta_1vt5r_122",Sq="_badge_1vt5r_131",Aq="_badgePublished_1vt5r_141",xq="_badgeDraft_1vt5r_146",wq="_badgeApproved_1vt5r_151",Iq="_badgeDefault_1vt5r_156",Rq="_statusWrapper_1vt5r_161",Nq="_quizActions_1vt5r_168",Cq="_menuDropdown_1vt5r_174",jq="_menuItem_1vt5r_187",kq="_menuItemDanger_1vt5r_206",Dq="_menuBtn_1vt5r_224",Oq="_emptyState_1vt5r_234",Xe={page:cq,header:uq,title:dq,teacherName:hq,subtitle:fq,contextBar:mq,contextItem:pq,contextLabel:gq,quizList:_q,quizItem:yq,quizIcon:vq,quizInfo:bq,quizTitle:Eq,quizMeta:Tq,badge:Sq,badgePublished:Aq,badgeDraft:xq,badgeApproved:wq,badgeDefault:Iq,statusWrapper:Rq,quizActions:Nq,menuDropdown:Cq,menuItem:jq,menuItemDanger:kq,menuBtn:Dq,emptyState:Oq},Mq=()=>{const s=wn(),e=$t(z=>z.user),t=Mn(z=>z.addToast),[a,o]=w.useState([]),[l,d]=w.useState(!0),m=Jn(),[g,_]=w.useState("all"),[y,b]=w.useState(()=>{const ie=new URLSearchParams(m.search).get("status");return ie==="published"||ie==="closed"?ie:"all"}),[S,N]=w.useState(null),[D,P]=w.useState(null);w.useEffect(()=>{j()},[e]),w.useEffect(()=>{e?.assignedClasses?.length>0&&_("all")},[e]);const j=async()=>{if(e)try{d(!0);const z=await mm(e.id);o(z)}catch(z){console.error("Error loading exams:",z),t({type:"error",title:"Hata",message:"Snavlar yklenemedi."})}finally{d(!1)}},$=z=>{const ie=a.find(he=>he.id===z);ie&&(P({id:z,title:ie.title}),N(null))},q=async()=>{if(!D)return;const z=D.id;try{await Jx(z),o(ie=>ie.filter(he=>he.id!==z)),t({type:"success",title:"Baarl",message:"Snav silindi."})}catch(ie){console.error("Error deleting exam:",ie),t({type:"error",title:"Hata",message:"Snav silinemedi."})}finally{P(null)}},H=a.filter(z=>{const ie=!g||g==="all"||z.classId===g,he=y==="all"?z.status==="published"||z.status==="closed":z.status===y;return ie&&he});return w.useEffect(()=>{const z=()=>N(null);return document.addEventListener("click",z),()=>document.removeEventListener("click",z)},[]),u.jsxs("div",{className:Xe.page,children:[u.jsxs("div",{className:Xe.header,children:[u.jsxs("div",{className:Xe.headerTitle,children:[u.jsxs("h1",{className:Xe.title,children:["Merhaba, ",u.jsx("span",{className:Xe.teacherName,children:e?.displayName||"retmenim"})]}),u.jsx("p",{className:Xe.subtitle,children:"Yaynladnz snavlar ve sonularn buradan takip edebilirsiniz."})]}),u.jsxs("div",{className:Xe.contextBar,children:[u.jsxs("div",{className:Xe.contextItem,children:[u.jsx("label",{className:Xe.contextLabel,children:"KURUM SEN"}),u.jsx(Xs,{options:[{value:"enderun",label:"Enderun Koleji Merkez"}],value:"enderun",onChange:()=>{},icon:u.jsx(ec,{size:18})})]}),u.jsxs("div",{className:Xe.contextItem,children:[u.jsx("label",{className:Xe.contextLabel,children:"AKTF SINIF"}),u.jsx(Xs,{options:[{value:"all",label:"Tm Snflar"},...e?.assignedClasses?.map(z=>({value:z,label:z}))||[]],value:g,onChange:z=>_(z),placeholder:"Snf Sein"})]}),u.jsxs("div",{className:Xe.contextItem,children:[u.jsx("label",{className:Xe.contextLabel,children:"DURUM FLTRES"}),u.jsx(Xs,{options:[{value:"all",label:"Hepsi"},{value:"published",label:"Aktif Snavlar"},{value:"closed",label:"Sonulanan Snavlar"}],value:y,onChange:z=>b(z)})]})]})]}),l?u.jsx("div",{className:Xe.emptyState,children:u.jsx(_s,{size:"lg"})}):H.length===0?u.jsxs("div",{className:Xe.emptyState,children:[u.jsx("div",{style:{color:"var(--color-text-tertiary)",marginBottom:"16px"},children:u.jsx(cd,{size:48,strokeWidth:1})}),u.jsx("h3",{children:"Yaynda hi snav yok"}),u.jsx("p",{children:"Tamamlanan ve yaynlanan snavlarnz burada grnr."})]}):u.jsx("div",{className:Xe.quizList,children:H.map(z=>u.jsxs("div",{className:`${Xe.quizItem} ${Xe.itemPublished}`,onClick:()=>s(`${_e.TEACHER.QUIZZES}/${z.id}`),children:[u.jsx("div",{className:Xe.quizIcon,children:z.status==="published"?u.jsx(fm,{size:20}):u.jsx(zi,{size:20})}),u.jsxs("div",{className:Xe.quizInfo,children:[u.jsx("div",{className:Xe.quizTitle,children:z.title.includes("-")?z.title.split("-").slice(1).join("-").trim():z.title}),u.jsxs("div",{className:Xe.quizMeta,children:[z.subject&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:z.subject}),u.jsx("span",{children:""})]}),u.jsx("span",{children:z.createdAt?new Date(z.createdAt).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}),u.jsx("span",{children:""}),u.jsxs("span",{children:[z.questions?.length||0," Soru"]})]}),u.jsxs("div",{className:Xe.statusWrapper,children:[z.status==="draft"&&u.jsx("span",{className:`${Xe.badge} ${Xe.badgeDraft}`,children:"Onay Bekliyor"}),z.status==="approved"&&u.jsx("span",{className:`${Xe.badge} ${Xe.badgeApproved}`,children:"Yayna Hazr"}),z.status==="published"&&u.jsx("span",{className:`${Xe.badge} ${Xe.badgePublished}`,children:"Yaynland"}),z.status==="closed"&&u.jsx("span",{className:`${Xe.badge} ${Xe.badgeDefault}`,children:"Tamamland"})]})]}),u.jsx("div",{className:Xe.quizActions,onClick:ie=>ie.stopPropagation(),children:u.jsxs("div",{style:{position:"relative"},children:[u.jsx("button",{className:Xe.menuBtn,onClick:ie=>{ie.stopPropagation(),N(S===z.id?null:z.id)},children:u.jsx(Vx,{size:20})}),S===z.id&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"fixed",inset:0,zIndex:99},onClick:()=>N(null)}),u.jsxs("div",{className:Xe.menuDropdown,children:[u.jsx("button",{className:Xe.menuItem,onClick:()=>s(`${_e.TEACHER.QUIZZES}/${z.id}`),children:"Dzenle"}),u.jsx("button",{className:`${Xe.menuItem} ${Xe.menuItemDanger}`,onClick:()=>$(z.id),children:"Sil"})]})]})]})})]},z.id))}),u.jsx(Ly,{isOpen:!!D,onClose:()=>P(null),onConfirm:q,title:"Snav Sil",message:`"${D?.title}" isimli snav silmek istediinize emin misiniz? Bu ilem geri alnamaz.`,confirmText:"Snav Sil",isLoading:l})]})},aw="users",zq=async s=>{const e=zn(St,aw,s),t=await ko(e);return t.exists()?{id:t.id,...t.data()}:null},Lq=async()=>{const s=jo(ti(St,aw),pr("role","==","student"));return(await Do(s)).docs.map(t=>({id:t.id,...t.data()}))},Pq="_page_1r7ug_3",Vq="_title_1r7ug_35",Uq="_subtitle_1r7ug_43",Bq="_statValue_1r7ug_71",qq="_statLabel_1r7ug_78",Hq="_avatar_1r7ug_111",$q="_studentName_1r7ug_130",Fq="_arrow_1r7ug_166",Gq="_emptyState_1r7ug_171",at={page:Pq,title:Vq,subtitle:Uq,statValue:Bq,statLabel:qq,avatar:Hq,studentName:$q,arrow:Fq,emptyState:Gq},Qq=()=>{const{id:s}=Qu(),e=wn(),[t,a]=w.useState(null),[o,l]=w.useState([]),[d,m]=w.useState({}),[g,_]=w.useState(!0);w.useEffect(()=>{(async()=>{if(s)try{const[S,N]=await Promise.all([xr(s),tw(s)]);S&&a(S),l(N);const D=Array.from(new Set(N.map(j=>j.studentId))),P={};await Promise.all(D.map(async j=>{const $=await zq(j);$&&(P[j]=$)})),m(P)}catch(S){console.error("Failed to fetch submissions:",S)}finally{_(!1)}})()},[s]);const y=b=>b?new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"long",hour:"2-digit",minute:"2-digit"}).format(b):"-";return g?u.jsx("div",{className:at.loadingState,children:u.jsx(_s,{size:"lg"})}):t?u.jsx("div",{className:at.page,children:u.jsxs("div",{className:at.container,children:[u.jsxs("div",{className:at.pageHeader,children:[u.jsx(je,{variant:"ghost",size:"sm",leftIcon:u.jsx(Ws,{size:18}),onClick:()=>e(-1),children:"Geri"}),u.jsxs("div",{children:[u.jsxs("h1",{className:at.title,children:[t.title," - Sonular"]}),u.jsx("p",{className:at.subtitle,children:"renci katlmlar ve puanlamalar"})]})]}),u.jsxs("div",{className:at.quizStats,children:[u.jsxs("div",{className:at.statItem,children:[u.jsx("span",{className:at.statLabel,children:"Katlm"}),u.jsx("span",{className:at.statValue,children:o.length})]}),u.jsxs("div",{className:at.statItem,children:[u.jsx("span",{className:at.statLabel,children:"Ort. Puan"}),u.jsxs("span",{className:at.statValue,children:[o.length>0?Math.round(o.reduce((b,S)=>b+(S.percentage||0),0)/o.length):0,"%"]})]})]}),o.length===0?u.jsxs(hf,{className:at.emptyState,children:[u.jsx(Mx,{size:48,color:"#94a3b8"}),u.jsx("h3",{children:"Henz katlm yok"}),u.jsx("p",{children:"rencileriniz snav tamamladnda sonular burada grnecektir."})]}):u.jsx("div",{className:at.list,children:o.map(b=>{const S=d[b.studentId],N=b.status==="graded";return u.jsxs("div",{className:at.item,onClick:()=>e(`/teacher/quizzes/${t.id}/submissions/${b.id}`),children:[u.jsxs("div",{className:at.itemMain,children:[u.jsx("div",{className:at.avatar,children:u.jsx(Yx,{size:24})}),u.jsxs("div",{className:at.info,children:[u.jsx("h4",{className:at.studentName,children:S?.displayName||"Bilinmeyen renci"}),u.jsxs("div",{className:at.meta,children:[u.jsxs("span",{className:at.metaItem,children:[u.jsx(ld,{size:14}),y(b.submittedAt)]}),u.jsxs("span",{className:at.metaItem,children:[u.jsx(Jl,{size:14}),Math.floor((b.duration||0)/60)," dk ",(b.duration||0)%60," sn"]})]})]})]}),u.jsxs("div",{className:at.results,children:[u.jsx("div",{className:at.status,children:N?u.jsxs("span",{className:at.badgeGraded,children:[u.jsx(zi,{size:14})," Puanland"]}):u.jsxs("span",{className:at.badgePending,children:[u.jsx(VM,{size:14})," Bekliyor"]})}),u.jsxs("div",{className:at.score,children:[u.jsxs("span",{className:at.scoreValue,children:[b.score," / ",b.totalPoints]}),u.jsx("div",{className:at.percentageBar,children:u.jsx("div",{className:at.percentageFill,style:{width:`${b.percentage}%`,backgroundColor:b.percentage&&b.percentage>=60?"#22c55e":"#f59e0b"}})})]}),u.jsx(Ks,{size:20,className:at.arrow})]})]},b.id)})})]})}):u.jsxs("div",{className:at.errorState,children:[u.jsx("h2",{children:"Snav bulunamad."}),u.jsx(je,{onClick:()=>e(-1),children:"Geri Dn"})]})},Kq="_page_l3000_5",Yq="_header_l3000_33",Wq="_greeting_l3000_63",Xq="_teacherName_l3000_77",Zq="_subtitle_l3000_85",Jq="_contextBar_l3000_99",eH="_contextItem_l3000_135",tH="_contextLabel_l3000_151",nH="_animateFadeIn_l3000_171",sH="_gridContainer_l3000_205",iH="_classCard_l3000_245",aH="_classCardTop_l3000_317",rH="_className_l3000_331",oH="_cardIconBox_l3000_349",lH="_cardStatsRow_l3000_387",cH="_statBlock_l3000_417",uH="_statHead_l3000_483",dH="_statValue_l3000_539",hH="_scoreBadge_l3000_557",fH="_viewDetailsBtn_l3000_579",mH="_breadcrumb_l3000_629",pH="_detailHeader_l3000_645",gH="_detailTitle_l3000_743",_H="_detailSubtitle_l3000_775",yH="_headerStats_l3000_813",vH="_headerStatItem_l3000_845",bH="_hLabel_l3000_859",EH="_hValue_l3000_875",TH="_quizList_l3000_907",SH="_quizCard_l3000_919",AH="_quizIcon_l3000_973",xH="_quizContent_l3000_997",wH="_quizMainInfo_l3000_1005",IH="_quizTitle_l3000_1017",RH="_quizDate_l3000_1029",NH="_quizMeta_l3000_1045",CH="_tag_l3000_1057",jH="_quizStats_l3000_1075",kH="_qStat_l3000_1101",DH="_qLabel_l3000_1113",OH="_qValue_l3000_1127",MH="_examScoreBig_l3000_1157",zH="_tagRow_l3000_1291",LH="_dateTag_l3000_1329",PH="_scoreCircle_l3000_1355",VH="_reportGrid_l3000_1499",UH="_sectionCard_l3000_1523",BH="_cardHeader_l3000_1533",qH="_collapsibleHeader_l3000_1575",HH="_headerLeft_l3000_1595",$H="_collapsibleContent_l3000_1607",FH="_open_l3000_1621",GH="_studentTable_l3000_1639",QH="_tableHead_l3000_1647",KH="_tableRow_l3000_1697",YH="_stName_l3000_1743",WH="_stDetail_l3000_1763",XH="_avatar_l3000_1787",ZH="_stScore_l3000_1819",JH="_questionGrid_l3000_1869",e$="_qStatItem_l3000_1883",t$="_qTop_l3000_1909",n$="_qPrc_l3000_1925",s$="_qProg_l3000_1935",i$="_qFill_l3000_1951",a$="_warningBox_l3000_1965",r$="_emptyState_l3000_2003",o$="_questionsContainer_l3000_2019",l$="_questionResultCard_l3000_2033",c$="_correctCard_l3000_2049",u$="_incorrectCard_l3000_2059",d$="_qResultHeader_l3000_2069",h$="_qNumber_l3000_2083",f$="_statusCorrect_l3000_2097",m$="_statusIncorrect_l3000_2115",p$="_qText_l3000_2133",g$="_optionsList_l3000_2149",_$="_optionItem_l3000_2161",y$="_optCorrectSelected_l3000_2185",v$="_optWrongSelected_l3000_2199",b$="_optCorrectMissed_l3000_2213",E$="_optMarker_l3000_2227",te={page:Kq,header:Yq,greeting:Wq,teacherName:Xq,subtitle:Zq,contextBar:Jq,contextItem:eH,contextLabel:tH,animateFadeIn:nH,gridContainer:sH,classCard:iH,classCardTop:aH,className:rH,cardIconBox:oH,cardStatsRow:lH,statBlock:cH,statHead:uH,statValue:dH,scoreBadge:hH,viewDetailsBtn:fH,breadcrumb:mH,detailHeader:pH,detailTitle:gH,detailSubtitle:_H,headerStats:yH,headerStatItem:vH,hLabel:bH,hValue:EH,quizList:TH,quizCard:SH,quizIcon:AH,quizContent:xH,quizMainInfo:wH,quizTitle:IH,quizDate:RH,quizMeta:NH,tag:CH,quizStats:jH,qStat:kH,qLabel:DH,qValue:OH,examScoreBig:MH,tagRow:zH,dateTag:LH,scoreCircle:PH,reportGrid:VH,sectionCard:UH,cardHeader:BH,collapsibleHeader:qH,headerLeft:HH,collapsibleContent:$H,open:FH,studentTable:GH,tableHead:QH,tableRow:KH,stName:YH,stDetail:WH,avatar:XH,stScore:ZH,questionGrid:JH,qStatItem:e$,qTop:t$,qPrc:n$,qProg:s$,qFill:i$,warningBox:a$,emptyState:r$,questionsContainer:o$,questionResultCard:l$,correctCard:c$,incorrectCard:u$,qResultHeader:d$,qNumber:h$,statusCorrect:f$,statusIncorrect:m$,qText:p$,optionsList:g$,optionItem:_$,optCorrectSelected:y$,optWrongSelected:v$,optCorrectMissed:b$,optMarker:E$},T$=()=>{const s=$t(ue=>ue.user),e=Mn(ue=>ue.addToast),[t,a]=w.useState("classes"),[o,l]=w.useState(null),[d,m]=w.useState(null),[g,_]=w.useState(null),[y,b]=w.useState("all"),[S,N]=w.useState(!0),[D,P]=w.useState([]),[j,$]=w.useState([]),[q,H]=w.useState([]),[z,ie]=w.useState(!0),[he,O]=w.useState(!0),I=async()=>{if(s){N(!0);try{const[ue,we]=await Promise.all([mm(s.id),Lq()]);P(ue),H(we);const G=ue.filter(de=>de.status==="published"||de.status==="closed").map(de=>de.id).map(de=>tw(de)),se=(await Promise.all(G)).flat();$(se)}catch(ue){console.error("Error fetching reports data:",ue),e({type:"error",title:"Hata",message:"Rapor verileri yklenemedi."})}finally{N(!1)}}};w.useEffect(()=>{I()},[s,e]);const C=ue=>ue>=85?"#10B981":ue>=60?"#F59E0B":"#EF4444",L=ue=>{if(!ue)return"-";const we=ue instanceof Date?ue:ue.toDate();return new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"long",year:"numeric"}).format(we)},k=w.useMemo(()=>{const ue=s?.assignedClasses||[],we=Array.from(new Set(D.map(G=>G.classId||"Genel")));let M=ue.length>0?ue:we;return y!=="all"&&(M=M.filter(G=>G===y)),M.map(G=>{const J=G.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),se=D.filter(oe=>{const fe=oe.classId?.replace(/[^a-zA-Z0-9]/g,"").toUpperCase()||"";return(oe.classId===G||fe&&fe===J)&&(oe.status==="published"||oe.status==="closed")}),de=j.filter(oe=>{const fe=D.find(ft=>ft.id===oe.quizId),Ce=fe?.classId?.replace(/[^a-zA-Z0-9]/g,"").toUpperCase()||"";return fe?.classId===G||Ce&&Ce===J}),ye=de.length>0?Math.round(de.reduce((oe,fe)=>oe+(fe.percentage||0),0)/de.length):0,ke=q.filter(oe=>{const fe=oe,Ce=fe.classId||fe.class||"";if(Ce===G)return!0;const ft=Ce.replace(/[^a-zA-Z0-9]/g,"").toUpperCase();return ft&&ft===J}).length;return{name:G,quizCount:se.length,submissionCount:de.length,avgScore:ye,studentCount:ke}}).sort((G,J)=>J.avgScore-G.avgScore)},[s,D,j,q,y]),U=()=>u.jsxs("div",{className:te.animateFadeIn,children:[u.jsxs("div",{className:te.header,children:[u.jsxs("div",{className:te.headerTitle,children:[u.jsxs("h1",{className:te.greeting,children:["Merhaba, ",u.jsx("span",{className:te.teacherName,children:s?.displayName||"retmenim"})]}),u.jsx("p",{className:te.subtitle,children:"te bugnk durumunuz ve son aktiviteleriniz."})]}),u.jsxs("div",{className:te.contextBar,children:[u.jsxs("div",{className:te.contextItem,children:[u.jsx("label",{className:te.contextLabel,children:"KURUM SEN"}),u.jsx(Xs,{options:[{value:"enderun",label:"Enderun Koleji Merkez"}],value:"enderun",onChange:()=>{},icon:u.jsx(ec,{size:18})})]}),u.jsxs("div",{className:te.contextItem,children:[u.jsx("label",{className:te.contextLabel,children:"AKTF SINIF"}),u.jsx(Xs,{options:[{value:"all",label:"Tm Snflar"},...s?.assignedClasses?.map(ue=>({value:ue,label:ue}))||[]],value:y,onChange:ue=>b(ue),placeholder:"Snf Sein"})]})]})]}),u.jsx("div",{className:te.gridContainer,children:k.map((ue,we)=>u.jsxs("div",{className:te.classCard,onClick:()=>{l(ue.name),a("class_detail")},children:[u.jsxs("div",{className:te.classCardTop,children:[u.jsx("h3",{className:te.className,children:ue.name}),u.jsx("div",{className:te.cardIconBox,children:u.jsx($u,{size:20})})]}),u.jsxs("div",{className:te.cardStatsRow,children:[u.jsxs("div",{className:te.statBlock,children:[u.jsxs("div",{className:te.statHead,children:[u.jsx(Oy,{size:14}),u.jsx("span",{children:"GENEL ORT."})]}),u.jsx("div",{className:te.statValue,children:u.jsxs("span",{className:te.scoreBadge,style:{backgroundColor:`${C(ue.avgScore)}15`,color:C(ue.avgScore)},children:["%",ue.avgScore]})})]}),u.jsxs("div",{className:te.statBlock,children:[u.jsxs("div",{className:te.statHead,children:[u.jsx(Fz,{size:14}),u.jsx("span",{children:"MEVCUT"})]}),u.jsxs("div",{className:te.statValue,children:[ue.studentCount," r."]})]}),u.jsxs("div",{className:te.statBlock,children:[u.jsxs("div",{className:te.statHead,children:[u.jsx(E_,{size:14}),u.jsx("span",{children:"SINAV"})]}),u.jsxs("div",{className:te.statValue,children:[ue.quizCount," Adet"]})]})]}),u.jsx("button",{className:te.viewDetailsBtn,children:"DETAYLARI GRNTLE"})]},we))}),k.length===0&&u.jsx("div",{className:te.emptyState,children:u.jsx("p",{children:"Henz atanm bir snfnz veya snavnz bulunmuyor."})}),u.jsx("div",{style:{marginTop:"40px"},children:u.jsx(sw,{onDataGenerated:I})})]}),A=w.useMemo(()=>{if(!o)return null;const ue=D.filter(M=>{if(M.status!=="published"&&M.status!=="closed")return!1;const G=M.classId?.replace(/[^a-zA-Z0-9]/g,"").toUpperCase()||"",J=o.replace(/[^a-zA-Z0-9]/g,"").toUpperCase();return M.classId===o||G&&G===J?!0:j.some(de=>de.quizId===M.id&&q.find(ye=>ye.id===de.studentId)?.classId===o)}).map(M=>{const G=j.filter(se=>se.quizId===M.id),J=G.length>0?Math.round(G.reduce((se,de)=>se+(de.percentage||0),0)/G.length):0;return{...M,avgScore:J,submissionCount:G.length}}),we=ue.length>0?Math.round(ue.reduce((M,G)=>M+G.avgScore,0)/ue.length):0;return{className:o,quizzes:ue,overallAvg:we,totalSubmissions:ue.reduce((M,G)=>M+G.submissionCount,0)}},[o,D,j,q]),pe=()=>A?u.jsxs("div",{className:te.animateFadeIn,children:[u.jsx("div",{className:te.breadcrumb,children:u.jsx(je,{variant:"ghost",size:"sm",onClick:()=>a("classes"),leftIcon:u.jsx(Ws,{size:16}),children:"Snflara Dn"})}),u.jsxs("div",{className:te.detailHeader,children:[u.jsxs("div",{children:[u.jsxs("h1",{className:te.detailTitle,children:[A.className," Snf"]}),u.jsx("p",{className:te.detailSubtitle,children:"Snav bazl performans analizi"})]}),u.jsxs("div",{className:te.headerStats,children:[u.jsxs("div",{className:te.headerStatItem,children:[u.jsx("span",{className:te.hLabel,children:"Genel Baar"}),u.jsxs("span",{className:te.hValue,style:{color:C(A.overallAvg)},children:["%",A.overallAvg]})]}),u.jsxs("div",{className:te.headerStatItem,children:[u.jsx("span",{className:te.hLabel,children:"Toplam Snav"}),u.jsx("span",{className:te.hValue,children:A.quizzes.length})]})]})]}),u.jsx("div",{className:te.quizList,children:A.quizzes.length>0?A.quizzes.map(ue=>u.jsxs("div",{className:te.quizCard,onClick:()=>{m(ue.id),a("quiz_detail")},children:[u.jsx("div",{className:te.quizIcon,children:u.jsx(cd,{size:24})}),u.jsxs("div",{className:te.quizContent,children:[u.jsxs("div",{className:te.quizMainInfo,children:[u.jsx("h3",{className:te.quizTitle,children:ue.title.includes("-")?ue.title.split("-").slice(1).join("-").trim():ue.title}),u.jsxs("span",{className:te.quizDate,children:[u.jsx(ld,{size:14}),L(ue.createdAt)]})]}),u.jsx("div",{className:te.quizMeta,children:u.jsx("span",{className:te.tag,children:ue.subject})})]}),u.jsxs("div",{className:te.quizStats,children:[u.jsxs("div",{className:te.qStat,children:[u.jsx("span",{className:te.qLabel,children:"Katlm"}),u.jsx("span",{className:te.qValue,children:ue.submissionCount})]}),u.jsxs("div",{className:te.qStat,children:[u.jsx("span",{className:te.qLabel,children:"Ortalama"}),u.jsxs("div",{className:te.scoreBadge,style:{backgroundColor:`${C(ue.avgScore)}15`,color:C(ue.avgScore)},children:["%",ue.avgScore]})]}),u.jsx(Ks,{size:20,className:te.arrow})]})]},ue.id)):u.jsx("div",{className:te.emptyState,children:u.jsx("p",{children:"Bu snfa ait yaynlanm snav bulunamad."})})})]}):null,Ie=w.useMemo(()=>{if(!d)return null;const ue=D.find(de=>de.id===d),we=j.filter(de=>de.quizId===d);if(!ue)return null;const M=we.length>0?Math.round(we.reduce((de,ye)=>de+(ye.percentage||0),0)/we.length):0,G=we.map(de=>{const ye=q.find(ke=>ke.id===de.studentId);return{submission:de,studentName:ye?.displayName||"Bilinmeyen renci",score:de.percentage||0}}).sort((de,ye)=>ye.score-de.score),J=ue.questions.map((de,ye)=>{let ke=0;return we.forEach(oe=>{oe.answers.find(Ce=>Ce.questionId===de.id)?.isCorrect&&ke++}),{...de,index:ye+1,correctPercentage:we.length>0?Math.round(ke/we.length*100):0}}),se=J.filter(de=>de.correctPercentage<50);return{quiz:ue,avgScore:M,participation:we.length,studentList:G,questionAnalysis:J,lowPerformanceParams:se}},[d,D,j,q]),X=()=>{if(!Ie)return null;const{quiz:ue,avgScore:we,studentList:M,questionAnalysis:G,lowPerformanceParams:J}=Ie;return u.jsxs("div",{className:te.animateFadeIn,children:[u.jsx("div",{className:te.breadcrumb,children:u.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>a("class_detail"),leftIcon:u.jsx(Ws,{size:16}),children:[o," Snavlarna Dn"]})}),u.jsxs("div",{className:te.detailHeader,children:[u.jsxs("div",{children:[u.jsxs("div",{className:te.tagRow,children:[u.jsx("span",{className:te.tag,children:ue.subject}),u.jsx("span",{className:te.dateTag,children:L(ue.createdAt)})]}),u.jsx("h1",{className:te.detailTitle,children:ue.title.includes("-")?ue.title.split("-").slice(1).join("-").trim():ue.title})]}),u.jsxs("div",{className:te.examScoreBig,style:{color:C(we)},children:[u.jsxs("div",{className:te.scoreCircle,children:["%",we]}),u.jsx("span",{children:"Snf Ortalamas"})]})]}),u.jsxs("div",{className:te.reportGrid,children:[u.jsx("div",{className:te.colLeft,children:u.jsxs(hf,{className:te.sectionCard,children:[u.jsxs("div",{className:`${te.cardHeader} ${te.collapsibleHeader}`,onClick:()=>ie(!z),children:[u.jsxs("div",{className:te.headerLeft,children:[u.jsx($u,{size:20}),u.jsx("h3",{children:"renci Sralamas"})]}),u.jsx(Ks,{size:20,style:{transform:z?"rotate(90deg)":"none",transition:"transform 0.2s"}})]}),u.jsx("div",{className:`${te.collapsibleContent} ${z?te.open:""}`,children:u.jsxs("div",{className:te.studentTable,children:[u.jsxs("div",{className:te.tableHead,children:[u.jsx("span",{children:"renci"}),u.jsx("span",{children:"Puan"}),u.jsx("span",{children:"Detay"})]}),u.jsxs("div",{className:te.tableBody,children:[M.map((se,de)=>u.jsxs("div",{className:te.tableRow,style:{cursor:"pointer"},onClick:()=>{_(se.submission.id),a("student_detail")},children:[u.jsxs("div",{className:te.stName,children:[u.jsx("div",{className:te.avatar,children:se.studentName.charAt(0)}),se.studentName]}),u.jsx("div",{className:te.stScore,style:{color:C(se.score)},children:se.score}),u.jsx("div",{className:te.stDetail,children:u.jsx(Ks,{size:16,color:"#94a3b8"})})]},de)),M.length===0&&u.jsx("div",{className:te.emptyTable,children:"Henz katlm yok."})]})]})})]})}),u.jsx("div",{className:te.colRight,children:u.jsxs(hf,{className:te.sectionCard,children:[u.jsxs("div",{className:`${te.cardHeader} ${te.collapsibleHeader}`,onClick:()=>O(!he),children:[u.jsxs("div",{className:te.headerLeft,children:[u.jsx(Mx,{size:20}),u.jsx("h3",{children:"Soru Analizi"})]}),u.jsx(Ks,{size:20,style:{transform:he?"rotate(90deg)":"none",transition:"transform 0.2s"}})]}),u.jsxs("div",{className:`${te.collapsibleContent} ${he?te.open:""}`,children:[J.length>0&&u.jsxs("div",{className:te.warningBox,children:[u.jsx(Bx,{size:16}),u.jsxs("span",{children:[u.jsxs("strong",{children:[J.length," soru"]})," snf genelinde %50'nin altnda baar ald."]})]}),u.jsx("div",{className:te.questionGrid,children:G.map(se=>u.jsxs("div",{className:te.qStatItem,children:[u.jsxs("div",{className:te.qTop,children:[u.jsxs("span",{className:te.qIdx,children:["Soru ",se.index]}),u.jsxs("span",{className:te.qPrc,style:{color:C(se.correctPercentage)},children:["%",se.correctPercentage]})]}),u.jsx("div",{className:te.qProg,children:u.jsx("div",{className:te.qFill,style:{width:`${se.correctPercentage}%`,backgroundColor:C(se.correctPercentage)}})})]},se.id))})]})]})})]})]})},me=w.useMemo(()=>{if(!g||!d)return null;const ue=j.find(G=>G.id===g),we=D.find(G=>G.id===d),M=q.find(G=>G.id===ue?.studentId);return!ue||!we||!M?null:{quiz:we,submission:ue,student:M}},[g,d,j,D,q]),Ae=()=>{if(!me)return null;const{quiz:ue,submission:we,student:M}=me;return u.jsxs("div",{className:te.animateFadeIn,children:[u.jsx("div",{className:te.breadcrumb,children:u.jsx(je,{variant:"ghost",size:"sm",onClick:()=>a("quiz_detail"),leftIcon:u.jsx(Ws,{size:16}),children:"Genel Sonulara Dn"})}),u.jsxs("div",{className:te.detailHeader,children:[u.jsxs("div",{children:[u.jsx("h1",{className:te.detailTitle,children:M.displayName}),u.jsx("p",{className:te.detailSubtitle,children:ue.title.includes("-")?ue.title.split("-").slice(1).join("-").trim():ue.title})]}),u.jsxs("div",{className:te.examScoreBig,style:{color:C(we.percentage||0)},children:[u.jsxs("div",{className:te.scoreCircle,children:["%",we.percentage]}),u.jsx("span",{children:"renci Puan"})]})]}),u.jsx("div",{className:te.questionsContainer,children:ue.questions.map((G,J)=>{const se=we.answers.find(ye=>ye.questionId===G.id),de=se?.isCorrect;return u.jsxs(hf,{className:`${te.questionResultCard} ${de?te.correctCard:te.incorrectCard}`,children:[u.jsxs("div",{className:te.qResultHeader,children:[u.jsxs("span",{className:te.qNumber,children:["Soru ",J+1]}),de?u.jsxs("span",{className:te.statusCorrect,children:[u.jsx(Px,{size:16})," Doru"]}):u.jsxs("span",{className:te.statusIncorrect,children:[u.jsx(MM,{size:16})," Yanl"]})]}),u.jsx("div",{className:te.qText,children:G.question}),u.jsxs("div",{className:te.optionsList,children:[G.type==="multiple_choice"&&G.options.map(ye=>{const ke=se?.selectedOptionIds?.includes(ye.id),oe=ye.isCorrect;let fe=te.optionItem;return ke&&oe?fe+=` ${te.optCorrectSelected}`:ke&&!oe?fe+=` ${te.optWrongSelected}`:!ke&&oe&&(fe+=` ${te.optCorrectMissed}`),u.jsxs("div",{className:fe,children:[u.jsxs("div",{className:te.optMarker,children:[ke&&oe&&u.jsx(To,{size:14}),ke&&!oe&&u.jsx(Ao,{size:14}),!ke&&oe&&u.jsx(To,{size:14})]}),ye.text]},ye.id)}),G.type==="true_false"&&u.jsxs("div",{className:te.booleanResult,children:[u.jsx("div",{className:`${te.optionItem} ${se?.booleanAnswer===!0?de?te.optCorrectSelected:te.optWrongSelected:G.correctAnswer===!0?te.optCorrectMissed:""}`,children:"Doru"}),u.jsx("div",{className:`${te.optionItem} ${se?.booleanAnswer===!1?de?te.optCorrectSelected:te.optWrongSelected:G.correctAnswer===!1?te.optCorrectMissed:""}`,children:"Yanl"})]})]})]},G.id)})})]})};return S?u.jsx("div",{className:te.page,children:u.jsx("div",{className:te.loadingState,children:u.jsx(_s,{size:"lg"})})}):u.jsxs("div",{className:te.page,children:[t==="classes"&&U(),t==="class_detail"&&pe(),t==="quiz_detail"&&X(),t==="student_detail"&&Ae()]})},S$="_page_16pjs_1",A$="_loadingWrapper_16pjs_15",x$="_header_16pjs_31",w$="_headerTop_16pjs_39",I$="_greeting_16pjs_55",R$="_studentName_16pjs_71",N$="_subtitle_16pjs_85",C$="_vibrantPulseBtn_16pjs_97",j$="_contextBar_16pjs_231",k$="_contextItem_16pjs_251",D$="_contextLabel_16pjs_263",O$="_contextValue_16pjs_279",M$="_statsGrid_16pjs_307",z$="_statCard_16pjs_321",L$="_statIcon_16pjs_357",P$="_statContent_16pjs_381",V$="_statValue_16pjs_389",U$="_statLabel_16pjs_407",B$="_statDecor_16pjs_421",q$="_blue_16pjs_439",H$="_purple_16pjs_449",$$="_orange_16pjs_459",F$="_green_16pjs_469",G$="_contentGrid_16pjs_481",Q$="_section_16pjs_493",K$="_sectionHeader_16pjs_509",Y$="_sectionTitle_16pjs_523",W$="_seeAllBtn_16pjs_537",X$="_list_16pjs_569",Z$="_listItem_16pjs_581",J$="_itemIcon_16pjs_619",eF="_resultIcon_16pjs_643",tF="_itemInfo_16pjs_653",nF="_itemTitle_16pjs_661",sF="_itemMeta_16pjs_675",iF="_itemArrow_16pjs_693",aF="_empty_16pjs_713",Se={page:S$,loadingWrapper:A$,header:x$,headerTop:w$,greeting:I$,studentName:R$,subtitle:N$,vibrantPulseBtn:C$,contextBar:j$,contextItem:k$,contextLabel:D$,contextValue:O$,statsGrid:M$,statCard:z$,statIcon:L$,statContent:P$,statValue:V$,statLabel:U$,statDecor:B$,blue:q$,purple:H$,orange:$$,green:F$,contentGrid:G$,section:Q$,sectionHeader:K$,sectionTitle:Y$,seeAllBtn:W$,list:X$,listItem:Z$,itemIcon:J$,resultIcon:eF,itemInfo:tF,itemTitle:nF,itemMeta:sF,itemArrow:iF,empty:aF},rF=()=>{const{user:s}=$t(),e=wn(),t=s,[a,o]=w.useState([]),[l,d]=w.useState([]),[m,g]=w.useState({}),[_,y]=w.useState(!0);w.useEffect(()=>{(async()=>{if(s)try{y(!0);const[N,D]=await Promise.all([Vy(),ew(s.id)]),P=D.filter(H=>H.status==="submitted"||H.status==="graded"),j=new Set(P.map(H=>H.quizId)),$={};N.forEach(H=>$[H.id]=H);const q=Array.from(new Set(P.map(H=>H.quizId))).filter(H=>!$[H]);q.length>0&&await Promise.all(q.map(async H=>{const z=await xr(H);z&&($[H]=z)})),g($),o(N.filter(H=>!j.has(H.id))),d(P)}catch(N){console.error("Dashboard data error:",N)}finally{y(!1)}})()},[s]);const b=l.length>0?Math.round(l.reduce((S,N)=>S+(N.percentage||0),0)/l.length):0;return _?u.jsx("div",{className:Se.loadingWrapper,children:u.jsx(_s,{size:"lg"})}):u.jsxs("div",{className:Se.page,children:[u.jsxs("div",{className:Se.header,children:[u.jsxs("div",{className:Se.headerTop,children:[u.jsxs("div",{children:[u.jsxs("h1",{className:Se.greeting,children:["Merhaba, ",u.jsx("span",{className:Se.studentName,children:s?.displayName?.split(" ")[0]||"renci"})," "]}),u.jsx("p",{className:Se.subtitle,children:"Snavlarn zmeye ve baarn artrmaya hazr msn?"})]}),u.jsx("div",{className:Se.headerActions,children:u.jsx(je,{variant:"danger",className:Se.vibrantPulseBtn,onClick:()=>e(_e.STUDENT.QUIZZES),children:"SINAVLARA GT"})})]}),u.jsxs("div",{className:Se.contextBar,children:[u.jsxs("div",{className:Se.contextItem,children:[u.jsx("label",{className:Se.contextLabel,children:"KURUMUM"}),u.jsxs("div",{className:Se.contextValue,children:[u.jsx(ec,{size:16}),u.jsx("span",{children:"Enderun Koleji Merkez"})]})]}),u.jsxs("div",{className:Se.contextItem,children:[u.jsx("label",{className:Se.contextLabel,children:"SINIFIM"}),u.jsxs("div",{className:Se.contextValue,children:[u.jsx(Ux,{size:16}),u.jsx("span",{children:t?.classId||"9-A"})]})]})]})]}),u.jsxs("div",{className:Se.statsGrid,children:[u.jsxs("div",{className:`${Se.statCard} ${Se.blue}`,onClick:()=>e(_e.STUDENT.QUIZZES),children:[u.jsx("div",{className:Se.statIcon,children:u.jsx(qu,{size:24})}),u.jsxs("div",{className:Se.statContent,children:[u.jsx("span",{className:Se.statValue,children:a.length}),u.jsx("span",{className:Se.statLabel,children:"AKTF SINAV"})]}),u.jsx("div",{className:Se.statDecor,children:u.jsx(qu,{size:80})})]}),u.jsxs("div",{className:`${Se.statCard} ${Se.purple}`,onClick:()=>e(_e.STUDENT.RESULTS),children:[u.jsx("div",{className:Se.statIcon,children:u.jsx(ho,{size:24})}),u.jsxs("div",{className:Se.statContent,children:[u.jsx("span",{className:Se.statValue,children:l.length}),u.jsx("span",{className:Se.statLabel,children:"TAMAMLANAN"})]}),u.jsx("div",{className:Se.statDecor,children:u.jsx(ho,{size:80})})]}),u.jsxs("div",{className:`${Se.statCard} ${Se.orange}`,onClick:()=>e(_e.STUDENT.RESULTS),children:[u.jsx("div",{className:Se.statIcon,children:u.jsx(hT,{size:24})}),u.jsxs("div",{className:Se.statContent,children:[u.jsxs("span",{className:Se.statValue,children:["%",b]}),u.jsx("span",{className:Se.statLabel,children:"BAARI ORT."})]}),u.jsx("div",{className:Se.statDecor,children:u.jsx(hT,{size:80})})]}),u.jsxs("div",{className:`${Se.statCard} ${Se.green}`,children:[u.jsx("div",{className:Se.statIcon,children:u.jsx(Hu,{size:24})}),u.jsxs("div",{className:Se.statContent,children:[u.jsx("span",{className:Se.statValue,children:"12"}),u.jsx("span",{className:Se.statLabel,children:"SORU ZLD"})]}),u.jsx("div",{className:Se.statDecor,children:u.jsx(Hu,{size:80})})]})]}),u.jsxs("div",{className:Se.contentGrid,children:[u.jsxs("div",{className:Se.section,children:[u.jsxs("div",{className:Se.sectionHeader,children:[u.jsx("h2",{className:Se.sectionTitle,children:"Sana Atanan Snavlar"}),u.jsx("button",{className:Se.seeAllBtn,onClick:()=>e(_e.STUDENT.QUIZZES),children:"Tmn Gr"})]}),u.jsxs("div",{className:Se.list,children:[a.slice(0,3).map(S=>u.jsxs("div",{className:Se.listItem,onClick:()=>e(_e.STUDENT.QUIZ_PLAYER.replace(":id",S.id)),children:[u.jsx("div",{className:Se.itemIcon,children:u.jsx(fm,{size:20})}),u.jsxs("div",{className:Se.itemInfo,children:[u.jsx("h4",{className:Se.itemTitle,children:S.title}),u.jsxs("div",{className:Se.itemMeta,children:[u.jsxs("span",{children:[S.questions.length," Soru"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[S.estimatedDuration," Dakika"]})]})]}),u.jsx(Ks,{className:Se.itemArrow,size:20})]},S.id)),a.length===0&&u.jsx("div",{className:Se.empty,children:"Atanm yeni bir snavn yok."})]})]}),u.jsxs("div",{className:Se.section,children:[u.jsxs("div",{className:Se.sectionHeader,children:[u.jsx("h2",{className:Se.sectionTitle,children:"Son Snav Sonularn"}),u.jsx("button",{className:Se.seeAllBtn,onClick:()=>e(_e.STUDENT.RESULTS),children:"Tmn Gr"})]}),u.jsxs("div",{className:Se.list,children:[l.slice(0,3).map(S=>{const N=m[S.quizId];return u.jsxs("div",{className:Se.listItem,onClick:()=>e(_e.STUDENT.QUIZ_RESULT.replace(":id",S.id)),children:[u.jsx("div",{className:`${Se.itemIcon} ${Se.resultIcon}`,children:u.jsx(ho,{size:20})}),u.jsxs("div",{className:Se.itemInfo,children:[u.jsx("h4",{className:Se.itemTitle,children:N?.title||"Ykleniyor..."}),u.jsxs("div",{className:Se.itemMeta,children:[u.jsxs("span",{style:{color:S.percentage>=60?"#10b981":"#f59e0b",fontWeight:800},children:["%",S.percentage," Baar"]}),u.jsx("span",{children:""}),u.jsx(ld,{size:12,style:{marginRight:4}}),u.jsx("span",{children:S.submittedAt?new Date(S.submittedAt).toLocaleDateString("tr-TR"):"-"})]})]}),u.jsx(Ks,{className:Se.itemArrow,size:20})]},S.id)}),l.length===0&&u.jsx("div",{className:Se.empty,children:"Henz tamamladn bir snav yok."})]})]})]})]})},oF=({quizId:s,questions:e,timeLimit:t,onComplete:a})=>{const[o,l]=w.useState(0),[d,m]=w.useState({}),[g,_]=w.useState(t?t*60:void 0),[y,b]=w.useState(!1),[S,N]=w.useState(!1),D=`quiz_session_${s}`;w.useEffect(()=>{if(!s)return;const H=localStorage.getItem(D);if(H)try{const z=JSON.parse(H);m(z.answers||{}),l(z.currentIndex||0),z.timeRemaining&&_(z.timeRemaining)}catch(z){console.error("Failed to load quiz session",z)}N(!0)},[s]),w.useEffect(()=>{if(!S||!s||e.length===0)return;if(y){localStorage.removeItem(D);return}const H={answers:d,currentIndex:o,timeRemaining:g,updatedAt:Date.now()};localStorage.setItem(D,JSON.stringify(H))},[d,o,g,y,s,S,e.length]),w.useEffect(()=>{if(g===void 0||y||!S)return;if(g<=0){q(!0);return}const H=setInterval(()=>{_(z=>z!==void 0?z-1:void 0)},1e3);return()=>clearInterval(H)},[g,y,S]);const P=H=>{if(y)return;const z=e[o];z&&m(ie=>({...ie,[z.id]:H}))},j=()=>{o<e.length-1&&l(H=>H+1)},$=()=>{o>0&&l(H=>H-1)},q=w.useCallback(async(H=!1)=>{const z=Object.keys(d).length;if(!H&&z===0)throw new Error("Hibir soruya cevap vermediniz. Ltfen en az bir soruyu yantlayn.");try{a&&await a({quizId:s,answers:d,completedAt:new Date,timeSpent:t?t*60-(g||0):0}),localStorage.removeItem(D),b(!0)}catch(ie){throw console.error("Completion error:",ie),ie}},[d,s,t,g,a]);return{currentQuestionIndex:o,currentQuestion:e[o],answers:d,timeRemaining:g,isCompleted:y,handleAnswerChange:P,handleNext:j,handlePrevious:$,handleComplete:q,progress:(o+1)/e.length*100}},lF="_page_1eesw_1",cF="_loadingWrapper_1eesw_8",uF="_errorWrapper_1eesw_9",dF="_playerHeader_1eesw_20",hF="_headerLeft_1eesw_32",fF="_backBreadcrumb_1eesw_38",mF="_quizInfo_1eesw_58",pF="_quizTitle_1eesw_64",gF="_quizBadge_1eesw_71",_F="_headerRight_1eesw_83",yF="_timerBox_1eesw_89",vF="_progressBox_1eesw_103",bF="_progressLabel_1eesw_107",EF="_progressBar_1eesw_117",TF="_progressFill_1eesw_124",SF="_mainContent_1eesw_132",AF="_questionContainer_1eesw_139",xF="_questionCard_1eesw_147",wF="_navigation_1eesw_155",IF="_navBtn_1eesw_162",RF="_finishBtn_1eesw_173",Mt={page:lF,loadingWrapper:cF,errorWrapper:uF,playerHeader:dF,headerLeft:hF,backBreadcrumb:fF,quizInfo:mF,quizTitle:pF,quizBadge:gF,headerRight:_F,timerBox:yF,progressBox:vF,progressLabel:bF,progressBar:EF,progressFill:TF,mainContent:SF,questionContainer:AF,questionCard:xF,navigation:wF,navBtn:IF,finishBtn:RF},NF=()=>{const{id:s}=Qu(),e=wn(),{user:t}=$t(),{addToast:a}=Mn(),o=ao.useRef(!1),[l,d]=w.useState(null),[m,g]=w.useState(!0),[_,y]=w.useState(null),[b,S]=w.useState(null),[N,D]=w.useState(!1);w.useEffect(()=>{t&&(async()=>{if(!(!s||!t||o.current)){o.current=!0;try{const L=await xr(s);if(!L){y("Quiz bulunamad."),g(!1);return}const U=(await Uy(s,t.id)).find(A=>A.status==="in_progress");if(U)S(U.id);else try{const A=await S9(s,t.id);S(A.id)}catch(A){if(A.message==="Maximum attempts reached")y("Bu snav iin maksimum deneme hakknz doldurdunuz.");else throw A;g(!1);return}d(L)}catch(L){console.error("Quiz init error:",L),y("Quiz yklenirken bir hata olutu.")}finally{g(!1)}}})()},[s,t]);const{currentQuestionIndex:P,currentQuestion:j,answers:$,timeRemaining:q,handleAnswerChange:H,handleNext:z,handlePrevious:ie,handleComplete:he}=oF({quizId:s||"",questions:l?.questions||[],timeLimit:l?.settings?.timeLimit,onComplete:async C=>{if(!(!b||N)){D(!0);try{const L=Object.entries(C.answers).map(([k,U])=>{const A=l?.questions.find(Ie=>Ie.id===k);if(!A)return null;const pe={questionId:k,questionType:A.type};return A.type==="multiple_choice"?pe.selectedOptionIds=[U]:A.type==="true_false"&&(pe.booleanAnswer=U),pe}).filter(Boolean);await x9(b,L),a({type:"success",title:"Baarl",message:"Snav baaryla gnderildi."}),e(`/student/quiz/result/${b}`)}catch(L){console.error("Submission error:",L),D(!1)}}}});if(m)return u.jsxs("div",{className:Mt.loadingWrapper,children:[u.jsx(_s,{size:"lg"}),u.jsx("p",{children:"Snav hazrlanyor..."})]});if(_)return u.jsxs("div",{className:Mt.errorWrapper,children:[u.jsx("h2",{children:" Hata"}),u.jsx("p",{children:_}),u.jsx(je,{onClick:()=>e("/student"),children:"Panele Dn"})]});if(!l)return null;const O=P===l.questions.length-1,I=(P+1)/l.questions.length*100;return u.jsxs("div",{className:Mt.page,children:[u.jsxs("div",{className:Mt.playerHeader,children:[u.jsxs("div",{className:Mt.headerLeft,children:[u.jsxs("button",{className:Mt.backBreadcrumb,onClick:()=>e("/student"),children:[u.jsx(Ws,{size:16}),u.jsx("span",{children:"Geri"})]}),u.jsxs("div",{className:Mt.quizInfo,children:[u.jsx("h1",{className:Mt.quizTitle,children:l.title}),u.jsx("div",{className:Mt.quizBadge,children:l.subject})]})]}),u.jsxs("div",{className:Mt.headerRight,children:[q!==void 0&&u.jsxs("div",{className:Mt.timerBox,children:[u.jsx(Jl,{size:18}),u.jsxs("span",{children:[Math.floor(q/60),":",(q%60).toString().padStart(2,"0")]})]}),u.jsxs("div",{className:Mt.progressBox,children:[u.jsxs("div",{className:Mt.progressLabel,children:[u.jsx(tz,{size:16}),u.jsxs("span",{children:["Soru ",P+1," / ",l.questions.length]})]}),u.jsx("div",{className:Mt.progressBar,children:u.jsx("div",{className:Mt.progressFill,style:{width:`${I}%`}})})]})]})]}),u.jsx("main",{className:Mt.mainContent,children:u.jsxs("div",{className:Mt.questionContainer,children:[u.jsx("div",{className:Mt.questionCard,children:u.jsx(By,{question:j,answer:$[j.id],onAnswerChange:H,readOnly:N})}),u.jsxs("div",{className:Mt.navigation,children:[u.jsx(je,{variant:"outline",onClick:ie,disabled:P===0||N,className:Mt.navBtn,leftIcon:u.jsx(Ws,{size:18}),children:"nceki Soru"}),O?u.jsx(je,{variant:"primary",className:Mt.finishBtn,onClick:()=>{const C=l.questions.length-Object.keys($).length;if(C>0){a({type:"warning",title:"Dikkat",message:`Henz cevaplamadnz ${C} soru var. Ltfen tm sorular yantlayn.`});return}he()},isLoading:N,leftIcon:u.jsx(zi,{size:18}),children:"Snav Tamamla"}):u.jsx(je,{variant:"primary",onClick:z,disabled:N,className:Mt.navBtn,rightIcon:u.jsx(Ll,{size:18}),children:"Sonraki Soru"})]})]})})]})},CF="_page_1f5bo_1",jF="_header_1f5bo_20",kF="_title_1f5bo_24",DF="_subtitle_1f5bo_32",OF="_tabBar_1f5bo_38",MF="_tabItem_1f5bo_48",zF="_tabActive_1f5bo_68",LF="_quizList_1f5bo_74",PF="_quizItem_1f5bo_80",VF="_itemActive_1f5bo_100",UF="_quizIcon_1f5bo_105",BF="_itemCompleted_1f5bo_110",qF="_quizInfo_1f5bo_138",HF="_quizTitle_1f5bo_142",$F="_quizMeta_1f5bo_149",FF="_duration_1f5bo_158",GF="_statusWrapper_1f5bo_164",QF="_badge_1f5bo_168",KF="_badgePublished_1f5bo_178",YF="_badgeSuccess_1f5bo_186",WF="_startLink_1f5bo_194",XF="_completedLink_1f5bo_204",ZF="_actionArrow_1f5bo_219",JF="_emptyState_1f5bo_227",eG="_emptyIcon_1f5bo_236",tG="_loadingContainer_1f5bo_254",lt={page:CF,header:jF,title:kF,subtitle:DF,tabBar:OF,tabItem:MF,tabActive:zF,quizList:LF,quizItem:PF,itemActive:VF,quizIcon:UF,itemCompleted:BF,quizInfo:qF,quizTitle:HF,quizMeta:$F,duration:FF,statusWrapper:GF,badge:QF,badgePublished:KF,badgeSuccess:YF,startLink:WF,completedLink:XF,actionArrow:ZF,emptyState:JF,emptyIcon:eG,loadingContainer:tG},nG=()=>{const s=wn(),{user:e}=$t(),[t,a]=w.useState([]),[o,l]=w.useState([]),[d,m]=w.useState(!0),[g,_]=w.useState("active");w.useEffect(()=>{(async()=>{if(e)try{const[P,j]=await Promise.all([Vy(),Uy("",e.id)]),$=e?.classId,q=P.filter(H=>!H.classIds||H.classIds.length===0?!0:$&&H.classIds.includes($));a(q),l(j)}catch(P){console.error("Failed to fetch quizzes:",P)}finally{m(!1)}})()},[e]);const y=new Set(o.filter(D=>D.status==="submitted"||D.status==="graded").map(D=>D.quizId)),b=t.filter(D=>!y.has(D.id)),S=t.filter(D=>y.has(D.id)),N=g==="active"?b:S;return d?u.jsx("div",{className:lt.page,children:u.jsxs("div",{className:lt.loadingContainer,children:[u.jsx(_s,{size:"lg"}),u.jsx("p",{children:"Snavlar ykleniyor..."})]})}):u.jsxs("div",{className:lt.page,children:[u.jsx("div",{className:lt.header,children:u.jsxs("div",{className:lt.headerTitle,children:[u.jsx("h1",{className:lt.title,children:"Snavlarm"}),u.jsx("p",{className:lt.subtitle,children:"Eitim yolculuundaki tm snavlarn buradan takip edebilirsin."})]})}),u.jsxs("div",{className:lt.tabBar,children:[u.jsxs("button",{className:`${lt.tabItem} ${g==="active"?lt.tabActive:""}`,onClick:()=>_("active"),children:[u.jsx(E_,{size:20}),u.jsxs("span",{children:["Aktif Snavlar (",b.length,")"]})]}),u.jsxs("button",{className:`${lt.tabItem} ${g==="completed"?lt.tabActive:""}`,onClick:()=>_("completed"),children:[u.jsx(ho,{size:20}),u.jsxs("span",{children:["Tamamlananlar (",S.length,")"]})]})]}),N.length===0?u.jsxs("div",{className:lt.emptyState,children:[u.jsx("div",{className:lt.emptyIcon,children:g==="active"?u.jsx(qu,{size:64,strokeWidth:1}):u.jsx(ho,{size:64,strokeWidth:1})}),u.jsx("h3",{children:g==="active"?"Henz aktif bir snav yok":"Henz tamamladn bir snav yok"}),u.jsx("p",{children:g==="active"?"retmenlerin yeni snavlar yaynladnda burada grnecektir.":"zdn snavlarn sonularn bu alandan inceleyebilirsin."})]}):u.jsx("div",{className:lt.quizList,children:N.map(D=>{const P=o.find($=>$.quizId===D.id),j=P?.status==="submitted"||P?.status==="graded";return u.jsxs("div",{className:`${lt.quizItem} ${j?lt.itemCompleted:lt.itemActive}`,onClick:()=>{s(j?`/student/quiz/result/${P?.id}`:`/student/quiz/${D.id}`)},children:[u.jsx("div",{className:lt.quizIcon,children:j?u.jsx(Px,{size:24}):u.jsx(E_,{size:24})}),u.jsxs("div",{className:lt.quizInfo,children:[u.jsx("div",{className:lt.quizTitle,children:D.title}),u.jsxs("div",{className:lt.quizMeta,children:[u.jsx("span",{children:D.subject||"Genel"}),u.jsx("span",{children:""}),u.jsxs("span",{children:[D.questions.length," Soru"]}),u.jsx("span",{children:""}),u.jsxs("div",{className:lt.duration,children:[u.jsx(Jl,{size:16}),u.jsxs("span",{children:[D.estimatedDuration," dk"]})]})]}),u.jsx("div",{className:lt.statusWrapper,children:j?u.jsxs("span",{className:`${lt.badge} ${lt.badgeSuccess}`,children:["TAMAMLANDI (%",P?.percentage,")"]}):u.jsx("span",{className:`${lt.badge} ${lt.badgePublished}`,children:"YAYINDA"})})]}),u.jsx("div",{className:lt.quizActions,children:u.jsxs("div",{className:j?lt.completedLink:lt.startLink,children:[j?"Sonuca Git":"Snava Bala",u.jsx(Ks,{size:20,className:lt.actionArrow})]})})]},D.id)})})]})},sG="_page_g50p6_3",iG="_loadingWrapper_g50p6_9",aG="_errorWrapper_g50p6_10",rG="_header_g50p6_21",oG="_headerTop_g50p6_41",lG="_breadcrumbArea_g50p6_48",cG="_backBtn_g50p6_54",uG="_titleGroup_g50p6_73",dG="_title_g50p6_73",hG="_subtitle_g50p6_86",fG="_summaryGrid_g50p6_105",mG="_statsRow_g50p6_116",pG="_statItem_g50p6_122",gG="_statIcon_g50p6_143",_G="_statInfo_g50p6_154",yG="_statVal_g50p6_160",vG="_statLabel_g50p6_166",bG="_main_g50p6_112",EG="_sectionHeader_g50p6_181",TG="_questionList_g50p6_194",SG="_questionItem_g50p6_200",AG="_qCorrect_g50p6_218",xG="_qIncorrect_g50p6_222",wG="_qHeader_g50p6_226",IG="_qMeta_g50p6_233",RG="_qNum_g50p6_239",NG="_qPoints_g50p6_246",CG="_correctBadge_g50p6_255",jG="_incorrectBadge_g50p6_265",kG="_qViewerBox_g50p6_275",DG="_teacherNote_g50p6_281",OG="_footerActions_g50p6_297",MG="_vibrantBtn_g50p6_304",Ve={page:sG,loadingWrapper:iG,errorWrapper:aG,header:rG,headerTop:oG,breadcrumbArea:lG,backBtn:cG,titleGroup:uG,title:dG,subtitle:hG,summaryGrid:fG,statsRow:mG,statItem:pG,statIcon:gG,statInfo:_G,statVal:yG,statLabel:vG,main:bG,sectionHeader:EG,questionList:TG,questionItem:SG,qCorrect:AG,qIncorrect:xG,qHeader:wG,qMeta:IG,qNum:RG,qPoints:NG,correctBadge:CG,incorrectBadge:jG,qViewerBox:kG,teacherNote:DG,footerActions:OG,vibrantBtn:MG},zG=()=>{const{id:s}=Qu(),e=wn(),[t,a]=w.useState(null),[o,l]=w.useState(null),[d,m]=w.useState(!0),[g,_]=w.useState(null);w.useEffect(()=>{(async()=>{if(s)try{const j=await A9(s);if(!j){_("Sonu bulunamad."),m(!1);return}a(j);const $=await xr(j.quizId);$?l($):_("lgili snav bilgisi bulunamad.")}catch{_("Veriler yklenirken bir hata olutu.")}finally{m(!1)}})()},[s]);const y=P=>{if(!P||P===0)return"0 dk";const j=P>1e5?Math.floor(P/1e3):P,$=Math.floor(j/3600),q=Math.floor(j%3600/60),H=j%60;return $>0?`${$} sa ${q} dk`:q>0?`${q} dk`:`${H} sn`},b=P=>P.questionType==="multiple_choice"?P.selectedOptionIds?.[0]:P.questionType==="true_false"?P.booleanAnswer:null;if(d)return u.jsxs("div",{className:Ve.loadingWrapper,children:[u.jsx(_s,{size:"lg"}),u.jsx("p",{children:"Sonular hazrlanyor..."})]});if(g||!t||!o)return u.jsxs("div",{className:Ve.errorWrapper,children:[u.jsx("h2",{children:" Hata"}),u.jsx("p",{children:g||"Veriye ulalamad"}),u.jsx(je,{onClick:()=>e("/student"),children:"Panele Dn"})]});const{percentage:S=0,score:N=0,totalPoints:D}=t;return u.jsxs("div",{className:Ve.page,children:[u.jsx("div",{className:Ve.breadcrumbArea,children:u.jsxs("button",{className:Ve.backBtn,onClick:()=>e("/student"),children:[u.jsx(Ws,{size:16}),u.jsx("span",{children:"Geri Dn"})]})}),u.jsxs("header",{className:Ve.header,children:[u.jsx("div",{className:Ve.headerTop,children:u.jsxs("div",{className:Ve.titleGroup,children:[u.jsx("h1",{className:Ve.title,children:o.title}),u.jsx("p",{className:Ve.subtitle,children:"PERFORMANS ANALZ RAPORU"})]})}),u.jsx("div",{className:Ve.summaryGrid,children:u.jsxs("div",{className:Ve.statsRow,children:[u.jsxs("div",{className:Ve.statItem,children:[u.jsx(b_,{className:Ve.statIcon,size:20}),u.jsxs("div",{className:Ve.statInfo,children:[u.jsxs("span",{className:Ve.statVal,children:["%",S]}),u.jsx("span",{className:Ve.statLabel,children:"Baar"})]})]}),u.jsxs("div",{className:Ve.statItem,children:[u.jsx(Hu,{className:Ve.statIcon,size:20}),u.jsxs("div",{className:Ve.statInfo,children:[u.jsxs("span",{className:Ve.statVal,children:[N," / ",D]}),u.jsx("span",{className:Ve.statLabel,children:"Toplam Puan"})]})]}),u.jsxs("div",{className:Ve.statItem,children:[u.jsx(Jl,{className:Ve.statIcon,size:20}),u.jsxs("div",{className:Ve.statInfo,children:[u.jsx("span",{className:Ve.statVal,children:y(t.duration)}),u.jsx("span",{className:Ve.statLabel,children:"Sre"})]})]}),u.jsxs("div",{className:Ve.statItem,children:[u.jsx(Fx,{className:Ve.statIcon,size:20}),u.jsxs("div",{className:Ve.statInfo,children:[u.jsxs("span",{className:Ve.statVal,children:[t.attemptNumber,"."]}),u.jsx("span",{className:Ve.statLabel,children:"Deneme"})]})]})]})})]}),u.jsxs("main",{className:Ve.main,children:[u.jsxs("div",{className:Ve.sectionHeader,children:[u.jsx(Oy,{size:20}),u.jsx("h2",{children:"Soru Detaylar ve Yantlar"})]}),u.jsx("div",{className:Ve.questionList,children:o.questions.map((P,j)=>{const $=t.answers.find(H=>H.questionId===P.id),q=$?.isCorrect;return u.jsxs("div",{className:`${Ve.questionItem} ${q?Ve.qCorrect:Ve.qIncorrect}`,children:[u.jsxs("div",{className:Ve.qHeader,children:[u.jsxs("div",{className:Ve.qMeta,children:[u.jsxs("span",{className:Ve.qNum,children:["SORU ",j+1]}),u.jsxs("span",{className:Ve.qPoints,children:[P.points," Puan"]})]}),u.jsx("div",{className:Ve.statusBadge,children:q?u.jsxs("div",{className:Ve.correctBadge,children:[u.jsx(To,{size:14})," DORU"]}):u.jsxs("div",{className:Ve.incorrectBadge,children:[u.jsx(Ao,{size:14})," YANLI"]})})]}),u.jsx("div",{className:Ve.qViewerBox,children:u.jsx(By,{question:P,answer:$?b($):null,onAnswerChange:()=>{},readOnly:!0,showFeedback:!0})}),$?.feedback&&u.jsxs("div",{className:Ve.teacherNote,children:[u.jsx(b_,{size:16}),u.jsxs("p",{children:[u.jsx("strong",{children:"Deerlendirme Notu:"})," ",$.feedback]})]})]},P.id)})}),u.jsxs("div",{className:Ve.footerActions,children:[u.jsx(je,{variant:"ghost",onClick:()=>e("/student/results"),leftIcon:u.jsx(Ks,{size:18}),children:"Tm Gemii Grntle"}),u.jsx(je,{variant:"primary",className:Ve.vibrantBtn,onClick:()=>e("/student"),children:"Panele Dn"})]})]})]})},LG="_page_18us4_3",PG="_loadingWrapper_18us4_23",VG="_breadcrumb_18us4_31",UG="_backBtn_18us4_35",BG="_header_18us4_56",qG="_title_18us4_64",HG="_subtitle_18us4_72",$G="_statsSummary_18us4_78",FG="_statBox_18us4_83",GG="_statIcon_18us4_94",QG="_statData_18us4_105",KG="_statVal_18us4_110",YG="_statLbl_18us4_117",WG="_filterBar_18us4_127",XG="_searchBox_18us4_133",ZG="_filterBtn_18us4_165",JG="_list_18us4_185",eQ="_resultItem_18us4_191",tQ="_resultMain_18us4_209",nQ="_itemIcon_18us4_215",sQ="_itemTitle_18us4_230",iQ="_itemMeta_18us4_237",aQ="_metaItem_18us4_243",rQ="_subjectTag_18us4_252",oQ="_resultRight_18us4_262",lQ="_scoreGroup_18us4_268",cQ="_scorePoints_18us4_275",uQ="_percentageBadge_18us4_281",dQ="_actionIcon_18us4_289",hQ="_empty_18us4_299",fQ="_vibrantBtn_18us4_317",Ke={page:LG,loadingWrapper:PG,breadcrumb:VG,backBtn:UG,header:BG,title:qG,subtitle:HG,statsSummary:$G,statBox:FG,statIcon:GG,statData:QG,statVal:KG,statLbl:YG,filterBar:WG,searchBox:XG,filterBtn:ZG,list:JG,resultItem:eQ,resultMain:tQ,itemIcon:nQ,itemTitle:sQ,itemMeta:iQ,metaItem:aQ,subjectTag:rQ,resultRight:oQ,scoreGroup:lQ,scorePoints:cQ,percentageBadge:uQ,actionIcon:dQ,empty:hQ,vibrantBtn:fQ},mQ=()=>{const{user:s}=$t(),e=wn(),[t,a]=w.useState([]),[o,l]=w.useState({}),[d,m]=w.useState(!0);w.useEffect(()=>{(async()=>{if(s)try{const b=(await ew(s.id)).filter(D=>D.status==="submitted"||D.status==="graded");a(b);const S=Array.from(new Set(b.map(D=>D.quizId))),N={};await Promise.all(S.map(async D=>{const P=await xr(D);P&&(N[D]=P)})),l(N)}catch(y){console.error("Failed to fetch results:",y)}finally{m(!1)}})()},[s]);const g=t.length>0?Math.round(t.reduce((_,y)=>_+(y.percentage||0),0)/t.length):0;return d?u.jsx("div",{className:Ke.loadingWrapper,children:u.jsx(_s,{size:"lg"})}):u.jsxs("div",{className:Ke.page,children:[u.jsx("div",{className:Ke.breadcrumb,children:u.jsxs("button",{className:Ke.backBtn,onClick:()=>e("/student"),children:[u.jsx(Ws,{size:18}),u.jsx("span",{children:"Panele Dn"})]})}),u.jsxs("div",{className:Ke.header,children:[u.jsxs("div",{className:Ke.headerInfo,children:[u.jsx("h1",{className:Ke.title,children:"Baar Gemiim"}),u.jsx("p",{className:Ke.subtitle,children:"zdn tm snavlarn detayl analizleri burada."})]}),u.jsxs("div",{className:Ke.statsSummary,children:[u.jsxs("div",{className:Ke.statBox,children:[u.jsx("div",{className:Ke.statIcon,children:u.jsx(ho,{size:18})}),u.jsxs("div",{className:Ke.statData,children:[u.jsx("span",{className:Ke.statVal,children:t.length}),u.jsx("span",{className:Ke.statLbl,children:"SINAV"})]})]}),u.jsxs("div",{className:Ke.statBox,children:[u.jsx("div",{className:Ke.statIcon,children:u.jsx(Oy,{size:18})}),u.jsxs("div",{className:Ke.statData,children:[u.jsxs("span",{className:Ke.statVal,children:["%",g]}),u.jsx("span",{className:Ke.statLbl,children:"ORTALAMA"})]})]})]})]}),u.jsxs("div",{className:Ke.filterBar,children:[u.jsxs("div",{className:Ke.searchBox,children:[u.jsx(wz,{size:18}),u.jsx("input",{type:"text",placeholder:"Snav ad ara..."})]}),u.jsxs("div",{className:Ke.filterBtn,children:[u.jsx(QM,{size:18}),u.jsx("span",{children:"Filtrele"})]})]}),u.jsxs("div",{className:Ke.list,children:[t.map(_=>{const y=o[_.quizId],b=_.percentage>=85?"#10b981":_.percentage>=60?"#f59e0b":"#ef4444";return u.jsxs("div",{className:Ke.resultItem,onClick:()=>e(`/student/quiz/result/${_.id}`),children:[u.jsxs("div",{className:Ke.resultMain,children:[u.jsx("div",{className:Ke.itemIcon,style:{color:b},children:u.jsx(b_,{size:24})}),u.jsxs("div",{className:Ke.itemContent,children:[u.jsx("h3",{className:Ke.itemTitle,children:y?.title||"Snav Sonucu"}),u.jsxs("div",{className:Ke.itemMeta,children:[u.jsxs("div",{className:Ke.metaItem,children:[u.jsx(ld,{size:14}),u.jsx("span",{children:_.submittedAt?new Date(_.submittedAt).toLocaleDateString("tr-TR"):"-"})]}),u.jsx("div",{className:Ke.metaItem,children:u.jsx("span",{className:Ke.subjectTag,children:y?.subject||"Genel"})})]})]})]}),u.jsxs("div",{className:Ke.resultRight,children:[u.jsxs("div",{className:Ke.scoreGroup,children:[u.jsxs("span",{className:Ke.scorePoints,children:[_.score," / ",_.totalPoints]}),u.jsxs("div",{className:Ke.percentageBadge,style:{backgroundColor:`${b}15`,color:b},children:["%",_.percentage]})]}),u.jsx("div",{className:Ke.actionIcon,children:u.jsx(Ks,{size:20})})]})]},_.id)}),t.length===0&&u.jsxs("div",{className:Ke.empty,children:[u.jsx(ho,{size:48,strokeWidth:1}),u.jsx("h3",{children:"Henz bir snav sonucun yok"}),u.jsx("p",{children:"Snavlar zdkten sonra baar analizlerini burada grebilirsin."}),u.jsx(je,{variant:"primary",className:Ke.vibrantBtn,onClick:()=>e("/student/quizzes"),children:"Snavlar zmeye Bala"})]})]})]})},Ug=({title:s})=>u.jsxs("div",{style:{padding:"2rem"},children:[u.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:600},children:s}),u.jsx("p",{style:{color:"#64748b",marginTop:"0.5rem"},children:"Bu sayfa yaknda eklenecek."})]}),pQ=()=>{const{setFirebaseUser:s,setUser:e,setLoading:t,setInitialized:a}=$t();return w.useEffect(()=>{const o=lj(um,async l=>{if(s(l),l)try{const d=await ko(zn(St,"users",l.uid));d.exists()&&e({id:d.id,...d.data()})}catch(d){console.error("Error fetching user:",d)}else e(null);t(!1),a(!0)});return()=>o()},[s,e,t,a]),u.jsxs(gR,{children:[u.jsxs(FI,{children:[u.jsx(zt,{path:_e.LOGIN,element:u.jsx(m9,{})}),u.jsx(zt,{path:_e.HOME,element:u.jsx(mf,{to:_e.LOGIN,replace:!0})}),u.jsx(zt,{path:_e.REGISTER,element:u.jsx(Ug,{title:"Kayt Ol"})}),u.jsx(zt,{path:_e.FORGOT_PASSWORD,element:u.jsx(Ug,{title:"ifremi Unuttum"})}),u.jsxs(zt,{element:u.jsx(jn,{children:u.jsx(KL,{})}),children:[u.jsx(zt,{path:_e.TEACHER.DASHBOARD,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(LP,{})})}),u.jsx(zt,{path:_e.TEACHER.SESSIONS,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(_V,{})})}),u.jsx(zt,{path:_e.TEACHER.NEW_SESSION,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(xU,{})})}),u.jsx(zt,{path:_e.TEACHER.SESSION_DETAIL,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(RB,{})})}),u.jsx(zt,{path:_e.TEACHER.QUIZZES,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(Mq,{})})}),u.jsx(zt,{path:_e.TEACHER.NEW_QUIZ,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(pT,{})})}),u.jsx(zt,{path:_e.TEACHER.QUIZ_EDIT,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(pT,{})})}),u.jsx(zt,{path:_e.TEACHER.QUIZ_RESULTS,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(Qq,{})})}),u.jsx(zt,{path:_e.TEACHER.REPORTS,element:u.jsx(jn,{allowedRoles:["teacher"],children:u.jsx(T$,{})})}),u.jsx(zt,{path:_e.STUDENT.DASHBOARD,element:u.jsx(jn,{allowedRoles:["student"],children:u.jsx(rF,{})})}),u.jsx(zt,{path:_e.STUDENT.QUIZZES,element:u.jsx(jn,{allowedRoles:["student"],children:u.jsx(nG,{})})}),u.jsx(zt,{path:_e.STUDENT.QUIZ_PLAYER,element:u.jsx(jn,{allowedRoles:["student"],children:u.jsx(NF,{})})}),u.jsx(zt,{path:_e.STUDENT.QUIZ_RESULT,element:u.jsx(jn,{allowedRoles:["student"],children:u.jsx(zG,{})})}),u.jsx(zt,{path:_e.STUDENT.RESULTS,element:u.jsx(jn,{allowedRoles:["student"],children:u.jsx(mQ,{})})}),u.jsx(zt,{path:_e.ADMIN.DASHBOARD,element:u.jsx(jn,{allowedRoles:["admin"],children:u.jsx(Ug,{title:"Ynetici Paneli"})})})]}),u.jsx(zt,{path:"*",element:u.jsx(mf,{to:_e.LOGIN,replace:!0})})]}),u.jsx(Y5,{})]})};F2.createRoot(document.getElementById("root")).render(u.jsx(ao.StrictMode,{children:u.jsx(pQ,{})}));
